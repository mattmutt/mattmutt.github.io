(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{"+TDg":function(e,t,n){"use strict";n.d(t,"a",function(){return l}),n.d(t,"b",function(){return o});var l=function(e){return e[e.internal=0]="internal",e}({});function o(e,t){return e[t].toString()}},"/Di6":function(e,t,n){"use strict";n.d(t,"a",function(){return a});var l=n("8Y7J"),o=n("XNiG"),i=(n("rdDZ"),n("JH+Q")),r=(n("t6Ba"),n("ztb3"));n("w68P"),n("GFNj");const s={width:["paddingLeft","paddingRight"],height:["paddingTop","paddingBottom"]};class a{constructor(e,t,n,o,i,r){this.accessibilityProvider=e,this.service=t,this._element=n,this._cd=o,this._renderer=i,this.viewContainer=r,this.isHeaderVisible=!1,this.firstCardLeaveEvent$=new l.m,this.lastCardLeaveEvent$=new l.m,this.cardBodyFocusEvent$=new l.m,this.contentBoxSizing=!0,this.cardActivated=!1,this.cardBodyFocus=!1,this.cardBodyPrompt=!1,this.cardMoving=!1,this.isLayoutItemCard=!0,this.keyboardTabPermission={activated:{move:!1,bodyFocusable:!0}},this.messageDeliverySubjectMap=new Map,this.subscriptionList=[]}get layoutItemContainerElement(){return{nativeElement:this._renderer.parentNode(this._element.nativeElement)}}get cardComponentClass(){return this.service.deriveRenderViewComponent(this.card)}get cardInjector(){return this.producedInjector}get cardAssemblyPlugin(){return this.cardAssemblyPluginInstance}set cardAssemblyPlugin(e){this.cardAssemblyPluginInstance=e,this.subscriptionList.push(e.accessibilityTransitionCardEvent.subscribe(e=>this.cardAssemblyPluginAccessibilityEvent(e)))}get cardAccessibilityIndex(){return this.parentFocused&&!this.outletsCardBodyFocused?this.uniqueInstancePriority+(this.layoutSequence+1):-1}ngOnInit(){this.configureLayout(),this.produceCardInjector(),this.cardResourceId=this.card.resourceId,this.cardComponentType=this.card.component,this.setupAccessibility()}ngOnChanges(e){e.gridTransitionDuration&&this.gridTransitionDuration>0&&this.accessibilityProvider.setTransitionDuration(this.gridTransitionDuration)}ngAfterViewInit(){}ngAfterContentInit(){}ngOnDestroy(){this.subscriptionList.forEach(e=>e.unsubscribe()),this.messageDeliverySubjectMap.forEach(e=>{e.complete(),e.unsubscribe()}),this.messageDeliverySubjectMap.clear()}sumSectionsWidthExcept(e){return this._sumSectionsBcrPropertyExcept(e,"width")}sumSectionsHeightExcept(e){return this._sumSectionsBcrPropertyExcept(e,"height")}provisionMessageDeliveryTopic(e){let t=this.messageDeliverySubjectMap.get(e);return t||(t=new o.a,this.messageDeliverySubjectMap.set(e,t)),t}setOutletChildrenList(e){this.outletChildrenQueryList=e}broadcastMessageDeliveryTopic(e,t){if(this.outletChildrenQueryList){const n=this.outletChildrenQueryList.filter(t=>t!==this&&t.messageDeliverySubjectMap.has(e));return n.forEach(n=>n.messageDeliverySubjectMap.get(e).next(t)),n.length}return 0}deleteMessageDeliveryTopic(e){const t=this.messageDeliverySubjectMap.get(e);return t&&!t.closed&&t.complete(),!!t&&this.messageDeliverySubjectMap.delete(e)}focus(){this.focusableElement.nativeElement.focus({preventScroll:!0})}accessibilityForwardSinkEvent(e){this.cardActivated?(this.accessibilityProvider.onActivatedCardNavigateForward(this.focusableElement,this.cardBodyElement,this.cardAssemblyPluginInstance,this.keyboardTabPermission,e),this.blockEvent(e)):this.layoutSequence===this.layoutSize-1&&(this.cardBodyFocus||this.lastCardLeaveEvent$.emit(e))}accessibilityBackwardSinkEvent(e){this.cardActivated?(this.accessibilityProvider.onActivatedCardNavigateBackward(this.focusableElement,this.cardBodyElement,this.cardAssemblyPluginInstance,this.keyboardTabPermission,e),this.blockEvent(e)):0===this.layoutSequence&&(this.cardBodyFocus||this.firstCardLeaveEvent$.emit(e))}accessibilityCancelSinkEvent(e){this.cardActivated&&(this.accessibilityProvider.onCardTransactionCancel(this.focusableElement,this.cardBodyElement,this.cardAssemblyPluginInstance,e),this.blockEvent(e))}signalStartPrompting(e){this.cardAssemblyPluginInstance.accessibilityTransitionCardEvent.next({event:e,transition:r.a.prompt})}signalStopPrompting(e){this.cardAssemblyPluginInstance.accessibilityTransitionCardEvent.next({event:e,transition:r.a.prompt})}leaveCardAspect(e){this.accessibilityProvider.onCardTransactionCancel(this.focusableElement,this.cardBodyElement,this.cardAssemblyPluginInstance,e),this.blockEvent(e),this.focus()}accessibilityFocusSinkEvent(e){this.accessibilityProvider.onCardAspectFocus(this.focusableElement,this.cardBodyElement,this.cardAssemblyPluginInstance,this.keyboardTabPermission,this.cardBodyAccessibilityTrapBoundaryList,e)}accessibilityBlurSinkEvent(e){this.accessibilityProvider.onCardAspectBlur(this.focusableElement,this.cardBodyElement,this.cardAssemblyPluginInstance,this.keyboardTabPermission,this.cardBodyAccessibilityTrapBoundaryList,e)}activateEnumeratedClass(e,t,n){Object.keys(n).map(e=>n[e]).filter(e=>e!==t).forEach(t=>this._renderer.removeClass(e.nativeElement,t)),this._renderer.addClass(e.nativeElement,n[t])}forceViewRelayout(){this._cd.detectChanges()}cardAssemblyPluginAccessibilityEvent(e){switch(this.cardBodyPrompt=!1,e.transition){case r.a.prompt:e.event instanceof FocusEvent&&(this.cardBodyPrompt="focus"===e.event.type);break;case r.a.enter:break;case r.a.leave:e.event instanceof KeyboardEvent&&(this.accessibilityProvider.onCardTransactionCancel(this.focusableElement,this.cardBodyElement,this.cardAssemblyPluginInstance,e.event),this.blockEvent(e.event),this.focus())}}blockEvent(e){e.stopPropagation(),e.preventDefault()}setupAccessibility(){this.uniqueInstancePriority=this.gridItemController.gridster.instanceCount+1e3,this.accessibilityProvider.setGridItemController(this.gridItemController),this.accessibilityProvider.setTargetElementRef(this._element),this.subscriptionList.push(this.accessibilityProvider.onCardMovingChange$().subscribe(e=>this.cardMoving=e),this.accessibilityProvider.onCardActivatedChange$().subscribe(e=>this.cardActivated=e),this.accessibilityProvider.onCardBodyFocusChange$().subscribe(e=>(this.cardBodyFocus=e,this.cardBodyFocusEvent$.emit(this))))}deriveChildCardInjectorValue(){return{row:this.rowIndex,column:this.columnIndex,card:this.card,outlet:this}}_sumSectionsBcrPropertyExcept(e,t){const n=[...this.sectionContainersList.toArray()],l=[...this.sectionContainersList.toArray()].filter(t=>e.map(e=>this._renderer.parentNode(e.nativeElement)).indexOf(t.nativeElement)<0);return n.filter(t=>0===e.map(e=>this._renderer.parentNode(e.nativeElement)).indexOf(t.nativeElement)).reduce((e,n)=>{if(window){const l=window.getComputedStyle(n.nativeElement);return e+s[t].reduce((e,t)=>parseInt(l[t],0)+e,10)}return 0},0)+0+l.reduce((e,n)=>e+n.nativeElement.getBoundingClientRect()[t],0)}produceCardInjector(){this.producedInjector=l.s.create({providers:[{provide:i.a,useValue:this.deriveChildCardInjectorValue()}],parent:this.viewContainer.injector})}configureLayout(){}}},"00TL":function(e){e.exports={id:"project1-catalog",label:"Sample Team's Catalog - Project 1",resources:[{id:"deck3",label:"Simple nodeflow",sourceFile:"deck3.json",encodingType:"card",interaction:{selected:!1}},{id:"deck4",label:"Advanced nodeflow",sourceFile:"deck4.json",encodingType:"card",interaction:{selected:!1}}],references:{projectItemId:"generic-nodeflow-project-1"}}},"1BrQ":function(e){e.exports={id:"deck3",cards:[{id:"my-simple-plugin1",component:"card-metrics-billboard",header:{title:"Animal Store",icon:"social-treehouse"},layout:{x:0,y:0,width:4,height:1},services:[{network:{url:"/network/vendors/extension/{{ route.dashboardOrganizerPath }}/plugins/{{ route.dashboardConfigurationIdentifier }}/cards/{{ document.id }}/data/summary.json"}}],templates:[{body:{organization:"project2",template:"metricsBillboardProgressWidget"}}]},{id:"my-simple-embed",component:"card-remote-served",header:{title:"Remote App",icon:"lightbulb"},layout:{x:0,y:1,width:1,height:3},services:[{"remote-served-service":{url:"/network/vendors/extension/{{ route.dashboardOrganizerPath }}/plugins/{{ route.dashboardConfigurationIdentifier }}/cards/{{ document.id }}/view/embed.html"}}],templates:[]},{id:"my-simple-introduction",component:"card-introduction",header:{title:"Simple Introduction",icon:"book-bookmark"},layout:{x:1,y:1,width:1,height:2},providers:{introduction:{assetTypeId:"1",channelTopic:"card-introduction-chat123"}},services:[{network:{url:"/network/vendors/extension/{{ route.dashboardOrganizerPath }}/plugins/{{ route.dashboardConfigurationIdentifier }}/cards/{{ document.id }}/data/introduction-model.json"}}],templates:[{body:{organization:"custom_sample",template:"introductionView"}}]},{id:"my-advanced-introduction",component:"card-introduction",header:{title:"Yet Another Introduction",icon:"mountain"},layout:{x:1,y:3,width:2,height:2},providers:{introduction:{assetTypeId:"2",channelTopic:"card-introduction-chat123"}},services:[{network:{url:"/network/vendors/extension/{{ route.dashboardOrganizerPath }}/plugins/{{ route.dashboardConfigurationIdentifier }}/cards/{{ document.id }}/data/introduction-model.json"}}],templates:[{body:{organization:"custom_sample",template:"introductionView"}}]},{id:"earth-satellite",component:"card-remote-served",header:{title:"Satellite - USA",icon:"map"},layout:{x:2,y:1,width:2,height:2},services:[{"remote-served-service":{url:"https://cdn.star.nesdis.noaa.gov/GOES16/ABI/CONUS/GEOCOLOR/625x375.jpg"}}],templates:[]}]}},"1qRs":function(e,t,n){"use strict";class l{constructor(e,t){this.classification=e,this.description=t,e||console.error("invalid or unbound classification",t)}}class o{constructor(e,t){this.identifier=e,this.description=t}}n.d(t,"a",function(){return l}),n.d(t,"b",function(){return o})},"1qcj":function(e,t,n){"use strict";n("/Di6"),n("GFNj")},"31G0":function(e,t,n){"use strict";n.d(t,"a",function(){return h});var l=n("XNiG"),o=n("cp0P"),i=n("LRne"),r=n("62Do"),s=n("A7mB"),a=n("w1tV"),u=n("UGPC");class c extends r.c{}class d extends r.a{}class h{constructor(e){this.configurationFacade=e,this.awaitingConsumeSubject=new l.a,this.awaitingConsumeTopic=this.awaitingConsumeSubject.asObservable().pipe(Object(a.a)()),this.awaitingConsumeSubject.next(!0)}processingState(e){this.awaitingConsumeSubject.next(!1);const t=new l.a,n=t.asObservable(),r=this.factoryDashboardAssemblyExtensibilityFacade(this.configurationFacade.platformCommunicatorService,this.configurationFacade.directoryService,e),s=[];for(const l of Object.keys(e.resources))this.createResourceBinding(l,e.resources,()=>new c(r),r.resources,s);return s.length>0?(Object(o.a)(s).subscribe(n=>{e.resources=r.resources,t.next(!0),t.complete(),this.awaitingConsumeSubject.next(!0)},e=>{console.error("fail:",e),t.error(e),t.complete(),this.awaitingConsumeSubject.next(!0)}),n):(this.awaitingConsumeSubject.next(!0),Object(i.a)(!1))}factoryDashboardAssemblyExtensibilityFacade(e,t,n){const l=new d(this.configurationFacade.platformCommunicatorService,this.configurationFacade.directoryService);return l.id=n.id,l}createResourceBinding(e,t,n,l,o){const r=t[e];if(Array.isArray(r)&&r[0])for(const s of r)if(s.resourceId){const t=n();l[e].push(t),t.resourceId=s.resourceId,t.name=s.name,t.type=s.type,t.component=s.component;const r=s.resolver,a=this.createResolverFacade(r,t);if(r&&a){t.resolver=a,t.resolver.inject(r.injector);const e=t.resolver.metadata.isInvoked?t.resolver.resolving():Object(i.a)(null,u.AsapScheduler);o.push(e)}}}createResolverFacade(e,t){let n;return Object.keys(s.a).some(l=>!!e.hasOwnProperty(l)&&(n=new(0,s.a[l])(t,e[l]),!0)),n}}},"3E0/":function(e,t,n){"use strict";var l=n("D0XW"),o=n("7o/Q"),i=n("WMd4");function r(e,t=l.a){var n;const o=(n=e)instanceof Date&&!isNaN(+n)?+e-t.now():Math.abs(e);return e=>e.lift(new s(o,t))}n.d(t,"a",function(){return r});class s{constructor(e,t){this.delay=e,this.scheduler=t}call(e,t){return t.subscribe(new a(e,this.delay,this.scheduler))}}class a extends o.a{constructor(e,t,n){super(e),this.delay=t,this.scheduler=n,this.queue=[],this.active=!1,this.errored=!1}static dispatch(e){const t=e.source,n=t.queue,l=e.scheduler,o=e.destination;for(;n.length>0&&n[0].time-l.now()<=0;)n.shift().notification.observe(o);if(n.length>0){const t=Math.max(0,n[0].time-l.now());this.schedule(e,t)}else this.unsubscribe(),t.active=!1}_schedule(e){this.active=!0,this.destination.add(e.schedule(a.dispatch,this.delay,{source:this,destination:this.destination,scheduler:e}))}scheduleNotification(e){if(!0===this.errored)return;const t=this.scheduler,n=new u(t.now()+this.delay,e);this.queue.push(n),!1===this.active&&this._schedule(t)}_next(e){this.scheduleNotification(i.a.createNext(e))}_error(e){this.errored=!0,this.queue=[],this.destination.error(e),this.unsubscribe()}_complete(){this.scheduleNotification(i.a.createComplete()),this.unsubscribe()}}class u{constructor(e,t){this.time=e,this.notification=t}}},"595X":function(e,t,n){"use strict";n.d(t,"a",function(){return l});class l{static merge(e,t,n){for(const o in t)t.hasOwnProperty(o)&&n.hasOwnProperty(o)&&(e[o]="object"==typeof t[o]?l.merge(e[o],t[o],n[o]):t[o]);return e}static debounce(e,t){let n;return function(){const l=this,o=arguments,i=function(){n=null,e.apply(l,o)};clearTimeout(n),n=setTimeout(i,t)}}static checkTouchEvent(e){void 0===e.clientX&&e.touches&&(e.touches&&e.touches.length?(e.clientX=e.touches[0].clientX,e.clientY=e.touches[0].clientY):e.changedTouches&&e.changedTouches.length&&(e.clientX=e.changedTouches[0].clientX,e.clientY=e.changedTouches[0].clientY))}static checkContentClassForEvent(e,t){if(e.$options.draggable.ignoreContent){if(!l.checkContentClass(t.target,t.currentTarget,e.$options.draggable.dragHandleClass))return!0}else if(l.checkContentClass(t.target,t.currentTarget,e.$options.draggable.ignoreContentClass))return!0;return!1}static checkContentClassForEmptyCellClickEvent(e,t){return l.checkContentClass(t.target,t.currentTarget,e.$options.draggable.ignoreContentClass)||l.checkContentClass(t.target,t.currentTarget,e.$options.draggable.dragHandleClass)}static checkContentClass(e,t,n){return e!==t&&(!!(e.hasAttribute("class")&&e.getAttribute("class").split(" ").indexOf(n)>-1)||l.checkContentClass(e.parentNode,t,n))}static compareItems(e,t){return e.y>t.y?-1:e.y<t.y?1:e.x>t.x?-1:1}}},"62Do":function(e,t,n){"use strict";n.d(t,"a",function(){return r}),n.d(t,"c",function(){return s}),n.d(t,"b",function(){return a});var l=n("LRne"),o=n("lJxs"),i=n("UGPC");class r{constructor(e,t){this.platformCommunicatorService=e,this.directoryService=t,this.resources={componentsList:[],modulesList:[],viewsList:[]}}findConfigurationResourceByType(e,t){return this.selectFirstConfigurationResource("type",e,t)}findConfigurationResourceByResourceId(e,t){return this.selectFirstConfigurationResource("resourceId",e,t)}selectFirstConfigurationResource(e,t,n){const l=this.resources[t];let o=null;return l&&l.some(t=>t[e]===n&&(o=t,!0)),o}}class s{constructor(e){this._parent=e}get configurationFacade(){return this._parent}}class a{constructor(e,t){this.metadata=e,Object.keys(t.defaults).forEach(function(n){e.hasOwnProperty(n)||(e[n]=t.defaults[n])})}get deploymentConfiguration(){return this.parent.configurationFacade.platformCommunicatorService.getDeploymentConfiguration()}get environmentConfigurationDeploymentSchema(){return this.deploymentConfiguration.deploymentMetadata}get environmentConfigurationItemSchema(){const e=Object.getPrototypeOf(this).constructor.metastructure;return e&&this.deploymentConfiguration.selectService(e.identifier)}get environmentConfigurationTransport(){return this.environmentConfigurationItemSchema.transport}get isDefinitionMocked(){return this.environmentConfigurationItemSchema.mocked}setSnapshotData(e){this._resolvedData=e}getSnapshotData(){return this._resolvedData}inject(e){const t=this.injectorFactoryClass;let n=!1;if(this.injectorFactoryClass=this.parent.configurationFacade.directoryService.findProvider(e),this.injectorFactoryClass!==t)if(this.injectorFactoryClass)try{this.injectorInstance=new this.injectorFactoryClass(this.parent.configurationFacade),n=!0}catch(l){console.error("failure to instantiate class",e)}else console.error("missing injector factory class",e);else this.injectorFactoryClass||console.error("injector cannot be handed to factory",e);return n}cloneStructuredMetadata(e){let t;try{t=JSON.parse(JSON.stringify(e))}catch(n){console.error("JSON error extracting data",n),t={}}return t}startingCyclicInjectableConsume(e){return this.setSnapshotData(e),e instanceof r?Object(l.a)(e,i.AsapScheduler):(this.injectorInstance.consume(this.cloneStructuredMetadata(e)),this.injectorInstance.consumeProgressTopic?this.injectorInstance.consumeProgressTopic.pipe(Object(o.a)(e=>this.injectorInstance.state())):Object(l.a)(e,i.AsapScheduler))}scheduleInjectableTransaction(e){let t;return this.metadata.isInvoked?this.metadata.isSync?t=e:(e.subscribe(e=>{this.startingCyclicInjectableConsume(e)}),t=Object(l.a)(null)):t=Object(l.a)(null,i.AsapScheduler),t}}},"8Gd5":function(e){e.exports={asset:{arrow:{layout:{scalable:!1,width:15,height:15}},socket:{layout:{size:15,padding:1,smallCondensingFactor:2}},connector:{layout:{lineProximityThreshold:100}},plug:{layout:{size:10}}},component:{compositor:{node:{},connector:{},socket:{orientation:"horizontal"}}}}},"8Ig9":function(e){e.exports=[{assetTypeId:"1",iconDecoratorClass:"symbol1",localization:{name:{text:"Message Layout"}}},{assetTypeId:"2",iconDecoratorClass:"symbol105",localization:{name:{text:"Security Monitor"}}},{assetTypeId:"3",iconDecoratorClass:"symbol6",localization:{name:{text:"Workflow"}}},{assetTypeId:"4",iconDecoratorClass:"symbol8",localization:{name:{text:"Streamed Event"}}}]},"8pE1":function(e,t,n){"use strict";n.d(t,"b",function(){return l}),n.d(t,"a",function(){return o});const l=new(n("8Y7J").r)("facadeInjectorsConfig");class o{constructor(e){this.staticConfigurationList=e,this.genericInjectorIdentifier="default",this.assembledInjectorClassMap=new Map;for(const t of e)this.addProvider(t.metastructure.identifier,t)}findProvider(e){return this.assembledInjectorClassMap.get(e||this.genericInjectorIdentifier)}addProvider(e,t){this.assembledInjectorClassMap.set(e,t)}}},"9AGB":function(e,t,n){"use strict";var l=n("w5QO");function o(e){return e?1===e.length?e[0]:function(t){return e.reduce(function(e,t){return t(e)},t)}:l.noop}t.pipe=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return o(e)},t.pipeFromArray=o},"9oXZ":function(e,t,n){"use strict";n.d(t,"a",function(){return l});class l{prepare(e,t,n){this.card=e,this.fieldMetadataList=t,this.libraryStateManager=n}}},A7mB:function(e,t,n){"use strict";var l=n("z6cu"),o=n("62Do"),i=n("3E0/"),r=n("eIep"),s=n("JIr8"),a=n("w1tV");const u={defaults:{isEvaluated:!1,isInvoked:!0,isSync:!0,method:"get"}},c=(()=>{class e extends o.b{constructor(e,t){super(t,u),this.parent=e,this.metadata=t}resolving(){const e=this.parent.configurationFacade,t=this.metadata.isEvaluated?e.platformCommunicatorService.getGlobalState().deriveStateAccessor(this.parent):null,n=e.platformCommunicatorService.streamUrlTemplateResource(this.metadata.method,this.metadata.url,t,this.environmentConfigurationItemSchema).pipe(Object(i.a)(0),Object(r.a)(e=>this.startingCyclicInjectableConsume(e)),Object(s.a)(e=>(console.log("unable to complete network call",this.metadata.url),Object(l.a)(e))),Object(a.a)());return this.scheduleInjectableTransaction(n)}}return e.metastructure={identifier:"network"},e})();var d=n("LRne");const h={defaults:{isInvoked:!0,isSync:!0}},g=(()=>{class e extends o.b{constructor(e,t){super(t,h),this.parent=e,this.metadata=t}resolving(){return Object(d.a)(this.metadata.data).pipe(Object(r.a)(e=>this.startingCyclicInjectableConsume(e)))}}return e.metastructure={identifier:"node"},e})();var m=n("WFcv");const p={defaults:{isEvaluated:!1,isInvoked:!0,isSync:!0,method:"get"}},b=(()=>{class e extends o.b{constructor(e,t){super(t,p),this.parent=e,this.metadata=t}resolving(){return this.scheduleInjectableTransaction(Object(d.a)(!0).pipe(Object(i.a)(0),Object(a.a)()))}generateStateAccessor(){const e=this.parent.configurationFacade.platformCommunicatorService.getGlobalState();return Object.assign(e.deriveStateAccessor(this.parent),{service:{metadata:this.metadata}})}generateResourceLink(){const e=new RegExp(["//","http","https"].join("|"));let t=[this.metadata.url.match(e)?null:this.deploymentConfiguration.assembleValidUrl(this.environmentConfigurationItemSchema,this.generateStateAccessor()),this.metadata.isEvaluated?this.deploymentConfiguration.transformTemplate(this.metadata.url,this.generateStateAccessor(),this.environmentConfigurationItemSchema):this.metadata.url].filter(Boolean).join("");return this.metadata.plugin.route&&t.indexOf("#")<0&&(t+="#"+this.metadata.plugin.route),t}}return e.metastructure={identifier:"remote-served-service"},e})();var f=n("vkgz");const C={defaults:{method:"GET",isInvoked:!0,isSync:!1}},y=(()=>{class e extends o.b{constructor(e,t){super(t,C),this.parent=e,this.metadata=t}resolving(){return this.isDefinitionMocked?this.resolvingMockServiceTransport():this.resolvingRealServiceTransport()}resolvingMockServiceTransport(){const e=this.parent.configurationFacade.platformCommunicatorService.streamUrlTemplateResource("GET",this.metadata.mockUrl,void 0,this.environmentConfigurationItemSchema);return e.pipe(Object(f.a)(e=>this.startingCyclicInjectableConsume(e))),this.scheduleInjectableTransaction(e)}resolvingRealServiceTransport(){const e=this.parent.configurationFacade,t=(e.platformCommunicatorService.getGlobalState(),e.platformCommunicatorService.getGlobalState().deriveStateAccessor(this.parent)),n=[this.deploymentConfiguration.assembleValidUrl(this.environmentConfigurationItemSchema,t),this.metadata.endpoint].join("/"),o=e.platformCommunicatorService.streamUrlTemplateResource(this.metadata.method,n,t,this.environmentConfigurationItemSchema).pipe(Object(i.a)(0),Object(s.a)(e=>(console.error(e),Object(l.a)("Could not load via REST service"))),Object(a.a)());return this.scheduleInjectableTransaction(o)}}return e.metastructure={identifier:"rest"},e})();n.d(t,"a",function(){return v});const v={[m.a.metastructure.identifier]:m.a,[g.metastructure.identifier]:g,[c.metastructure.identifier]:c,[y.metastructure.identifier]:y,[b.metastructure.identifier]:b}},AszD:function(e,t,n){"use strict";var l=n("WFcv");const o={providers:{resourceMappedKeyPrefix:["ngxCardDeck","provider"].join("_")+":"}},i=new class{constructor(){}transform(e){const t={};t.id=e.id,t.resources={};const n={};n.resourceId=`${e.id}:i18n`,n.type="i18n",n.resolver={injector:"dashboard-assembly-translation",node:{data:{title:null}}},t.resources.modulesList=[n],t.resources.cardsList=[];for(const r of e.cards)t.resources.cardsList.push(this.generateCardModuleResource(r));t.resources.viewsList=[];const l={};t.resources.viewsList.push(l),l.resourceId=`${e.id}:dashboard-grid-configuration`,l.type="dashboard-view-configuration",l.component="grid-container-dashboard-container",l.resolver={injector:"dashboard-assembly-grid-configuration",node:{type:"card-assembly-integration",data:{gridType:"fixed",minCols:3,maxCols:6,minRows:Math.max(Math.max(...e.cards.map(e=>e.layout.y))+1,1),maxRows:2*(Math.max(e.cards.length,Math.max(...e.cards.map(e=>e.layout.y+e.layout.height)))+1)>>0,compactType:"none",resizable:{enabled:!0}}}};const o={};t.resources.viewsList.push(o),o.resourceId=`${e.id}:dashboard-item-layout`,o.type="dashboard-view-state",o.component=l.component;const i={};return i.dashboard={view:{viewportScalableSizing:!0,viewportPositionRelative:!1,theme:null},container:{layoutColumnsBreakpointList:null,layoutItemList:e.cards.map(e=>({card:{resourceId:e.id},layout:{position:{x:e.layout.x,y:e.layout.y},dimensions:{initial:{width:e.layout.width,height:e.layout.height}}}}))}},o.resolver={injector:"dashboard-assembly-grid-container",node:{data:i}},t}generateCardModuleResource(e){const t={},n={};if(n.id=`${e.id}`,n.resources={},n.resources.modulesList=[],e.header){const t={};n.resources.modulesList.push(t),t.resourceId=`${e.id}:resource-i18n`,t.type="i18n",t.resolver={injector:"dashboard-assembly-translation",node:{data:{"card.title":e.header.title}}}}else console.error("missing header declaration in card",e.id);if(this.isArrayWithItems(e.services)||(e.services=[{[l.a.metastructure.identifier]:{}}]),Array.isArray(e.services))for(const l of e.services)for(const t of Object.keys(l)){const o={};switch(n.resources.modulesList.push(o),o.resourceId=`${e.id}:resource-service:${t}`,o.type="service",t){case"network":this.parseNetworkService(t,l,o);break;case"remote-served-service":this.parseRemoteServedService(t,l,o);break;default:o.resolver={[t]:l[t]}}}if(e.header){const t={resourceId:`${e.id}:resource-parameters`,type:"parameters",resolver:{node:{type:"card-assembly-parameters",data:{}}}};n.resources.modulesList.push(t);const l=t.resolver.node.data;l["card.isHeaderVisible"]=!0,e.header.icon&&(l["card.iconClassesList"]=[e.header.icon]),e.providers&&Object.keys(e.providers).forEach(t=>{this.bindOptionalProperty(e.providers,l,t,o.providers.resourceMappedKeyPrefix)})}if(n.resources.componentsList=[],e.templates){const t={};if(this.isArrayWithItems(e.templates)){n.resources.componentsList.push(t),t.resourceId=`${e.id}:resource-card-assembly`,t.type="component-layout-metadata",t.component=`${e.id}:resource-component`;const l=[];for(const t of e.templates){const e=["header","body","footer"];for(const n of e){const e=t[n];e&&l.push({id:e.template,view:{[n]:{organization:e.organization,template:e.template}}})}}t.resolver={node:{type:"card-assembly-integration",data:{card:{fields:l}}}}}}else console.error("missing templates declaration in card",e.id);return t.resourceId=e.id,t.component=e.component,t.type="card",t.resolver={injector:"dashboard-assembly-layout",node:{data:n}},t}parseNetworkService(e,t,n){n.resolver={[e]:{url:t[e].url,isEvaluated:!0}},["isSync","isEvaluated"].forEach(l=>this.bindOptionalProperty(t[e],n.resolver[e],l))}parseRemoteServedService(e,t,n){n.resolver={[e]:{url:t[e].url,isEvaluated:!0,plugin:t[e].plugin||{}}},["mocked","isEvaluated"].forEach(l=>this.bindOptionalProperty(t[e],n.resolver[e],l))}isArrayWithItems(e){return!(!Array.isArray(e)||Array.isArray(e)&&0===e.length)}bindOptionalProperty(e,t,n,l){e.hasOwnProperty(n)&&(t[(l||"")+n]=e[n])}},r=i.transform.bind(i),s=o.providers.resourceMappedKeyPrefix;n.d(t,"b",function(){return r}),n.d(t,"a",function(){return s})},BeIp:function(e,t,n){"use strict";var l=n("bdgK"),o=n("XNiG"),i=n("VRyK"),r=n("D0XW"),s=n("/uUt"),a=n("l7GE"),u=n("ZUHj");class c{constructor(e){this.closingNotifier=e}call(e,t){return t.subscribe(new d(e,this.closingNotifier))}}class d extends a.a{constructor(e,t){super(e),this.buffer=[],this.add(Object(u.a)(this,t))}_next(e){this.buffer.push(e)}notifyNext(e,t,n,l,o){const i=this.buffer;this.buffer=[],this.destination.next(i)}}n("rdDZ");var h=n("JH+Q"),g=(n("QwtG"),n("eH2f"),n("/Di6"),n("rGP6"));n.d(t,"a",function(){return p});const m={transitionDelay:200};class p extends g.a{constructor(e,t,n,l,i,r,a){super(),this.managingDashboardComponent=e,this.assemblyStrategyResolverToken=t,this.assemblyStrategyConfigurationResolverToken=n,this._elemRef=l,this._renderer=i,this._cdr=r,this._globalState=a,this.componentElementWidth$=new o.a,this.isGridWidgetInitialized=!1,this.focused=!1,this.gridItemLayoutChange$=new o.a,this.activatedCardBodyFocusSubject$=new o.a,this.assemblyState=this.assemblyStrategyResolverToken,this.assemblyConfiguration=this.assemblyStrategyConfigurationResolverToken,this.componentElementWidth$.asObservable().pipe(Object(s.a)()).subscribe(e=>this.onContainerWidthResizeChange(e))}get viewportHeight(){if(!this.isViewportScalableSizing)return this.deriveHeightDimension()}get viewportMaxHeight(){if(this.isViewportScalableSizing)return this.deriveHeightDimension()}handleKeyboardEvent(e){this.focused&&this.onGridKeyboardNavigateLeave(e)}handleCheckIfClickedOutsideEvent(e){this.focused&&(this._elemRef.nativeElement.contains(e.target)||this.onGridKeyboardNavigateLeave(e))}ngOnInit(){this.initialize()}ngOnDestroy(){this.watchGridLayoutChangeSubscription&&this.watchGridLayoutChangeSubscription.unsubscribe(),this.watchGridOutletsCardBodyFocusChangeSubscription&&this.watchGridOutletsCardBodyFocusChangeSubscription.unsubscribe()}ngAfterViewInit(){this.toggleGridItemTransitionEffect(!1)}eventStop(e,t,n){}itemChange(e,t){this.emitItemChange(t,this.gridItemLayoutChange$,!1)}itemResize(e,t){if(this.emitItemChange(t,this.gridItemLayoutChange$,!1),this.gridWidget&&this.gridWidget.options){const t={width:{dimensionName:"cols",optionsName:"fixedColWidth"},height:{dimensionName:"rows",optionsName:"fixedRowHeight"}};Object.keys(t).forEach(n=>{const l=this.gridWidget.options[t[n].optionsName];if(l){const o=e[t[n].dimensionName];this.notifyResourceLayoutChange(e.resourceId,n,l*o+(o-1)*(this.gridWidget.options.margin||0))}})}}itemInit(e,t){this.detectGridTransitionDurationValue();const n=this.cardOutletList.find(t=>t.cardResourceId===e.resourceId);n&&n.setOutletChildrenList(this.cardOutletList),this.emitItemChange(t,this.managingDashboardComponent.layoutItemInitialize,!0)}itemRemoved(e,t){this.emitItemChange(t,this.managingDashboardComponent.layoutItemDestroy,!0)}emptyCellClick(e,t){}onDragStart(e,t,n){this.isItemStateDraggingEvent=!0,this.emitItemChange(t,this.managingDashboardComponent.layoutItemStartMovementInteraction,!1)}onDragStop(e,t,n){const l=new o.a,i=n instanceof ErrorEvent;var r;if(i||(this.gridItemLayoutChange$.asObservable().pipe((r=l,function(e){return e.lift(new c(r))})).subscribe(e=>{const t=this.processLayoutItemsChangeList(e);t.length&&this.managingDashboardComponent.layoutItemsChangeList.next(t)}),setTimeout(()=>{l.next(!0)},0),setTimeout(()=>{this.gridWidget.resize()},this.transitionDuration),this.emitItemChange(t,this.managingDashboardComponent.layoutItemEndMovementInteraction,!1)),this.isItemStateDraggingEvent=!1,i)return Promise.reject(!1)}onResizeStart(e,t,n){this.isItemStateResizingEvent=!0,this.emitItemChange(t,this.managingDashboardComponent.layoutItemStartMovementInteraction,!1)}onResizeStop(e,t,n){this.isItemStateResizingEvent=!1,this.emitItemChange(t,this.managingDashboardComponent.layoutItemEndMovementInteraction,!1)}findGridItemByResourceId(e){let t;return(t=this.gridWidget.grid[this.gridWidget.grid.length-1])&&t.item.resourceId===e?t:(t=this.gridWidget.grid.find(t=>t.item.resourceId===e))&&t.item.resourceId===e?t:void 0}onGridMouseDown(e){e.target===this.gridWidget.el&&(this.mouseFocused=!0)}onGridKeyboardNavigateEnter(e){this.mouseFocused||this.cardOutletList.length&&(this.focused=!0,this.cycleCardFocus(!0))}onGridKeyboardNavigateLeave(e){this.cardOutletList.find(e=>e.cardBodyFocus)||(this.focused=!1,this.mouseFocused=!1,document.activeElement.blur())}onFirstCardLeaveBefore(e){this.cycleCardFocus(!1)}onLastCardLeaveAfter(e){this.cycleCardFocus(!0)}onCardBodyFocusStateChange(e){this.cardOutletList&&this.activatedCardBodyFocusSubject$.next(!!this.cardOutletList.find(e=>e.cardBodyFocus))}bindHostElementStyleMaxWidth(){if(this.isViewportScalableSizing&&["fixed","horizontalFixed"].indexOf(this.gridWidget.options.gridType)>=0){const e=this.deriveWidthDimension();e&&this._renderer.setStyle(this._elemRef.nativeElement,"maxWidth",e+"px")}}dispatchCardWidthState(e,t){this.dispatchCardLayoutPropertyValue(e,"width",t)}dispatchCardHeightState(e,t){this.dispatchCardLayoutPropertyValue(e,"height",t)}dispatchCardLayoutPropertyValue(e,t,n){this.notifyResourceLayoutChange(e.resourceId,t,n)}toggleGridItemTransitionEffect(e){this.isGridWidgetInitialized=e,this._cdr.markForCheck()}cycleCardFocus(e){const t=this.assemblyState.materializedModelList.slice().sort((e,t)=>e.facade.accessibilitySequence<t.facade.accessibilitySequence?-1:1),n=e?0:this.assemblyState.materializedModelList.length-1;this.focusOnCard(this.cardOutletList.find(e=>e.cardResourceId===t[n].card.resourceId))}focusOnCard(e){e.focus(),setTimeout(()=>{e.focus()})}initialize(){this.prepareConfigurationEvents(),this.prepareLayout(),this.prepareGridLayoutChangeMonitor()}prepareConfigurationEvents(){const e=this.assemblyConfiguration.materializedModel.gridsterConfiguration;e.itemChangeCallback=this.itemChange.bind(this),e.itemResizeCallback=this.itemResize.bind(this),e.itemInitCallback=this.itemInit.bind(this),e.itemRemovedCallback=this.itemRemoved.bind(this),e.emptyCellClickCallback=this.emptyCellClick.bind(this),e.emptyCellContextMenuCallback=this.emptyCellClick.bind(this),e.emptyCellDropCallback=this.emptyCellClick.bind(this),e.emptyCellDragCallback=this.emptyCellClick.bind(this),e.api=Object.assign(e.api,{resize:this.eventStop.bind(this),optionsChanged:this.eventStop.bind(this),getNextPossiblePosition:this.eventStop.bind(this)}),e.draggable=Object.assign(e.draggable,{start:this.onDragStart.bind(this),stop:this.onDragStop.bind(this)}),e.resizable=Object.assign(e.resizable,{start:this.onResizeStart.bind(this),stop:this.onResizeStop.bind(this)}),this.assemblyState.breakpointRuleModelList&&this.assemblyState.breakpointRuleModelList.unshift({width:e.mobileBreakpoint||0,columns:e.minCols||e.maxCols||e.defaultItemCols}),e.initCallback=()=>{this.managingDashboardComponent.producedAssemblyStrategy.next(this)},e.destroyCallback=()=>{}}prepareLayout(){new l.a((e,t)=>this.componentElementWidth$.next(e[0].contentRect.width)).observe(this._renderer.parentNode(this._elemRef.nativeElement))}prepareGridLayoutChangeMonitor(){this.watchGridLayoutChangeSubscription=Object(i.a)(this.managingDashboardComponent.layoutItemInitialize,this.managingDashboardComponent.layoutItemDestroy,this.gridItemLayoutChange$,r.a).subscribe(()=>this.orderCardAccessibilitySequences())}orderCardAccessibilitySequences(){const e=this.assemblyState.materializedModelList.slice();this.cardOutletList&&(this.gridWidget.mobile?e.forEach((e,t)=>e.facade.accessibilitySequence=t):e.sort((e,t)=>e.facade.y<t.facade.y?-1:e.facade.y===t.facade.y?e.facade.x<t.facade.x?-1:e.facade.x===t.facade.x?0:1:1).forEach((e,t)=>e.facade.accessibilitySequence=t))}deriveWidthDimension(){const e=this.gridWidget.options;if(this.isViewportScalableSizing&&e&&e.fixedColWidth&&e.maxCols)return e.fixedColWidth*e.maxCols+(e.margin?e.margin*e.maxCols:0)+(e.outerMargin?2*e.margin:0)}deriveHeightDimension(){const e=this.gridWidget.options;if(e&&["verticalFixed"].indexOf(e.gridType)>=0){if(this.gridWidget.mobile)return this.gridWidget.grid.map(e=>e.top+e.itemHeight+parseInt(e.itemMargin,10)).reduce((e,t)=>e+t,(e.outerMargin?2*e.margin:0)-e.margin)||void 0;if(this.gridWidget.curHeight)return Math.max(...this.gridWidget.grid.map(e=>e.top+e.itemHeight))+(e.outerMargin?2*e.margin:0)||void 0}}onContainerWidthResizeChange(e){const t=this.getColumnsBreakpointSchema(e);let n=0,l=!1;t&&t.columns!==this.gridWidget.columns&&(n=t.columns),n&&(l=n<this.gridWidget.columns,this.gridWidget.columns=this.gridWidget.options.minCols=this.gridWidget.options.maxCols=n,this.gridWidget.optionsChanged(),this.gridWidget.setGridSize(),this.gridWidget.setGridDimensions(),this.bindHostElementStyleMaxWidth(),l&&(this.gridWidget.grid.forEach(e=>e.item.cols=Math.min(e.item.cols,n)),this.gridWidget.grid.forEach(e=>this.gridWidget.autoPositionItem(e))),this.gridWidget.calculateLayout())}getColumnsBreakpointSchema(e){let t;if(this.assemblyState.breakpointRuleModelList)return this.assemblyState.breakpointRuleModelList.map(e=>e.width).reverse().some(n=>e>=n&&(t=n,!0)),t?this.assemblyState.breakpointRuleModelList.filter(e=>e.width===t)[0]:void 0}notifyResourceLayoutChange(e,t,n){const l=[e,"layout",t].join("/");this._globalState.notifyDataSynchronized(l,n)}processLayoutItemsChangeList(e){const t=new Map;return e.filter(e=>!t.has(e.resourceId)&&(t.set(e.resourceId,!0),!0))}generateViewAssemblyTypeStateResourceLayoutItem(e){return{resourceId:e.resourceId,layout:{x:e.x,y:e.y,cols:e.cols,rows:e.rows}}}detectGridTransitionDurationValue(){this.transitionDuration||this.isGridsterInstance()&&(this.transitionDuration=this.prepareGridsterTransitionDurationValue())}isGridsterInstance(){const e=this.gridWidget;return!!e&&!!e.options&&!!e.options.api}prepareGridsterTransitionDurationValue(){const e=this.gridWidget,t=e.grid.length?function(){const t=e.el.ownerDocument.defaultView.getComputedStyle(e.grid[0].el).transitionDuration.match(/([\d.]+)(.*)/),n="s"===t[2]?1e3:1;return parseFloat(t[1])*n}():m.transitionDelay;return setTimeout(()=>this.toggleGridItemTransitionEffect(!0),t),t}emitItemChange(e,t,n){t&&(n?setTimeout(()=>{t.next(this.generateViewAssemblyTypeStateResourceLayoutItem(e.item))},0):t.next(this.generateViewAssemblyTypeStateResourceLayoutItem(e.item)))}}h.f.viewComponentAssemblyStrategyComponentMap.set("grid-container-dashboard-container",p)},CuBc:function(e,t,n){"use strict";n("eH2f"),n("zeYO"),n("O3wz"),n("JQfC"),n("oVuv"),n("1qcj"),n("1qRs"),n("rGP6"),n("BeIp")},D0XW:function(e,t,n){"use strict";n.d(t,"a",function(){return o});var l=n("3N8a");const o=new(n("IjjT").a)(l.a)},FWf1:function(e,t,n){var l=n("mrSG").__extends,o=n("pshJ"),i=n("GiSu"),r=n("zB/H"),s=n("p//D"),a=n("n3uD"),u=n("MkmW"),c=function(e){function t(n,l,o){var r=e.call(this)||this;switch(r.syncErrorValue=null,r.syncErrorThrown=!1,r.syncErrorThrowable=!1,r.isStopped=!1,arguments.length){case 0:r.destination=i.empty;break;case 1:if(!n){r.destination=i.empty;break}if("object"==typeof n){n instanceof t?(r.syncErrorThrowable=n.syncErrorThrowable,r.destination=n,n.add(r)):(r.syncErrorThrowable=!0,r.destination=new d(r,n));break}default:r.syncErrorThrowable=!0,r.destination=new d(r,n,l,o)}return r}return l(t,e),t.prototype[s.rxSubscriber]=function(){return this},t.create=function(e,n,l){var o=new t(e,n,l);return o.syncErrorThrowable=!1,o},t.prototype.next=function(e){this.isStopped||this._next(e)},t.prototype.error=function(e){this.isStopped||(this.isStopped=!0,this._error(e))},t.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},t.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,e.prototype.unsubscribe.call(this))},t.prototype._next=function(e){this.destination.next(e)},t.prototype._error=function(e){this.destination.error(e),this.unsubscribe()},t.prototype._complete=function(){this.destination.complete(),this.unsubscribe()},t.prototype._unsubscribeAndRecycle=function(){var e=this._parentOrParents;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=e,this},t}(r.Subscription);t.Subscriber=c;var d=function(e){function t(t,n,l,r){var s,a=e.call(this)||this;a._parentSubscriber=t;var u=a;return o.isFunction(n)?s=n:n&&(s=n.next,l=n.error,r=n.complete,n!==i.empty&&(u=Object.create(n),o.isFunction(u.unsubscribe)&&a.add(u.unsubscribe.bind(u)),u.unsubscribe=a.unsubscribe.bind(a))),a._context=u,a._next=s,a._error=l,a._complete=r,a}return l(t,e),t.prototype.next=function(e){if(!this.isStopped&&this._next){var t=this._parentSubscriber;a.config.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?this.__tryOrSetError(t,this._next,e)&&this.unsubscribe():this.__tryOrUnsub(this._next,e)}},t.prototype.error=function(e){if(!this.isStopped){var t=this._parentSubscriber,n=a.config.useDeprecatedSynchronousErrorHandling;if(this._error)n&&t.syncErrorThrowable?(this.__tryOrSetError(t,this._error,e),this.unsubscribe()):(this.__tryOrUnsub(this._error,e),this.unsubscribe());else if(t.syncErrorThrowable)n?(t.syncErrorValue=e,t.syncErrorThrown=!0):u.hostReportError(e),this.unsubscribe();else{if(this.unsubscribe(),n)throw e;u.hostReportError(e)}}},t.prototype.complete=function(){var e=this;if(!this.isStopped){var t=this._parentSubscriber;if(this._complete){var n=function(){return e._complete.call(e._context)};a.config.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?(this.__tryOrSetError(t,n),this.unsubscribe()):(this.__tryOrUnsub(n),this.unsubscribe())}else this.unsubscribe()}},t.prototype.__tryOrUnsub=function(e,t){try{e.call(this._context,t)}catch(n){if(this.unsubscribe(),a.config.useDeprecatedSynchronousErrorHandling)throw n;u.hostReportError(n)}},t.prototype.__tryOrSetError=function(e,t,n){if(!a.config.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{t.call(this._context,n)}catch(l){return a.config.useDeprecatedSynchronousErrorHandling?(e.syncErrorValue=l,e.syncErrorThrown=!0,!0):(u.hostReportError(l),!0)}return!1},t.prototype._unsubscribe=function(){var e=this._parentSubscriber;this._context=null,this._parentSubscriber=null,e.unsubscribe()},t}(c);t.SafeSubscriber=d},GDen:function(e,t,n){"use strict";n.d(t,"a",function(){return o});var l=n("oVuv");class o extends l.c{constructor(){super(...arguments),this.isTemplatePhaseReady=!1,this.isComponentPhaseReady=!1,this.positionBasedTemplateMap={header:{},body:{},footer:{}},this.layout={}}prepareTemplate(){this.assemblyLayout=this.resourceToken.card.resolver.injectorInstance,this.initialDataModelResponse$=this.prepareDataStream(),this.startInteractionEvents();const e=this.assemblyLayout.classificationMetadata(),t=this.assemblyLayout.state(),n=t.findConfigurationResourceByType(e.layoutResourceType,e.layoutMetadataKey);n?this._service.loadingDashboardCardTemplatableClass(this.resourceToken.card,n).then(t=>{t&&this._service.loadingDashboardCardTemplatableModule(this.resourceToken.card,n).then(e=>{this.derivedTemplatableClass=t,this.derivedTemplateModuleFactory=e,setTimeout(()=>{this.isTemplatePhaseReady=!0,this._cd.markForCheck()},0),this.isComponentPhaseReady=!0,this._cd.markForCheck()},t=>{console.error("bundle unavailable",e)})},e=>{console.error("template association failure",this.resourceToken.card.resourceId,e)}):console.error("unresolvable",Object.getPrototypeOf(this).constructor.name,"configuration resource",t,e.layoutMetadataKey),this.fieldMetadataList=this._service.prepareFieldMetadataList(this.resourceToken.card),this.fieldMetadataList.forEach(e=>{this.positionBasedTemplateMap.header[e.id]=this.defaultHeaderTemplate,this.positionBasedTemplateMap.body[e.id]=this.defaultBodyTemplate})}setupHeaderSection(){this._outlet.isHeaderVisible=Boolean(this.library.alias.parameters["card.isHeaderVisible"])||!1,this._outlet.title=this.library.alias.cardI18n["card.title"],this._outlet.titleIconClasses=this.library.alias.parameters["card.iconClassesList"]}}},GFNj:function(e,t,n){"use strict";n.d(t,"a",function(){return r});var l=n("+TDg"),o=n("v/Zx");const i={unavailableComponentTypeIdentifier:"default",internalOrganizerCode:0,internalOrganizersList:[l.a.internal]};class r{constructor(e){this.clientDefinedConfigurationList=e,this.renderComponentMap=new Map,this.internalComponentMap=new Map,this.unavailableComponent=o.a,this.initialize()}deriveRenderViewComponent(e){if(e.component){const t=this.renderComponentMap.get(e.component)||this.internalComponentMap.get(e.component);if(t)return t}return this.unavailableComponent}initialize(){const e=e=>i.internalOrganizersList.indexOf(e.organizerPackage)>=i.internalOrganizerCode;let t;this.clientDefinedConfigurationList.filter(t=>e(t)).forEach(e=>this.internalComponentMap.set(e.identifier,e.componentClass)),this.clientDefinedConfigurationList.filter(t=>!e(t)).forEach(e=>this.renderComponentMap.set(e.identifier,e.componentClass)),(t=this.internalComponentMap.get(i.unavailableComponentTypeIdentifier))&&(this.unavailableComponent=t)}}},GMZp:function(e,t,n){"use strict";t.isObject=function(e){return null!==e&&"object"==typeof e}},GiSu:function(e,t,n){"use strict";var l=n("n3uD"),o=n("MkmW");t.empty={closed:!0,next:function(e){},error:function(e){if(l.config.useDeprecatedSynchronousErrorHandling)throw e;o.hostReportError(e)},complete:function(){}}},H89Z:function(e){e.exports=[{assetTypeId:"1",iconDecoratorClass:"symbol1",localization:{name:{text:"Message Layout"}}},{assetTypeId:"5",iconDecoratorClass:"symbol105",localization:{name:{text:"Security Monitor"}}},{assetTypeId:"6",iconDecoratorClass:"symbol6",localization:{name:{text:"Workflow"}}},{assetTypeId:"8",iconDecoratorClass:"symbol8",localization:{name:{text:"Streamed Event"}}},{assetTypeId:"9",iconDecoratorClass:"symbol9",localization:{name:{text:"Remote Node"}}},{assetTypeId:"11",iconDecoratorClass:"symbol11",localization:{name:{text:"Data Layout"}}},{assetTypeId:"12",iconDecoratorClass:"symbol12",localization:{name:{text:"Machine Learning"}}},{assetTypeId:"13",iconDecoratorClass:"symbol13",localization:{name:{text:"Microservice"}}},{assetTypeId:"14",iconDecoratorClass:"symbol14",localization:{name:{text:"Automation Trigger"}}},{assetTypeId:"15",iconDecoratorClass:"symbol15",localization:{name:{text:"Inbound Stream"}}},{assetTypeId:"16",iconDecoratorClass:"symbol16",localization:{name:{text:"Inventory Add"}}},{assetTypeId:"17",iconDecoratorClass:"symbol17",localization:{name:{text:"Manufacturing Assist"}}},{assetTypeId:"18",iconDecoratorClass:"symbol18",localization:{name:{text:"Operations Checkpoint"}}},{assetTypeId:"19",iconDecoratorClass:"symbol5",localization:{name:{text:"Accounting Flow"}}}]},HJaP:function(e,t,n){},HhbV:function(e,t,n){"use strict";n.d(t,"a",function(){return o});var l=n("31G0");const o=(()=>{class e extends l.a{classificationMetadata(){return e.metastructure}consume(e){return this._state=e,!0}state(){return this._state}}return e.metastructure={identifier:"dashboard-assembly-translation",translationResourceType:"modulesList",translationMetadataKey:"i18n"},e})()},IheW:function(e,t,n){"use strict";n.d(t,"l",function(){return E}),n.d(t,"o",function(){return $}),n.d(t,"p",function(){return F}),n.d(t,"m",function(){return G}),n.d(t,"n",function(){return D}),n.d(t,"b",function(){return d}),n.d(t,"f",function(){return c}),n.d(t,"c",function(){return k}),n.d(t,"g",function(){return h}),n.d(t,"a",function(){return P}),n.d(t,"d",function(){return N}),n.d(t,"e",function(){return A}),n.d(t,"k",function(){return z}),n.d(t,"h",function(){return L}),n.d(t,"j",function(){return R}),n.d(t,"i",function(){return j});var l=n("8Y7J"),o=n("LRne"),i=n("HDdC"),r=n("bOdf"),s=n("pLZG"),a=n("lJxs"),u=n("SVse");class c{}class d{}class h{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?this.lazyInit="string"==typeof e?()=>{this.headers=new Map,e.split("\n").forEach(e=>{const t=e.indexOf(":");if(t>0){const n=e.slice(0,t),l=n.toLowerCase(),o=e.slice(t+1).trim();this.maybeSetNormalizedName(n,l),this.headers.has(l)?this.headers.get(l).push(o):this.headers.set(l,[o])}})}:()=>{this.headers=new Map,Object.keys(e).forEach(t=>{let n=e[t];const l=t.toLowerCase();"string"==typeof n&&(n=[n]),n.length>0&&(this.headers.set(l,n),this.maybeSetNormalizedName(t,l))})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();const t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof h?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){const t=new h;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof h?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){const t=e.name.toLowerCase();switch(e.op){case"a":case"s":let n=e.value;if("string"==typeof n&&(n=[n]),0===n.length)return;this.maybeSetNormalizedName(e.name,t);const l=("a"===e.op?this.headers.get(t):void 0)||[];l.push(...n),this.headers.set(t,l);break;case"d":const o=e.value;if(o){let e=this.headers.get(t);if(!e)return;0===(e=e.filter(e=>-1===o.indexOf(e))).length?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,e)}else this.headers.delete(t),this.normalizedNames.delete(t)}}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}}class g{encodeKey(e){return m(e)}encodeValue(e){return m(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}}function m(e){return encodeURIComponent(e).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/gi,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%2B/gi,"+").replace(/%3D/gi,"=").replace(/%3F/gi,"?").replace(/%2F/gi,"/")}class p{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new g,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function(e,t){const n=new Map;return e.length>0&&e.split("&").forEach(e=>{const l=e.indexOf("="),[o,i]=-1==l?[t.decodeKey(e),""]:[t.decodeKey(e.slice(0,l)),t.decodeValue(e.slice(l+1))],r=n.get(o)||[];r.push(i),n.set(o,r)}),n}(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{const n=e.fromObject[t];this.map.set(t,Array.isArray(n)?n:[n])})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();const t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{const t=this.encoder.encodeKey(e);return this.map.get(e).map(e=>t+"="+this.encoder.encodeValue(e)).join("&")}).join("&")}clone(e){const t=new p({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat([e]),t}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":const t=("a"===e.op?this.map.get(e.param):void 0)||[];t.push(e.value),this.map.set(e.param,t);break;case"d":if(void 0===e.value){this.map.delete(e.param);break}{let t=this.map.get(e.param)||[];const n=t.indexOf(e.value);-1!==n&&t.splice(n,1),t.length>0?this.map.set(e.param,t):this.map.delete(e.param)}}}),this.cloneFrom=this.updates=null)}}function b(e){return"undefined"!=typeof ArrayBuffer&&e instanceof ArrayBuffer}function f(e){return"undefined"!=typeof Blob&&e instanceof Blob}function C(e){return"undefined"!=typeof FormData&&e instanceof FormData}class y{constructor(e,t,n,l){let o;if(this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function(e){switch(e){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||l?(this.body=void 0!==n?n:null,o=l):o=n,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.params&&(this.params=o.params)),this.headers||(this.headers=new h),this.params){const e=this.params.toString();if(0===e.length)this.urlWithParams=t;else{const n=t.indexOf("?");this.urlWithParams=t+(-1===n?"?":n<t.length-1?"&":"")+e}}else this.params=new p,this.urlWithParams=t}serializeBody(){return null===this.body?null:b(this.body)||f(this.body)||C(this.body)||"string"==typeof this.body?this.body:this.body instanceof p?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body?null:C(this.body)?null:f(this.body)?this.body.type||null:b(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof p?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||Array.isArray(this.body)?"application/json":null}clone(e={}){const t=e.method||this.method,n=e.url||this.url,l=e.responseType||this.responseType,o=void 0!==e.body?e.body:this.body,i=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,r=void 0!==e.reportProgress?e.reportProgress:this.reportProgress;let s=e.headers||this.headers,a=e.params||this.params;return void 0!==e.setHeaders&&(s=Object.keys(e.setHeaders).reduce((t,n)=>t.set(n,e.setHeaders[n]),s)),e.setParams&&(a=Object.keys(e.setParams).reduce((t,n)=>t.set(n,e.setParams[n]),a)),new y(t,n,o,{params:a,headers:s,reportProgress:r,responseType:l,withCredentials:i})}}const v=function(){var e={Sent:0,UploadProgress:1,ResponseHeader:2,DownloadProgress:3,Response:4,User:5};return e[e.Sent]="Sent",e[e.UploadProgress]="UploadProgress",e[e.ResponseHeader]="ResponseHeader",e[e.DownloadProgress]="DownloadProgress",e[e.Response]="Response",e[e.User]="User",e}();class I{constructor(e,t=200,n="OK"){this.headers=e.headers||new h,this.status=void 0!==e.status?e.status:t,this.statusText=e.statusText||n,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}}class O extends I{constructor(e={}){super(e),this.type=v.ResponseHeader}clone(e={}){return new O({headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class M extends I{constructor(e={}){super(e),this.type=v.Response,this.body=void 0!==e.body?e.body:null}clone(e={}){return new M({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class S extends I{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${e.url||"(unknown url)"}`:`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}}function w(e,t){return{body:t,headers:e.headers,observe:e.observe,params:e.params,reportProgress:e.reportProgress,responseType:e.responseType,withCredentials:e.withCredentials}}const k=(()=>(class{constructor(e){this.handler=e}request(e,t,n={}){let l;if(e instanceof y)l=e;else{let o=void 0;o=n.headers instanceof h?n.headers:new h(n.headers);let i=void 0;n.params&&(i=n.params instanceof p?n.params:new p({fromObject:n.params})),l=new y(e,t,void 0!==n.body?n.body:null,{headers:o,params:i,reportProgress:n.reportProgress,responseType:n.responseType||"json",withCredentials:n.withCredentials})}const i=Object(o.a)(l).pipe(Object(r.a)(e=>this.handler.handle(e)));if(e instanceof y||"events"===n.observe)return i;const u=i.pipe(Object(s.a)(e=>e instanceof M));switch(n.observe||"body"){case"body":switch(l.responseType){case"arraybuffer":return u.pipe(Object(a.a)(e=>{if(null!==e.body&&!(e.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return e.body}));case"blob":return u.pipe(Object(a.a)(e=>{if(null!==e.body&&!(e.body instanceof Blob))throw new Error("Response is not a Blob.");return e.body}));case"text":return u.pipe(Object(a.a)(e=>{if(null!==e.body&&"string"!=typeof e.body)throw new Error("Response is not a string.");return e.body}));case"json":default:return u.pipe(Object(a.a)(e=>e.body))}case"response":return u;default:throw new Error(`Unreachable: unhandled observe type ${n.observe}}`)}}delete(e,t={}){return this.request("DELETE",e,t)}get(e,t={}){return this.request("GET",e,t)}head(e,t={}){return this.request("HEAD",e,t)}jsonp(e,t){return this.request("JSONP",e,{params:(new p).append(t,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(e,t={}){return this.request("OPTIONS",e,t)}patch(e,t,n={}){return this.request("PATCH",e,w(n,t))}post(e,t,n={}){return this.request("POST",e,w(n,t))}put(e,t,n={}){return this.request("PUT",e,w(n,t))}}))();class T{constructor(e,t){this.next=e,this.interceptor=t}handle(e){return this.interceptor.intercept(e,this.next)}}const P=new l.r("HTTP_INTERCEPTORS"),x=(()=>(class{intercept(e,t){return t.handle(e)}}))(),_=/^\)\]\}',?\n/;class R{}const E=(()=>(class{constructor(){}build(){return new XMLHttpRequest}}))(),L=(()=>(class{constructor(e){this.xhrFactory=e}handle(e){if("JSONP"===e.method)throw new Error("Attempted to construct Jsonp request without JsonpClientModule installed.");return new i.a(t=>{const n=this.xhrFactory.build();if(n.open(e.method,e.urlWithParams),e.withCredentials&&(n.withCredentials=!0),e.headers.forEach((e,t)=>n.setRequestHeader(e,t.join(","))),e.headers.has("Accept")||n.setRequestHeader("Accept","application/json, text/plain, */*"),!e.headers.has("Content-Type")){const t=e.detectContentTypeHeader();null!==t&&n.setRequestHeader("Content-Type",t)}if(e.responseType){const t=e.responseType.toLowerCase();n.responseType="json"!==t?t:"text"}const l=e.serializeBody();let o=null;const i=()=>{if(null!==o)return o;const t=1223===n.status?204:n.status,l=n.statusText||"OK",i=new h(n.getAllResponseHeaders()),r=function(e){return"responseURL"in e&&e.responseURL?e.responseURL:/^X-Request-URL:/m.test(e.getAllResponseHeaders())?e.getResponseHeader("X-Request-URL"):null}(n)||e.url;return o=new O({headers:i,status:t,statusText:l,url:r})},r=()=>{let{headers:l,status:o,statusText:r,url:s}=i(),a=null;204!==o&&(a=void 0===n.response?n.responseText:n.response),0===o&&(o=a?200:0);let u=o>=200&&o<300;if("json"===e.responseType&&"string"==typeof a){const e=a;a=a.replace(_,"");try{a=""!==a?JSON.parse(a):null}catch(c){a=e,u&&(u=!1,a={error:c,text:a})}}u?(t.next(new M({body:a,headers:l,status:o,statusText:r,url:s||void 0})),t.complete()):t.error(new S({error:a,headers:l,status:o,statusText:r,url:s||void 0}))},s=e=>{const{url:l}=i(),o=new S({error:e,status:n.status||0,statusText:n.statusText||"Unknown Error",url:l||void 0});t.error(o)};let a=!1;const u=l=>{a||(t.next(i()),a=!0);let o={type:v.DownloadProgress,loaded:l.loaded};l.lengthComputable&&(o.total=l.total),"text"===e.responseType&&n.responseText&&(o.partialText=n.responseText),t.next(o)},c=e=>{let n={type:v.UploadProgress,loaded:e.loaded};e.lengthComputable&&(n.total=e.total),t.next(n)};return n.addEventListener("load",r),n.addEventListener("error",s),e.reportProgress&&(n.addEventListener("progress",u),null!==l&&n.upload&&n.upload.addEventListener("progress",c)),n.send(l),t.next({type:v.Sent}),()=>{n.removeEventListener("error",s),n.removeEventListener("load",r),e.reportProgress&&(n.removeEventListener("progress",u),null!==l&&n.upload&&n.upload.removeEventListener("progress",c)),n.abort()}})}}))(),G=new l.r("XSRF_COOKIE_NAME"),D=new l.r("XSRF_HEADER_NAME");class j{}const $=(()=>(class{constructor(e,t,n){this.doc=e,this.platform=t,this.cookieName=n,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const e=this.doc.cookie||"";return e!==this.lastCookieString&&(this.parseCount++,this.lastToken=Object(u.K)(e,this.cookieName),this.lastCookieString=e),this.lastToken}}))(),F=(()=>(class{constructor(e,t){this.tokenService=e,this.headerName=t}intercept(e,t){const n=e.url.toLowerCase();if("GET"===e.method||"HEAD"===e.method||n.startsWith("http://")||n.startsWith("https://"))return t.handle(e);const l=this.tokenService.getToken();return null===l||e.headers.has(this.headerName)||(e=e.clone({headers:e.headers.set(this.headerName,l)})),t.handle(e)}}))(),z=(()=>(class{constructor(e,t){this.backend=e,this.injector=t,this.chain=null}handle(e){if(null===this.chain){const e=this.injector.get(P,[]);this.chain=e.reduceRight((e,t)=>new T(e,t),this.backend)}return this.chain.handle(e)}}))(),A=(()=>{class e{static disable(){return{ngModule:e,providers:[{provide:F,useClass:x}]}}static withOptions(t={}){return{ngModule:e,providers:[t.cookieName?{provide:G,useValue:t.cookieName}:[],t.headerName?{provide:D,useValue:t.headerName}:[]]}}}return e})(),N=(()=>(class{}))()},"JH+Q":function(e,t,n){"use strict";n.d(t,"e",function(){return o}),n.d(t,"a",function(){return i}),n.d(t,"b",function(){return r}),n.d(t,"c",function(){return s}),n.d(t,"d",function(){return a}),n.d(t,"f",function(){return u});var l=n("8Y7J");function o(){return new l.r("client-defined and provided token for configurables")}o();const i=new l.r("CardResourceToken"),r=new l.r("DashboardAssemblyStrategyConfigurationToken"),s=new l.r("DashboardAssemblyStrategyStateToken"),a="dashboard-view-state",u={viewComponentAssemblyStrategyComponentMap:new Map,viewTypeProviderTokenMap:new Map};u.viewTypeProviderTokenMap.set("dashboard-view-configuration",r),u.viewTypeProviderTokenMap.set(a,s)},JQfC:function(e,t,n){"use strict";n("R3oi"),n("gKWM"),n("lsXn"),n("t6Ba"),n("NJuj"),n("62Do");var l=n("A7mB");n.d(t,"b",function(){return l.a});var o=n("WFcv");n.d(t,"a",function(){return o.a});var i=n("AszD");n.d(t,"c",function(){return i.b})},KYlP:function(e,t,n){"use strict";n.d(t,"a",function(){return r}),n("U+hP");var l=n("Rty2"),o=n("oVuv"),i=n("1qRs");n("CuBc"),n("UrxE");const r=(()=>{class e extends o.b{constructor(t,n,l,o,r){super(t,n,l,o,r),this.resourceToken=t,this.cardAssemblyPlugin=n,this.templateOrganization=e.classification.organization,this.viewClassification=new i.b("billboard","data billboard template container")}ngOnInit(){super.ngOnInit()}validateRenderTemplateMetadata(e){return e&&e.organization===this.templateOrganization.classification.organization}}return e.classification={organization:new i.a(l.a[2],"metrics billboard template")},e})()},LBXl:function(e,t,n){"use strict";function l(e){return Error.call(this),this.message=e?e.length+" errors occurred during unsubscription:\n"+e.map(function(e,t){return t+1+") "+e.toString()}).join("\n  "):"",this.name="UnsubscriptionError",this.errors=e,this}l.prototype=Object.create(Error.prototype),t.UnsubscriptionError=l},MkmW:function(e,t,n){"use strict";t.hostReportError=function(e){setTimeout(function(){throw e},0)}},NJuj:function(e,t,n){"use strict";n.d(t,"a",function(){return u});var l=n("XNiG"),o=n("cp0P"),i=n("3E0/"),r=n("IzEk"),s=(n("QwtG"),n("hWmW"),n("8pE1"),n("A7mB")),a=n("t6Ba");class u{constructor(e,t,n){this._globalState=e,this.directoryService=t,this.platformCommunicatorService=n}creatingConfiguration(e){const t={},n=new l.a,r=n.asObservable(),s=new a.a(this.platformCommunicatorService,this.directoryService);s.id=e.id;const u=[];for(const l of Object.keys(e.resources))this.createResourceBinding(l,e.resources,()=>new a.b(s),s.resources,u),t[l]=u[u.length-1];return Object(o.a)(u.filter(Boolean)).pipe(Object(i.a)(0)).subscribe(e=>{n.next(s)},e=>{n.error(e)},()=>{n.complete()}),this.prepareTranslationAssets(t),r}prepareTranslationAssets(e){const t=this.deriveModuleResourceTaskResolverObservablesListByType("i18n",e);t&&t.pipe(Object(r.a)(1)).subscribe(e=>this._globalState.dashboardConfigurationTranslationSubject.next(e))}deriveModuleResourceTaskResolverObservablesListByType(e,t){return t.modulesList}createResourceBinding(e,t,n,l,o){const i=t[e];if(Array.isArray(i)&&i[0])for(const r of i)if(r.resourceId){const t=n();l[e].push(t),t.resourceId=r.resourceId,t.name=r.name,t.type=r.type,t.component=r.component;const i=r.resolver,s=this.createResolverFacade(i,t);if(i&&s){t.resolver=s,t.resolver.inject(i.injector);const e=t.resolver.resolving();o.push(e)}else o.push(null)}}createResolverFacade(e,t){let n;return Object.keys(s.a).some(l=>!!e.hasOwnProperty(l)&&(n=new(0,s.a[l])(t,e[l]),!0)),n}}},NTcF:function(e,t,n){var l=n("mrSG").__extends,o=n("ffpz");t.AsyncScheduler=function(e){function t(n,l){void 0===l&&(l=o.Scheduler.now);var i=e.call(this,n,function(){return t.delegate&&t.delegate!==i?t.delegate.now():l()})||this;return i.actions=[],i.active=!1,i.scheduled=void 0,i}return l(t,e),t.prototype.schedule=function(n,l,o){return void 0===l&&(l=0),t.delegate&&t.delegate!==this?t.delegate.schedule(n,l,o):e.prototype.schedule.call(this,n,l,o)},t.prototype.flush=function(e){var t=this.actions;if(this.active)t.push(e);else{var n;this.active=!0;do{if(n=e.execute(e.state,e.delay))break}while(e=t.shift());if(this.active=!1,n){for(;e=t.shift();)e.unsubscribe();throw n}}},t}(o.Scheduler)},Niip:function(e){e.exports={id:"deck3",cards:[{id:"machine-learning-1",component:"card-asset-node",header:{title:"Machine Learning"},layout:{x:0,y:4,width:1,height:1},metadata:{provider:{business:{assetTypeId:"12",catalogId:"catalogId-machine-learning-1",layoutId:"layoutId-machine-learning-1"}},model:{producer:null,link:{sockets:[{id:"machine-learning1-NAME-input",type:"input",topic:"name",multicast:!1}]}}},templates:[{body:{organization:"nodeflow_sample",template:"nodePresentation"}}]},{id:"message-layout-2",component:"card-asset-node",header:{title:"Message Layout 2"},layout:{x:2,y:4,width:1,height:1},metadata:{provider:{business:{assetTypeId:"13",catalogId:"catalogId-message-layout-2",layoutId:"layoutId-message-layout-2"}},model:{producer:null,link:{sockets:[{id:"messageLayout2-NAME-input",type:"input",topic:"name",multicast:!1}]}}},templates:[{body:{organization:"nodeflow_sample",template:"nodePresentation"}}]},{id:"message-layout-3",component:"card-asset-node",header:{title:"Message Layout 3"},layout:{x:2,y:1,width:1,height:1},metadata:{provider:{business:{assetTypeId:"1",catalogId:"catalogId-message-layout-3",layoutId:"layoutId-message-layout-3"}},model:{producer:null,link:{sockets:[{id:"messageLayout3-NAME-input",type:"input",topic:"name",multicast:!1}]}}},templates:[{body:{organization:"nodeflow_sample",template:"nodePresentation"}}]},{id:"message-layout-5",component:"card-asset-node",header:{title:"Message Layout 5"},layout:{x:2,y:0,width:1,height:1},metadata:{provider:{business:{assetTypeId:"1",catalogId:"catalogId-message-layout-5",layoutId:"layoutId-message-layout-5"}},model:{producer:null,link:{sockets:[{id:"message-layout5:ABC-color",type:"input",topic:"color",enabled:!0,multicast:!1},{id:"messageLayout5-NAME-input",type:"input",topic:"name",multicast:!1}]}}},templates:[{body:{organization:"nodeflow_sample",template:"nodePresentation"}}]},{id:"message-layout-4",component:"card-asset-node",header:{title:"Layout 4"},layout:{x:0,y:2,width:1,height:1},metadata:{provider:{business:{assetTypeId:"6",catalogId:"catalogId-message-layout-4",layoutId:"layoutId-message-layout-4"}},model:{producer:{messages:[{topic:"name",form:{component:"leadershipForm"},state:{classifier:"leadershipMessage",data:{firstName:"Dwight",lastName:"Smith",position:"General"}}},{topic:"temperature",form:{component:"temperatureForm"},state:{classifier:"thermalMonitoringMessage",data:{peakTemp:60,minimumTemp:45,ambientTemp:20}}},{topic:"team",form:{component:"teamGroupForm"},state:{classifier:"teamMessage",data:{developers:2,scientists:5,managers:100}}}]},link:{sockets:[{id:"message-layout4:XYZ-output",type:"output",multicast:!0,topic:"name",subscribers:[{id:"machine-learning-1",valid:!0},{id:"message-layout-3",valid:!1},{id:"message-layout-2",valid:null}]}]}}},templates:[{body:{organization:"nodeflow_sample",template:"nodePresentation"}}]}]}},O3wz:function(e,t,n){"use strict";n.d(t,"a",function(){return o});var l=n("z6cu");n("QwtG"),n("hWmW");class o{constructor(e,t,n,l){this._globalState=e,this.platformCommunicatorService=t,this.clientDeploymentConfiguration=n,this.clientModuleIntegration=l}streamConfigurationMetadata(e,t){if(e&&t){const n=this.clientModuleIntegration.getOrganizerConfigurationService().configurationSchemaFileFetchMap.get(e);if(n){const e=n.fetchConfigurationSchemaResource$(t,this.platformCommunicatorService);return e.subscribe(e=>{t===e.id?(this._globalState.dashboardConfigurationIdentifier=t,this._globalState.dashboardConfigurationMetadata=e):(this._globalState.dashboardConfigurationIdentifier=this._globalState.dashboardConfigurationMetadata=null,Object(l.a)("invalid response for configuration id: "+e.id))},e=>{console.error("unable to load configuration: "+t,e)}),e}return console.error("unable to reference loader by organizer",e),Object(l.a)(new Error("can't load by organizer: "+e))}return Object(l.a)(new Error("parameters missing for configuration loader"))}}},OEEO:function(e,t,n){"use strict";n.d(t,"a",function(){return o});var l=n("LRne");class o{constructor(){}streamInitialDataModel(e,t){console.error("problem instantiating",e.resourceId,"with a component tag",e.component);const n={error:{id:"unavailable",description:`Please resolve problem with ${e.resourceId}`}};return Object(l.a)(n)}}},PeX2:function(e,t,n){"use strict";n.d(t,"a",function(){return c});var l=n("8Y7J"),o=n("LRne"),i=n("pLZG"),r=n("/uUt"),s=n("3E0/"),a=n("eIep"),u=n("w1tV");class c{constructor(e,t){this._ngmfl=e,this.compiler=t}bootstrappingTemplateLoading(e,t,n,l){const o=e.classification;if(o&&o.organization){const i=t.resolver.injectorInstance,r=i.state().findConfigurationResourceByType(i.classificationMetadata().layoutResourceType,i.classificationMetadata().layoutMetadataKey);if(r){const t=r.resolver.injectorInstance.state(),i=this.deriveBestMatchOrganization(t.card.fields);i.length?i.some(t=>o.organization===t?(e.load().then(e=>{n(e)}),!0):(n(null),!1)):i.length>1?console.error("metadata limitation: can't support multiple template providers yet",e):i.length||l(null)}}}bootstrappingModuleRouteLoading(e,t,n,o){const i=e.classification;if(i&&i.organization){const r=t.resolver.injectorInstance,s=r.state().findConfigurationResourceByType(r.classificationMetadata().layoutResourceType,r.classificationMetadata().layoutMetadataKey);if(s){const t=s.resolver.injectorInstance.state(),r=this.deriveBestMatchOrganization(t.card.fields);r.length?r.some(t=>{if(i.organization===t){const t=e.loadModuleRoute;if(t)try{"string"==typeof t.loadChildren?this._ngmfl.load(t.loadChildren).then(e=>{n(e)}).catch(()=>{o(null)}):"function"==typeof t.loadChildren&&(0,t.loadChildren)().then(e=>{e instanceof l.x?n(e):this.compiler.compileModuleAsync(e).then(e=>{n(e)})})}catch(r){o(null)}else n(null);return!0}return n(null),!1}):r.length>1?console.error("metadata limitation: can't support multiple template providers yet",e):r.length||o(null)}}}prepareFieldMetadataList(e){const t=e.resolver.injectorInstance,n=t.state(),l=t.classificationMetadata(),o=n.findConfigurationResourceByType(l.layoutResourceType,l.layoutMetadataKey);let i=[];if(o)try{i=o&&o.resolver.injectorInstance.state().card.fields}catch(r){console.error("could not yield fields for",o)}return i}awaitingResourceStream(e){const t=e.resolver.injectorInstance;if(e.resolver.metadata.isInvoked&&t.consumeProgressTopic){if(t.state())return Object(o.a)(!0)}else this.triggerResourceResolving(e);return t.awaitingConsumeTopic.pipe(Object(i.a)(e=>!e),Object(r.a)(),Object(s.a)(0),Object(a.a)(e=>t.consumeProgressTopic),Object(u.a)())}triggerResourceResolving(e){return delete e.resolver.injectorInstance.consumeProgressTopic,e.resolver.metadata.isInvoked||(e.resolver.metadata.isInvoked=!0,e.resolver.metadata.isSync=!1),e.resolver.resolving()}deriveBestMatchOrganization(e){return Array.prototype.concat.apply([],e.map(e=>{const t=e.view,n=[];if(t)for(const l of Object.keys(t)){const e=t[l];e&&e.organization&&n.push(e.organization)}return n})).reduce((e,t)=>(e.indexOf(t)<0&&e.push(t),e),[])}}},Q1FS:function(e,t,n){"use strict";var l=n("yx2s"),o=n("Xwq/"),i=n("zfKp"),r=n("9AGB"),s=n("n3uD");function a(e){if(e||(e=s.config.Promise||Promise),!e)throw new Error("no Promise impl found");return e}t.Observable=function(){function e(e){this._isScalar=!1,e&&(this._subscribe=e)}return e.prototype.lift=function(t){var n=new e;return n.source=this,n.operator=t,n},e.prototype.subscribe=function(e,t,n){var l=this.operator,i=o.toSubscriber(e,t,n);if(i.add(l?l.call(i,this.source):this.source||s.config.useDeprecatedSynchronousErrorHandling&&!i.syncErrorThrowable?this._subscribe(i):this._trySubscribe(i)),s.config.useDeprecatedSynchronousErrorHandling&&i.syncErrorThrowable&&(i.syncErrorThrowable=!1,i.syncErrorThrown))throw i.syncErrorValue;return i},e.prototype._trySubscribe=function(e){try{return this._subscribe(e)}catch(t){s.config.useDeprecatedSynchronousErrorHandling&&(e.syncErrorThrown=!0,e.syncErrorValue=t),l.canReportError(e)?e.error(t):console.warn(t)}},e.prototype.forEach=function(e,t){var n=this;return new(t=a(t))(function(t,l){var o;o=n.subscribe(function(t){try{e(t)}catch(n){l(n),o&&o.unsubscribe()}},l,t)})},e.prototype._subscribe=function(e){var t=this.source;return t&&t.subscribe(e)},e.prototype[i.observable]=function(){return this},e.prototype.pipe=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return 0===e.length?this:r.pipeFromArray(e)(this)},e.prototype.toPromise=function(e){var t=this;return new(e=a(e))(function(e,n){var l;t.subscribe(function(e){return l=e},function(e){return n(e)},function(){return e(l)})})},e.create=function(t){return new e(t)},e}()},QwtG:function(e,t,n){"use strict";n.d(t,"a",function(){return i});var l=n("jtHE"),o=n("XNiG");class i{constructor(){this._subscriptions=new Map,this._dashboardTranslationSubject$=new l.a,this._data=new o.a,this._dataStream$=this._data.asObservable(),this._dataStream$.subscribe(e=>this._onEvent(e))}notifyTopicSynchronized(e,t){this.notifyDataSynchronized(this.generateTopic(e),t)}notifyTopicChanged(e,t){this.notifyDataChanged(this.generateTopic(e),t)}notifyDataSynchronized(e,t){this._generateSignal(e,t)}notifyDataChanged(e,t){this._data[e]!==t&&this._generateSignal(e,t)}get userLocale(){return this._locale}set userLocale(e){this._locale=e}get dashboardConfigurationIdentifier(){return this._dashboardConfigurationIdentifier}set dashboardConfigurationIdentifier(e){this._dashboardConfigurationIdentifier=e}get selectedOrganizerEnumerationKey(){return this._selectedOrganizerEnumerationKey}set selectedOrganizerEnumerationKey(e){this._selectedOrganizerEnumerationKey=e}get dashboardConfigurationMetadata(){return this._dashboardConfigurationMetadata}set dashboardConfigurationMetadata(e){this._dashboardConfigurationMetadata=e}subscribeTopic(e,t){this.subscribe(["topic",e.toString()].join(":"),t)}subscribe(e,t){const n=this._subscriptions.get(e)||[];n.push(t),this._subscriptions.set(e,n)}deriveRouteAccessor(){return{dashboardConfigurationIdentifier:this.dashboardConfigurationIdentifier,dashboardOrganizerPath:this.resolveOrganizerPackagePath()}}get businessStateContext(){return this._appStateContext}set businessStateContext(e){this._appStateContext=e}get dashboardConfigurationTranslationSubject(){return this._dashboardTranslationSubject$}get zone(){return this._zone}deriveStateAccessor(e){const t=e.configurationFacade;return{route:this.deriveRouteAccessor(),service:{},application:{i18n:{localeLanguageCode:this._locale.language.split(/_/)[0].toLowerCase()},system:{time:{current:{epoch:Date.now()}}},state:{id:t.id}},resource:{resourceId:e.resourceId,type:e.type},document:{id:e.configurationFacade.id}}}_onEvent(e){(this._subscriptions.get(e.event)||[]).forEach(t=>{t.call(null,e.data)})}_generateSignal(e,t){this._data[e]=t,this._data.next({event:e,data:this._data[e]})}generateTopic(e){return["topic",e.toString()].join(":")}}},R3oi:function(e,t,n){"use strict";n.d(t,"a",function(){return r});var l=n("62Do"),o=n("31G0");class i extends l.a{}const r=(()=>{class e extends o.a{classificationMetadata(){return e.metastructure}consume(e){return this._state=Object.assign(new i(this.configurationFacade.platformCommunicatorService,this.configurationFacade.directoryService),e),this.consumeProgressTopic=this.processingState(this._state),this.consumeProgressTopic.subscribe(e=>{},t=>{console.error("failed processingState()",this.classificationMetadata().identifier,"assembly 'consume' done",e.id,t)}),!0}state(){return this._state}}return e.metastructure={identifier:"dashboard-assembly-layout",layoutResourceType:"componentsList",layoutMetadataKey:"component-layout-metadata"},e})()},Rty2:function(e,t,n){"use strict";var l=n("T3We");const o={nodeflow_sample:{organizerPackage:n("X3/t").a.nodeflow,organization:"nodeflow_sample",description:"Node flow sample group 1"}};n.d(t,"a",function(){return i});const i={0:{organizerPackage:l.a.com_company_acme_shared_library,organization:"acme-framework",description:"framework supplier"},1:{organizerPackage:l.a.com_company_sample1,organization:"project1",description:"Sample testing dashboard #1 - 5 grid elements"},2:{organizerPackage:l.a.com_company_sample1,organization:"project2",description:"Sample testing dashboard #2 - 1 summary billboard"},3:{organizerPackage:l.a.com_company_sample3,organization:"project3",description:"Sample testing dashboard #3 - 1 summary billboard"},custom_sample:{organizerPackage:l.a.com_company_sample3,organization:"custom_sample",description:"custom sample in com_company_sample3"},nodeflow_sample:o.nodeflow_sample}},T3We:function(e,t,n){"use strict";n.d(t,"a",function(){return o}),n.d(t,"b",function(){return i});var l=n("UrxE"),o=function(e){return e[e.internal=1]="internal",e[e.com_company_acme_shared_library=2]="com_company_acme_shared_library",e[e.com_company_sample1=3]="com_company_sample1",e[e.com_company_sample2=4]="com_company_sample2",e[e.com_company_sample3=5]="com_company_sample3",e}({});function i(e){return Object(l.d)(o,e)}},TE5M:function(e,t,n){"use strict";n.d(t,"a",function(){return o});var l=n("9oXZ");class o extends l.a{constructor(){super()}getStrategyIdentifier(){return"MetricsListTransformerService"}extract(e){return e.resourceMeters.slice(0)}transform(e){const t=[];return e.forEach(e=>{{const n={model:e,view:this.baseViewItemFactory(e),message:e.title,data:e.progress};t.push(n)}}),t}baseViewItemFactory(e){const t={};return t.attribute={free:{value:parseFloat(e.free).toFixed(0),unit:e.free.split(/ +/)[1]}},t}}},TphC:function(e,t,n){"use strict";const l={gridType:"fit",fixedColWidth:250,fixedRowHeight:250,keepFixedHeightInMobile:!1,keepFixedWidthInMobile:!1,compactType:"none",mobileBreakpoint:640,minCols:1,maxCols:100,minRows:1,maxRows:100,defaultItemCols:1,defaultItemRows:1,maxItemCols:50,maxItemRows:50,minItemCols:1,minItemRows:1,minItemArea:1,maxItemArea:2500,margin:10,outerMargin:!0,outerMarginTop:null,outerMarginRight:null,outerMarginBottom:null,outerMarginLeft:null,scrollSensitivity:10,scrollSpeed:20,initCallback:void 0,destroyCallback:void 0,itemChangeCallback:void 0,itemResizeCallback:void 0,itemInitCallback:void 0,itemRemovedCallback:void 0,enableEmptyCellClick:!1,enableEmptyCellContextMenu:!1,enableEmptyCellDrop:!1,enableEmptyCellDrag:!1,emptyCellClickCallback:void 0,emptyCellContextMenuCallback:void 0,emptyCellDropCallback:void 0,emptyCellDragCallback:void 0,emptyCellDragMaxCols:50,emptyCellDragMaxRows:50,ignoreMarginInRow:!1,draggable:{delayStart:0,enabled:!1,ignoreContentClass:"gridster-item-content",ignoreContent:!1,dragHandleClass:"drag-handler",stop:void 0,start:void 0},resizable:{delayStart:0,enabled:!1,handles:{s:!0,e:!0,n:!0,w:!0,se:!0,ne:!0,sw:!0,nw:!0},stop:void 0,start:void 0},swap:!0,pushItems:!1,disablePushOnDrag:!1,disablePushOnResize:!1,pushDirections:{north:!0,east:!0,south:!0,west:!0},pushResizeItems:!1,displayGrid:"onDrag&Resize",disableWindowResize:!1,disableWarnings:!1,scrollToNewItems:!1};var o=n("595X");n("HJaP");class i{constructor(e){this.gridster=e}destroy(){delete this.initialItem,delete this.gridster.movingItem,this.gridster.previewStyle&&this.gridster.previewStyle(),delete this.gridster}updateOptions(){this.gridster.$options.enableEmptyCellClick&&!this.emptyCellClick&&this.gridster.options.emptyCellClickCallback?(this.emptyCellClick=this.gridster.renderer.listen(this.gridster.el,"click",this.emptyCellClickCb.bind(this)),this.emptyCellClickTouch=this.gridster.renderer.listen(this.gridster.el,"touchend",this.emptyCellClickCb.bind(this))):!this.gridster.$options.enableEmptyCellClick&&this.emptyCellClick&&this.emptyCellClickTouch&&(this.emptyCellClick(),this.emptyCellClickTouch(),this.emptyCellClick=null,this.emptyCellClickTouch=null),this.gridster.$options.enableEmptyCellContextMenu&&!this.emptyCellContextMenu&&this.gridster.options.emptyCellContextMenuCallback?this.emptyCellContextMenu=this.gridster.renderer.listen(this.gridster.el,"contextmenu",this.emptyCellContextMenuCb.bind(this)):!this.gridster.$options.enableEmptyCellContextMenu&&this.emptyCellContextMenu&&(this.emptyCellContextMenu(),this.emptyCellContextMenu=null),this.gridster.$options.enableEmptyCellDrop&&!this.emptyCellDrop&&this.gridster.options.emptyCellDropCallback?(this.emptyCellDrop=this.gridster.renderer.listen(this.gridster.el,"drop",this.emptyCellDragDrop.bind(this)),this.emptyCellMove=this.gridster.renderer.listen(this.gridster.el,"dragover",this.emptyCellDragOver.bind(this))):!this.gridster.$options.enableEmptyCellDrop&&this.emptyCellDrop&&this.emptyCellMove&&(this.emptyCellDrop(),this.emptyCellMove(),this.emptyCellMove=null,this.emptyCellDrop=null),this.gridster.$options.enableEmptyCellDrag&&!this.emptyCellDrag&&this.gridster.options.emptyCellDragCallback?(this.emptyCellDrag=this.gridster.renderer.listen(this.gridster.el,"mousedown",this.emptyCellMouseDown.bind(this)),this.emptyCellDragTouch=this.gridster.renderer.listen(this.gridster.el,"touchstart",this.emptyCellMouseDown.bind(this))):!this.gridster.$options.enableEmptyCellDrag&&this.emptyCellDrag&&this.emptyCellDragTouch&&(this.emptyCellDrag(),this.emptyCellDragTouch(),this.emptyCellDrag=null,this.emptyCellDragTouch=null)}emptyCellClickCb(e){if(this.gridster.movingItem||o.a.checkContentClassForEmptyCellClickEvent(this.gridster,e))return;const t=this.getValidItemFromEvent(e);t&&(this.gridster.options.emptyCellClickCallback&&this.gridster.options.emptyCellClickCallback(e,t),this.gridster.cdRef.markForCheck())}emptyCellContextMenuCb(e){if(this.gridster.movingItem||o.a.checkContentClassForEmptyCellClickEvent(this.gridster,e))return;e.preventDefault(),e.stopPropagation();const t=this.getValidItemFromEvent(e);t&&(this.gridster.options.emptyCellContextMenuCallback&&this.gridster.options.emptyCellContextMenuCallback(e,t),this.gridster.cdRef.markForCheck())}emptyCellDragDrop(e){const t=this.getValidItemFromEvent(e);t&&(this.gridster.options.emptyCellDropCallback&&this.gridster.options.emptyCellDropCallback(e,t),this.gridster.cdRef.markForCheck())}emptyCellDragOver(e){e.preventDefault(),e.stopPropagation(),e.dataTransfer.dropEffect=this.getValidItemFromEvent(e)?"move":"none"}emptyCellMouseDown(e){if(o.a.checkContentClassForEmptyCellClickEvent(this.gridster,e))return;e.preventDefault(),e.stopPropagation();const t=this.getValidItemFromEvent(e);t&&(this.initialItem=t,this.gridster.movingItem=t,this.gridster.previewStyle(),this.emptyCellMMove=this.gridster.renderer.listen("window","mousemove",this.emptyCellMouseMove.bind(this)),this.emptyCellMMoveTouch=this.gridster.renderer.listen("window","touchmove",this.emptyCellMouseMove.bind(this)),this.emptyCellUp=this.gridster.renderer.listen("window","mouseup",this.emptyCellMouseUp.bind(this)),this.emptyCellUpTouch=this.gridster.renderer.listen("window","touchend",this.emptyCellMouseUp.bind(this)))}emptyCellMouseMove(e){e.preventDefault(),e.stopPropagation();const t=this.getValidItemFromEvent(e,this.initialItem);t&&(this.gridster.movingItem=t,this.gridster.previewStyle())}emptyCellMouseUp(e){this.emptyCellMMove(),this.emptyCellMMoveTouch(),this.emptyCellUp(),this.emptyCellUpTouch();const t=this.getValidItemFromEvent(e,this.initialItem);t&&(this.gridster.movingItem=t),this.gridster.options.emptyCellDragCallback&&this.gridster.movingItem&&this.gridster.options.emptyCellDragCallback(e,this.gridster.movingItem),setTimeout(()=>{this.initialItem=null,this.gridster&&(this.gridster.movingItem=null,this.gridster.previewStyle())}),this.gridster.cdRef.markForCheck()}getValidItemFromEvent(e,t){e.preventDefault(),e.stopPropagation(),o.a.checkTouchEvent(e);const n=this.gridster.el.getBoundingClientRect(),l=e.clientY+this.gridster.el.scrollTop-n.top,i={x:this.gridster.pixelsToPositionX(e.clientX+this.gridster.el.scrollLeft-n.left,Math.floor),y:this.gridster.pixelsToPositionY(l,Math.floor),cols:this.gridster.$options.defaultItemCols,rows:this.gridster.$options.defaultItemRows};if(t&&(i.cols=Math.min(Math.abs(t.x-i.x)+1,this.gridster.$options.emptyCellDragMaxCols),i.rows=Math.min(Math.abs(t.y-i.y)+1,this.gridster.$options.emptyCellDragMaxRows),t.x<i.x?i.x=t.x:t.x-i.x>this.gridster.$options.emptyCellDragMaxCols-1&&(i.x=this.gridster.movingItem?this.gridster.movingItem.x:0),t.y<i.y?i.y=t.y:t.y-i.y>this.gridster.$options.emptyCellDragMaxRows-1&&(i.y=this.gridster.movingItem?this.gridster.movingItem.y:0)),!this.gridster.checkCollision(i))return i}}var r=n("h/oP");class s{constructor(e){this.gridster=e}destroy(){delete this.gridster}checkCompact(){this.gridster.$options.compactType!==r.a.None&&(this.gridster.$options.compactType===r.a.CompactUp?this.checkCompactUp():this.gridster.$options.compactType===r.a.CompactLeft?this.checkCompactLeft():this.gridster.$options.compactType===r.a.CompactUpAndLeft?(this.checkCompactUp(),this.checkCompactLeft()):this.gridster.$options.compactType===r.a.CompactLeftAndUp&&(this.checkCompactLeft(),this.checkCompactUp()))}checkCompactItem(e){this.gridster.$options.compactType!==r.a.None&&(this.gridster.$options.compactType===r.a.CompactUp?this.moveUpTillCollision(e):this.gridster.$options.compactType===r.a.CompactLeft?this.moveLeftTillCollision(e):this.gridster.$options.compactType===r.a.CompactUpAndLeft?(this.moveUpTillCollision(e),this.moveLeftTillCollision(e)):this.gridster.$options.compactType===r.a.CompactLeftAndUp&&(this.moveLeftTillCollision(e),this.moveUpTillCollision(e)))}checkCompactUp(){let e,t,n=!1;const l=this.gridster.grid.length;for(let o=0;o<l;o++)!1!==(e=this.gridster.grid[o]).$item.compactEnabled&&(t=this.moveUpTillCollision(e.$item))&&(n=!0,e.item.y=e.$item.y,e.itemChanged());n&&this.checkCompact()}moveUpTillCollision(e){return e.y-=1,this.gridster.checkCollision(e)?(e.y+=1,!1):(this.moveUpTillCollision(e),!0)}checkCompactLeft(){let e,t,n=!1;const l=this.gridster.grid.length;for(let o=0;o<l;o++)!1!==(e=this.gridster.grid[o]).$item.compactEnabled&&(t=this.moveLeftTillCollision(e.$item))&&(n=!0,e.item.x=e.$item.x,e.itemChanged());n&&this.checkCompact()}moveLeftTillCollision(e){return e.x-=1,this.gridster.checkCollision(e)?(e.x+=1,!1):(this.moveLeftTillCollision(e),!0)}}n.d(t,"a",function(){return c});let a=0;const u={zoom:{scalerStartLevel:1,scalerAppliedClass:"scaled"}};class c{constructor(e,t,n){this.renderer=t,this.cdRef=n,this.scalerLevel=1,this.el=e.nativeElement,this.$options=JSON.parse(JSON.stringify(l)),this.calculateLayoutDebounce=o.a.debounce(this.calculateLayout.bind(this),5),this.mobile=!1,this.curWidth=0,this.curHeight=0,this.grid=[],this.curColWidth=0,this.curRowHeight=0,this.dragInProgress=!1,this.emptyCell=new i(this),this.compact=new s(this),this.instanceCount=++a}static checkCollisionTwoItems(e,t){return e.x<t.x+t.cols&&e.x+e.cols>t.x&&e.y<t.y+t.rows&&e.y+e.rows>t.y}ngAfterViewInit(){this.options.initCallback&&this.options.initCallback(this),this.applyZoomLayout(this.previewComponent.el)}ngOnChanges(e){e.options&&(this.setOptions(),this.options.api={optionsChanged:this.optionsChanged.bind(this),resize:this.onResize.bind(this),getNextPossiblePosition:this.getNextPossiblePosition.bind(this),getFirstPossiblePosition:this.getFirstPossiblePosition.bind(this),getLastPossiblePosition:this.getLastPossiblePosition.bind(this)},this.columns=this.$options.minCols,this.rows=this.$options.minRows,this.setGridSize(),this.calculateLayoutDebounce()),e.scalerLevel&&e.scalerLevel.currentValue!==this.scalerLevel&&this.onScalerLevelChangeEvent(e.scalerLevel.currentValue)}resize(){let e,t;"fit"!==this.$options.gridType||this.mobile?(t=this.el.clientWidth,e=this.el.clientHeight):(t=this.el.offsetWidth,e=this.el.offsetHeight),t===this.curWidth&&e===this.curHeight||!this.checkIfToResize()||this.onResize()}setOptions(){this.$options=o.a.merge(this.$options,this.options,this.$options),this.$options.disableWindowResize||this.windowResize?this.$options.disableWindowResize&&this.windowResize&&(this.windowResize(),this.windowResize=null):this.windowResize=this.renderer.listen("window","resize",this.onResize.bind(this)),this.emptyCell?this.emptyCell.updateOptions():console.log("fault: gridster missing emptyCell",this)}optionsChanged(){this.setOptions();let e,t=this.grid.length-1;for(;t>=0;t--)(e=this.grid[t]).updateOptions();this.calculateLayout()}ngOnDestroy(){this.windowResize&&this.windowResize(),this.options.destroyCallback&&this.options.destroyCallback(this),this.options.api&&(this.options.api.resize=void 0,this.options.api.optionsChanged=void 0,this.options.api.getNextPossiblePosition=void 0,this.options.api=void 0),this.emptyCell.destroy(),delete this.emptyCell,this.compact.destroy(),delete this.compact}onResize(){this.setGridSize(),this.calculateLayoutDebounce()}checkIfToResize(){const e=this.el.clientWidth,t=this.el.offsetWidth,n=this.el.scrollWidth,l=this.el.clientHeight,o=this.el.offsetHeight,i=this.el.scrollHeight;return!(e<t&&i>o&&i-o<t-e||l<o&&n>t&&n-t<o-l)}setGridSize(){let e,t;"fit"!==this.$options.gridType||this.mobile?(e=this.el.clientWidth,t=this.el.clientHeight):(e=this.el.offsetWidth,t=this.el.offsetHeight),this.curWidth=e,this.curHeight=t}setGridDimensions(){this.setGridSize(),!this.mobile&&this.$options.mobileBreakpoint>this.curWidth?(this.mobile=!this.mobile,this.renderer.addClass(this.el,"mobile")):this.mobile&&this.$options.mobileBreakpoint<this.curWidth&&(this.mobile=!this.mobile,this.renderer.removeClass(this.el,"mobile"));let e=this.$options.minRows,t=this.$options.minCols,n=this.grid.length-1;for(;n>=0;n--)e=Math.max(e,this.grid[n].$item.y+this.grid[n].$item.rows),t=Math.max(t,this.grid[n].$item.x+this.grid[n].$item.cols);this.columns=t,this.rows=e}calculateLayout(){if(this.compact&&this.compact.checkCompact(),this.setGridDimensions(),this.$options.outerMargin){let e=-this.$options.margin;e+=null!==this.$options.outerMarginLeft?this.$options.outerMarginLeft:this.$options.margin,this.curColWidth=(this.curWidth-(e+=null!==this.$options.outerMarginRight?this.$options.outerMarginRight:this.$options.margin))/this.columns;let t=-this.$options.margin;t+=null!==this.$options.outerMarginTop?this.$options.outerMarginTop:this.$options.margin,this.curRowHeight=(this.curHeight-(t+=null!==this.$options.outerMarginBottom?this.$options.outerMarginBottom:this.$options.margin))/this.rows}else this.curColWidth=(this.curWidth+this.$options.margin)/this.columns,this.curRowHeight=(this.curHeight+this.$options.margin)/this.rows;let e="",t="",n="",l="";"fit"===this.$options.gridType?(e="fit",t="scrollVertical",n="scrollHorizontal",l="fixed"):"scrollVertical"===this.$options.gridType?(this.curRowHeight=this.curColWidth,e="scrollVertical",t="fit",n="scrollHorizontal",l="fixed"):"scrollHorizontal"===this.$options.gridType?(this.curColWidth=this.curRowHeight,e="scrollHorizontal",t="fit",n="scrollVertical",l="fixed"):"fixed"===this.$options.gridType?(this.curColWidth=this.$options.fixedColWidth+(this.$options.ignoreMarginInRow?0:this.$options.margin),this.curRowHeight=this.$options.fixedRowHeight+(this.$options.ignoreMarginInRow?0:this.$options.margin),e="fixed",t="fit",n="scrollVertical",l="scrollHorizontal"):"verticalFixed"===this.$options.gridType?(this.curRowHeight=this.$options.fixedRowHeight+(this.$options.ignoreMarginInRow?0:this.$options.margin),e="scrollVertical",t="fit",n="scrollHorizontal",l="fixed"):"horizontalFixed"===this.$options.gridType&&(this.curColWidth=this.$options.fixedColWidth+(this.$options.ignoreMarginInRow?0:this.$options.margin),e="scrollHorizontal",t="fit",n="scrollVertical",l="fixed"),this.renderer.addClass(this.el,e),this.renderer.removeClass(this.el,t),this.renderer.removeClass(this.el,n),this.renderer.removeClass(this.el,l),this.gridLines&&this.gridLines.updateGrid();let o,i=this.grid.length-1;for(;i>=0;i--)(o=this.grid[i]).setSize(!1),o.drag.toggle(),o.resize.toggle();setTimeout(this.resize.bind(this),100)}addItem(e){void 0===e.$item.cols&&(e.$item.cols=this.$options.defaultItemCols,e.item.cols=e.$item.cols,e.itemChanged()),void 0===e.$item.rows&&(e.$item.rows=this.$options.defaultItemRows,e.item.rows=e.$item.rows,e.itemChanged()),-1===e.$item.x||-1===e.$item.y?this.autoPositionItem(e):this.checkCollision(e.$item)&&(this.$options.disableWarnings||console.warn("Can't be placed in the bounds of the dashboard, trying to auto position!/n"+JSON.stringify(e.item,["cols","rows","x","y"])),this.autoPositionItem(e)),this.grid.push(e),this.calculateLayoutDebounce()}removeItem(e){this.grid.splice(this.grid.indexOf(e),1),this.calculateLayoutDebounce(),this.options.itemRemovedCallback&&this.options.itemRemovedCallback(e.item,e)}checkCollision(e){return this.checkGridCollision(e)||this.findItemWithItem(e)}checkGridCollision(e){const t=e.cols*e.rows;return!(e.y>-1&&e.x>-1&&e.cols+e.x<=this.$options.maxCols&&e.rows+e.y<=this.$options.maxRows&&e.cols<=(void 0===e.maxItemCols?this.$options.maxItemCols:e.maxItemCols)&&e.cols>=(void 0===e.minItemCols?this.$options.minItemCols:e.minItemCols)&&e.rows<=(void 0===e.maxItemRows?this.$options.maxItemRows:e.maxItemRows)&&e.rows>=(void 0===e.minItemRows?this.$options.minItemRows:e.minItemRows)&&(void 0===e.minItemArea?this.$options.minItemArea:e.minItemArea)<=t&&(void 0===e.maxItemArea?this.$options.maxItemArea:e.maxItemArea)>=t)}findItemWithItem(e){let t,n=this.grid.length-1;for(;n>-1;n--)if((t=this.grid[n]).$item!==e&&c.checkCollisionTwoItems(t.$item,e))return t;return!1}findItemsWithItem(e){const t=[];let n,l=this.grid.length-1;for(;l>-1;l--)(n=this.grid[l]).$item!==e&&c.checkCollisionTwoItems(n.$item,e)&&t.push(n);return t}autoPositionItem(e){this.getNextPossiblePosition(e.$item)?(e.item.x=e.$item.x,e.item.y=e.$item.y,e.itemChanged()):(e.notPlaced=!0,this.$options.disableWarnings||console.warn("Can't be placed in the bounds of the dashboard!/n"+JSON.stringify(e.item,["cols","rows","x","y"])))}getNextPossiblePosition(e,t={}){-1===e.cols&&(e.cols=this.$options.defaultItemCols),-1===e.rows&&(e.rows=this.$options.defaultItemRows),this.setGridDimensions();let n,l=t.rows||0;for(;l<this.rows;l++)for(e.y=l,n=t.cols||0;n<this.columns;n++)if(e.x=n,!this.checkCollision(e))return!0;const o=this.$options.maxRows>=this.rows+e.rows;return!(this.rows<=this.columns&&o)&&this.$options.maxCols>=this.columns+e.cols?(e.x=this.columns,e.y=0,!0):!!o&&(e.y=this.rows,e.x=0,!0)}getFirstPossiblePosition(e){const t=Object.assign({},e);return this.getNextPossiblePosition(t),t}getLastPossiblePosition(e){let t;t=this.grid.reduce((e,t)=>{const n={y:t.$item.y+t.$item.rows-1,x:t.$item.x+t.$item.cols-1};return 1===o.a.compareItems({y:e.rows,x:e.cols},{y:n.y,x:n.x})?{rows:n.y,cols:n.x,item:t}:e},{rows:0,cols:0,item:null});const n=Object.assign({},e);return this.getNextPossiblePosition(n,{rows:t.rows-t.item.$item.rows+1,cols:t.cols}),n}pixelsToPositionX(e,t){return Math.max(t(this.descaleInteractionEventCoordinate(e)/this.curColWidth),0)}pixelsToPositionY(e,t){return Math.max(t(this.descaleInteractionEventCoordinate(e)/this.curRowHeight),0)}positionXToPixels(e){return e*this.curColWidth}positionYToPixels(e){return e*this.curRowHeight}scaleInteractionEventCoordinate(e){return e*this.scalerLevel}descaleInteractionEventCoordinate(e){return e/this.scalerLevel}applyZoomLayout(e){const t=this.scalerLevel!==u.zoom.scalerStartLevel;e.style.transform=t?`scale(${this.scalerLevel})`:"",e.classList[t?"add":"remove"](u.zoom.scalerAppliedClass)}onScalerLevelChangeEvent(e){this.scalerLevel=e,this.grid.forEach(e=>{this.applyZoomLayout(e.el),e.updateOptions(),e.setSize(!0)}),this.calculateLayout(),this.applyZoomLayout(this.previewComponent.el),this.previewStyle()}}},"U+hP":function(e,t,n){"use strict";n.d(t,"a",function(){return i});var l=n("lJxs"),o=(n("UrxE"),n("CuBc"),n("oVuv"),n("1qcj"),n("yxIY"),n("GDen"));n("vDj+");class i extends o.a{constructor(e,t,n,l,o,i,r,s,a){super(e,o,t,l),this.resourceToken=e,this._outlet=t,this.library=n,this._globalState=l,this._cd=o,this._service=i,this._parser=r,this._element=s,this._dashboardComponent=a,this.prepareTemplate(),this.setupHeaderSection()}ngOnInit(){super.ngOnInit(),this.initialize()}ngOnDestroy(){super.ngOnDestroy()}show(e){console.log("show",e)}setupHeaderSection(){this._outlet.isHeaderVisible=Boolean(this.library.alias.parameters["card.isHeaderVisible"])||!1,this._outlet.title=this.library.alias.cardI18n["card.title"],this._outlet.titleIconClasses=this.library.alias.parameters["card.iconClassesList"]}setupHeaderTemplateView(){}prepareDataStream(){const e=this._service.streamInitialDataModel(this.resourceToken.card,this._dashboardComponent).pipe(Object(l.a)(e=>e));return this.assemblySubscriptionList.push(e.subscribe(e=>{const t=this._parser.register(this.resourceToken.card,this.library,this.fieldMetadataList);this.billboardEntity=e.response.entity,this.billboardEntity.resourceMeters.slice(0),this.numericTransformedValueItemsList=t.transform(t.extract(e.response.entity)),this.loadedFlag=!0,this.forceViewRelayout(),this.resourceToken.outlet.forceViewRelayout()})),e}initialize(){}calculateAvailableScrollHeightMetric(e){return e-this._outlet.sumSectionsHeightExcept([this._element])}}},UGPC:function(e,t,n){var l=n("mrSG").__extends;t.AsapScheduler=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return l(t,e),t.prototype.flush=function(e){this.active=!0,this.scheduled=void 0;var t,n=this.actions,l=-1,o=n.length;e=e||n.shift();do{if(t=e.execute(e.state,e.delay))break}while(++l<o&&(e=n.shift()));if(this.active=!1,t){for(;++l<o&&(e=n.shift());)e.unsubscribe();throw t}},t}(n("NTcF").AsyncScheduler)},UrxE:function(e,t,n){"use strict";var l=n("QwtG"),o=n("fhqt"),i=n("+TDg");n.d(t,"b",function(){return l.a}),n.d(t,"a",function(){return o.a}),n.d(t,"c",function(){return i.a}),n.d(t,"d",function(){return i.b})},WFcv:function(e,t,n){"use strict";n.d(t,"a",function(){return a});var l=n("LRne"),o=n("3E0/"),i=n("w1tV"),r=n("62Do");const s={defaults:{isInvoked:!0,isSync:!0}},a=(()=>{class e extends r.b{constructor(e,t){super(t,s),this.parent=e,this.metadata=t}resolving(){return Object(l.a)({}).pipe(Object(o.a)(0),Object(i.a)())}}return e.metastructure={identifier:"noop"},e})()},"X3/t":function(e,t,n){"use strict";n.d(t,"a",function(){return o}),n.d(t,"b",function(){return i});var l=n("UrxE"),o=function(e){return e[e.nodeflow=1e3]="nodeflow",e}({});function i(e){return Object(l.d)(o,e)}},XRgO:function(e,t,n){"use strict";n.r(t);var l=n("8Y7J");class o{}var i=n("pMnS"),r=n("iInd");class s{constructor(){}ngOnInit(){}}var a=l.sb({encapsulation:0,styles:[["[_nghost-%COMP%]{display:flex;flex-direction:column;flex:0 1 100%;width:100%;height:100%;box-sizing:border-box;overflow:hidden}"]],data:{}});function u(e){return l.Qb(0,[(e()(),l.ub(0,16777216,null,null,1,"router-outlet",[],null,null,null,null,null)),l.tb(1,212992,null,0,r.q,[r.b,l.R,l.j,[8,null],l.h],null,null)],function(e,t){e(t,1,0)},null)}function c(e){return l.Qb(0,[(e()(),l.ub(0,0,null,null,1,"demo-dashboard",[],null,null,null,u,a)),l.tb(1,114688,null,0,s,[],null,null)],function(e,t){e(t,1,0)},null)}var d=l.qb("demo-dashboard",s,c,{},{},[]),h=n("s7LF"),g=n("SVse"),m=n("2Vo4"),p=n("XNiG"),b=n("pLZG"),f=n("lJxs"),C=function(e){return e[e.none=0]="none",e[e.focused=1]="focused",e}({}),y=function(e){return e[e.horizontal=1]="horizontal",e[e.vertical=2]="vertical",e}({}),v=function(e){return e[e.input=1]="input",e[e.output=2]="output",e}({});const I=(()=>{class e{constructor(){this.renderedNotation={},this.state={interaction:{selecting:C.none}}}onRendered(e,t,n){this.renderedNotation.centerX=e,this.renderedNotation.centerY=t,this.renderedNotation.isCondensed=n}}return e.supportedConnectorTypes=[v.input,v.output],e})();class O{constructor(){this.view=new I}}var M=function(e){return e[e.initialize=1]="initialize",e[e.update=2]="update",e[e.delete=3]="delete",e[e.restore=4]="restore",e}({});class S{constructor(e,t){this.payload=e,this.type=t}}var w=n("cp0P"),k=n("LRne"),T=n("IzEk");class P{constructor(e,t,n){this.message=e,this.onCollectionChange=t,this.onItemChange=n,this.connectors=new Set,this._uuid=this.generateUUID(e.topic)}get id(){return this._uuid}addConnector(e){return!this.hasExistingConnector(e)&&(this.connectors.add(e),this.onCollectionChange(),this.onItemChange(e),!0)}removeConnector(e){const t=this.connectors.delete(e);return t&&(this.onCollectionChange(),this.onItemChange(e)),t}hasExistingConnector(e,t){let n=!1;return this.connectors.forEach(l=>{l.producer!==e.producer||l.consumer!==e.consumer||void 0!==t&&l.state!==t||(n=!0)}),n}hasSocketConnectorRelationByResourceId(e,t,n){return Array.from(this.connectors).filter(e=>void 0===n||e.state===n).filter(n=>{switch(t){case v.output:return e===n.view.nodeSegmentConnector.start.card.resourceId;case v.input:return e===n.view.nodeSegmentConnector.end.card.resourceId;default:return!1}}).length>0}hasSocketConnectorRelationByNode(e,t,n){return!!e.link&&Array.from(this.connectors).filter(e=>void 0===n||e.state===n).filter(n=>{switch(t){case v.output:return e.link.hasSocket(n.producer);case v.input:return e.link.hasSocket(n.consumer);default:return e.link.hasSocket(n.producer)||e.link.hasSocket(n.consumer)}}).length>0}getSocketConnectorRelationListByNode(e,t,n){return Array.from(this.connectors).filter(e=>void 0===n||e.state===n).filter(n=>{switch(t){case v.output:const l=n.producer;return l===(e.link&&e.link.findSocketById(l.id,v.output));case v.input:const o=n.consumer;return o===(e.link&&e.link.findSocketById(o.id,v.input));case void 0:return[...this.getSocketConnectorRelationListByNode(e,v.input),...this.getSocketConnectorRelationListByNode(e,v.output)];default:return!1}})}getSocketConnectorRelationListBySocket(e,t,n){return Array.from(this.connectors).filter(e=>void 0===n||e.state===n).filter(n=>{switch(t||e.type){case v.output:return n.producer===e;case v.input:return n.consumer===e;case void 0:return[...this.getSocketConnectorRelationListBySocket(e,v.input),...this.getSocketConnectorRelationListBySocket(e,v.output)];default:return!1}})}getSocketConnectorRelationListByStateType(e){return Array.from(this.connectors).filter(t=>t.state===e)}unicastMessageState$(e,t,n,l){return this.publishMessageStateToSocketConnectorRelation$(e,t,n,l)}broadcastMessageState$(e,t,n,l){const o=(null!=l?this.getSocketConnectorRelationListByStateType(l):Array.from(this.connectors)).map(l=>this.publishMessageStateToSocketConnectorRelation$(e,t,n,l));return Object(w.a)(o).pipe(Object(f.a)(e=>!e.reduce((e,t)=>e+ +!t,0)),Object(T.a)(1))}generateUUID(e){return btoa(["route-relation",e,Date.now()].join("-"))}publishMessageStateToSocketConnectorRelation$(e,t,n,l){return this.synchronizeMessageModelState(e,t,n),l.onPublishMessageModelState(t,n),Object(k.a)(!0)}synchronizeMessageModelState(e,t,n){switch(n){case M.delete:e.state.data=null;break;default:e.state.classifier=t.classifier,e.state.data=t.data}}}const x={rules:{maxUnicastLimit:1,maxMulticastLimit:Number.MAX_VALUE}};class _{constructor(){this.messageConnectorsRouteRelationCollectionChange$=new m.a([]),this.socketConnectorRelationCollectionChange$=new m.a([]),this.socketConnectorRelationStateChange$=new p.a,this._collection=new Set,this.onSocketConnectorRelationItemChange=e=>(this.socketConnectorRelationStateChange$.next(e),e),this.onSocketConnectorRelationCollectionChange=()=>{const e=this.socketConnectorRelationList;return this.socketConnectorRelationCollectionChange$.next(e),this.messageConnectorsRouteRelationCollectionChange$.next(Array.from(this._collection)),e}}get socketConnectorRelationList(){return Array.from(this._collection).map(e=>Array.from(e.connectors)).filter(e=>e.length).reduce((e,t)=>e.concat(t),[])}factoryMessageConnectorsRouteRelation(e){return new P(e,this.onSocketConnectorRelationCollectionChange,this.onSocketConnectorRelationItemChange)}streamSocketConnectorRelationModelChangeByNode$(e,t){return this.socketConnectorRelationStateChange$.pipe(Object(b.a)((n,l)=>{switch(t){case v.input:return!!e.link&&e.link.hasSocket(n.consumer);case v.output:return!!e.link&&e.link.hasSocket(n.producer);default:return!1}}))}streamMessageConnectorsRouteRelationCollectionChangeByNode$(e,t){return this.messageConnectorsRouteRelationCollectionChange$.pipe(Object(f.a)(n=>n.filter(n=>n.hasSocketConnectorRelationByNode(e,t))))}provideMessageConnectorsRouteRelationModel(e,t){let n;const l=this.getRouteRelationListByMessage(t);return l.length?(l.length>1&&console.error("inconsistent model state, with route relation yield size",l.length),n=l[0]):n=this.factoryMessageConnectorsRouteRelation(t),n}findRouteRelationBySocketConnectorRelation(e){return Array.from(this._collection).find(t=>t.connectors.has(e))}findSocketConnectorRelationBySocketPair(e,t,n){const l=this.getSocketConnectorRelationListBySocket(e).filter(e=>e.consumer===t&&(void 0===n||e.state===n));return l.length?l[0]:void 0}validateSocketAddConnectorRule(e){return!(e&&!e.multicast&&this.getRouteRelationListBySocket(e).reduce((e,t)=>e+t.connectors.size,0)>=x.rules.maxUnicastLimit)}addRouteRelation(e){return!this._collection.has(e)&&(this._collection.add(e),this.messageConnectorsRouteRelationCollectionChange$.next(Array.from(this._collection)),!0)}removeRouteRelation(e){const t=this._collection.delete(e);return t&&this.messageConnectorsRouteRelationCollectionChange$.next(Array.from(this._collection)),t}getRouteRelationListBySocket(e,t){return Array.from(this._collection).filter(n=>!!Array.from(n.connectors).find(n=>e.type===v.output?n.producer===e:n.consumer===e&&(void 0===t||n.state===t)))}getRouteRelationListByMessage(e){return Array.from(this._collection).filter(t=>t.message===e)}getSocketConnectorRelationListBySocket(e,t){return Array.from(this._collection).map(n=>Array.from(n.getSocketConnectorRelationListBySocket(e,e.type,t))).filter(e=>e.length).reduce((e,t)=>e.concat(t),[])}isSocketConnected(e,t){return!!this.socketConnectorRelationList.find(n=>(n.producer===e||n.consumer===e)&&(void 0===t||n.state===t)&&n.isConnected)}}class R{constructor(){this._messages=new Set}get messageCollection(){return this._messages}findMessageByTopic(e){return Array.from(this._messages).find(t=>t.topic===e)}findMessageBySocket(e){return Array.from(this._messages).find(t=>t.socket===e)}addMessage(e){const t=this._messages.has(e);return this._messages.add(e),!t}removeMessage(e){return this._messages.delete(e)}}class E{constructor(){this.producerSocketCollection=new Set,this.consumerSocketCollection=new Set,this.managedCollections=new Set([this.consumerSocketCollection,this.producerSocketCollection])}static sortCollection(e){return Array.from(e).sort((e,t)=>e.enabled===t.enabled?e.topic.localeCompare(t.topic):e.enabled?-1:1)}addSocket(e){const t=this.getCollectionByType(e.type);return void 0!==e.type?!t.has(e)&&(t.add(e),!0):(console.error("type missing from socket model",e),!1)}removeSocket(e){const t=this.getCollectionByType(e.type);return void 0!==e.type?t.delete(e):(console.error("type missing from socket model",e),!1)}hasSocket(e,t){return void 0!==e.type?this.mergeCollection().has(e):(t||e.type)===v.input?this.consumerSocketCollection.has(e):this.producerSocketCollection.has(e)}getCollectionByType(e){return e===v.input?this.consumerSocketCollection:e===v.output?this.producerSocketCollection:this.mergeCollection()}findSocketById(e,t){return Array.from(this.getCollectionByType(t)).find(n=>n.id===e&&(void 0===t||n.type===t))}findSocketByTopic(e,t){return Array.from(this.getCollectionByType(t)).find(n=>n.topic===e&&(void 0===t||n.type===t))}mergeCollection(){return new Set([...this.producerSocketCollection,...this.consumerSocketCollection])}}class L{}class G{constructor(){this.view=new L}get id(){return this.view.gridItem.item.resourceId}}const D={geometry:{orientation:y.horizontal}};class j{constructor(e){this.config=e,D.geometry.orientation=y[e.component.compositor.socket.orientation]||D.geometry.orientation}setGridWidget(e){this.gridWidget=e}setGridContainerAssembly(e){this.gridContainerAssembly=e}updateSegmentConnectorLayout(e){e.start.x=this.calculateNodePositionLeft(e.start),e.start.y=this.calculateNodePositionTop(e.start),e.end.x=this.calculateNodePositionLeft(e.end),e.end.y=this.calculateNodePositionTop(e.end),e.geometry.path=this.drawConnectorPathGeometry(e)}fetchCardMetadata(e){return this.gridContainerAssembly.assemblyState.materializedModelList.find(t=>t.facade===e.item).card}findGridsterItemComponent(e){const t=this.gridWidget.findItemWithItem(e.layout);return"boolean"!=typeof t?t:void 0}generateItemConnectorCoordinate(e,t){const n={card:this.fetchCardMetadata(e.view.gridItem),gridItem:e.view.gridItem,organizer:{socket:t,collection:e.link.getCollectionByType(t.type)}};return Object.assign(n,{x:this.calculateNodePositionLeft(n),y:this.calculateNodePositionTop(n)})}drawConnectorPathGeometry(e){const t=e.start.gridItem,n=this.calculateItemPositionLeft(t),l=this.calculateItemPositionTop(t),o=t.el.clientWidth,i=t.el.clientHeight,r=e.end.gridItem,s=this.calculateItemPositionLeft(r),a=this.calculateItemPositionTop(r),u=r.el.clientWidth,c=r.el.clientHeight,d=[{x:n+o/2,y:l-1},{x:n+o/2,y:l+i+1},{x:n-1,y:l+i/2},{x:n+o+1,y:l+i/2},{x:s+u/2,y:a-1},{x:s+u/2,y:a+c+1},{x:s-1,y:a+c/2},{x:s+u+1,y:a+c/2}];let h=n+o-s,g=(d[2].y-d[7].y)/2;D.geometry.orientation===y.vertical&&(h=n+o/2-(s+u/2),g=r.itemTop-(t.itemTop+t.itemHeight));const m=D.geometry.orientation===y.horizontal?Math.abs(g)<50:Math.abs(h)<50,p=(Math.abs(h)**2+Math.abs(g)**2)**.5,b=a-l,f=d[7].x-d[3].x,C=this.calculatePlugGeometryLayout(e.start.organizer.socket,e.start.organizer.collection),v=this.calculatePlugGeometryLayout(e.end.organizer.socket,e.end.organizer.collection);return(D.geometry.orientation===y.horizontal?f<0&&(0===b||Math.abs(b/f)<.5):b<0&&(0===f||Math.abs(b/f)<.5))?this.deriveConnectorGeometryLoopbackPath(e,d,p,C,v):m||p<=this.config.asset.connector.layout.lineProximityThreshold?this.deriveConnectorGeometryLinePath(e,d,p,C,v):this.deriveConnectorGeometryBezierPath(e,d,p,C,v)}deriveConnectorGeometryBezierPath(e,t,n,l,o){const i=this.gridWidget.scaleInteractionEventCoordinate(100);let r,s;for(let h=0;h<4;h++)for(let e=4;e<8;e++)r=Math.abs(t[h].x-t[e].x),s=Math.abs(t[h].y-t[e].y);const[a,u,c,d]=this.derivePlugRelationCoordinates(e,n,l,o);if(r=Math.max(Math.abs(a-c)/1.05,i),D.geometry.orientation===y.horizontal)return["M"+a,u+"C"+(a-r),u,c+r,d,c,d].join(",");{const t=a,n=d,l=c,o=u;return 0===s?["M"+a,u+"C"+(a-r),n-e.start.gridItem.el.offsetHeight,c+r,o+e.end.gridItem.el.offsetHeight,c,d].join(","):["M"+a,u+"C"+t,n,l,o,c,d].join(",")}}deriveConnectorGeometryLoopbackPath(e,t,n,l,o){const i=[];let r,s;for(let h=0;h<4;h++)for(let e=4;e<8;e++)r=Math.abs(t[h].x-t[e].x),s=Math.abs(t[h].y-t[e].y),i.push(r+s);const[a,u,c,d]=this.derivePlugRelationCoordinates(e,n,l,o);if(r=Math.abs(t[7].x-t[3].x),D.geometry.orientation===y.horizontal)return["M"+a,u+"C"+(a-r+-.2*e.start.gridItem.itemWidth),u-2*e.start.gridItem.itemHeight/1.09,c+r+.2*e.end.gridItem.itemWidth,d-e.end.gridItem.itemHeight/1.09,c,d].join(",");{const t=c-a<0?-1:1;return["M"+a,u+"C"+(a+t*r+-.2*e.start.gridItem.itemWidth),u-e.start.gridItem.itemHeight/1.09,c+-t*r+.2*e.end.gridItem.itemWidth,d+e.end.gridItem.itemHeight/1.09,c,d].join(",")}}deriveConnectorGeometryLinePath(e,t,n,l,o){const i=[];let r,s;for(let h=0;h<4;h++)for(let e=4;e<8;e++)r=Math.abs(t[h].x-t[e].x),s=Math.abs(t[h].y-t[e].y),i.push(r+s);const[a,u,c,d]=this.derivePlugRelationCoordinates(e,n,l,o);return["M"+a,u+"L"+c,d].join(",")}calculateItemPositionLeft(e){return this.gridWidget.descaleInteractionEventCoordinate(e.el.offsetLeft-this.gridWidget.$options.margin)}calculateItemPositionTop(e){return this.gridWidget.descaleInteractionEventCoordinate(e.el.offsetTop-this.gridWidget.$options.margin)}calculateNodePositionLeft(e){const t=this.gridWidget.movingItem,n=e.gridItem;let l=this.calculateItemPositionLeft(n);switch(e.organizer.socket.type){case v.input:break;case v.output:l+=t===n.$item?n.el.clientWidth:n.width}return l}calculateNodePositionTop(e){const t=e.gridItem,n=this.gridWidget.movingItem===t.$item?t.el.clientHeight:t.height;return this.calculateItemPositionTop(t)+n/2}derivePlugRelationCoordinates(e,t,n,l){return D.geometry.orientation===y.horizontal?[e.end.x,e.end.y-e.end.gridItem.el.offsetHeight/2+l.relativeStartCrossAxisPosition+l.relativeCrossAxisPosition,e.start.x,e.start.y-e.start.gridItem.el.offsetHeight/2+n.relativeStartCrossAxisPosition+n.relativeCrossAxisPosition]:D.geometry.orientation===y.vertical?[e.end.x+l.relativeStartCrossAxisPosition+l.relativeCrossAxisPosition,e.end.y-e.end.gridItem.el.offsetHeight/2,e.start.x-e.start.gridItem.el.offsetWidth+n.relativeStartCrossAxisPosition+n.relativeCrossAxisPosition,e.start.y+e.start.gridItem.el.offsetHeight/2]:[0,0,0,0]}calculatePlugGeometryLayout(e,t){const n=E.sortCollection(t),l=n.indexOf(e),o=e.view.renderedNotation.isCondensed,i=o?1/this.config.asset.socket.layout.smallCondensingFactor:1,r=this.findPlugStackPositionPoint(e,l,n,i);return{mainAxisOrientationModifier:e.type===v.input?-1:1,isCondensed:o,condensingFactor:i,relativeCrossAxisPosition:r,relativeStartCrossAxisPosition:this.findPlugStackRelativeStartPoint(e,l,n,i)}}findPlugStackRelativeStartPoint(e,t,n,l){return((D.geometry.orientation===y.horizontal?e.view.nodeSegmentCoordinate.gridItem.el.offsetHeight:e.view.nodeSegmentCoordinate.gridItem.el.offsetWidth)-n.length*(this.config.asset.socket.layout.size+2*this.config.asset.socket.layout.padding)*l)/2}findPlugStackPositionPoint(e,t,n,l){const o=this.config.asset.socket.layout.size;return t*(o+2*this.config.asset.socket.layout.padding)*l+(this.config.asset.socket.layout.padding+o/2)}}var $=function(e){return e[e.none=1]="none",e[e.connect=2]="connect",e[e.transmit=3]="transmit",e[e.error=4]="error",e}({}),F=function(e){return e[e.none=1]="none",e[e.before=2]="before",e[e.active=3]="active",e[e.after=4]="after",e}({});const z={parameterSpecification:{moduleType:"parameters",containerName:"modulesList"},socketTypeMetadataMap:{input:0,output:1}};class A{constructor(e){this.geometryService=e}fetchModelParameter(e){const t=e.resolver.injectorInstance.state().findConfigurationResourceByType(z.parameterSpecification.containerName,z.parameterSpecification.moduleType);if(t)return t.resolver.injectorInstance.state().model||void 0}filterCardSocketMetadataByType(e,t){const n=this.fetchModelParameter(e);if(n&&n.link){const e=n.link.sockets;if(Array.isArray(e))return e.filter(e=>z.socketTypeMetadataMap[e.type]===t).length>0}return!1}parseGridsterItemModel(e){return this.fetchModelParameter(this.geometryService.fetchCardMetadata(e))}generateConnectorRelationView(e,t,n,l){return this.mixinNodeSegmentConnectorGeometry({start:this.geometryService.generateItemConnectorCoordinate(e,t),end:this.geometryService.generateItemConnectorCoordinate(n,l),state:this.initializeNodeSegmentState()})}initializeNodeSegmentState(){return{interaction:{moving:F.none,messaging:$.none}}}mixinNodeSegmentConnectorGeometry(e){return e.geometry={},e}}class N{constructor(){this.isParentContainerFilled=!0}setGridWidget(e){this.gridWidget=e}getGridMargin(){return this.gridWidget.$options.margin}calculateWidth(){if(!this.gridWidget)return 0;const e=[Math.round(this.gridWidget.scaleInteractionEventCoordinate(this.gridWidget.curColWidth*this.gridWidget.columns)+this.getGridMargin())];return this.isParentContainerFilled&&e.push(this.gridWidget.curWidth),Math.max.apply(Math,e)}calculateHeight(){if(!this.gridWidget)return 0;const e=[Math.round(this.gridWidget.scaleInteractionEventCoordinate(this.gridWidget.curRowHeight*this.gridWidget.rows)+this.getGridMargin())];return this.isParentContainerFilled&&e.push(this.gridWidget.curHeight),Math.max.apply(Math,e)}generateSVGTransformSpace(e,t,n){return`translate(${e}, ${t})`+(void 0!==n?` scale(${n})`:"")}generateSVGRotateSpace(e,t,n){return"rotate("+[e,t,n]+")"}filterScalarPoint(e,t=!0){return 0===e?0:t?e:this.gridWidget.descaleInteractionEventCoordinate(e)}scalePoint(e){return 0===e?0:this.gridWidget.scaleInteractionEventCoordinate(e)}}const V={geometry:{radian2degree:180/Math.PI,orientation:y.horizontal}};class B{constructor(e,t,n){this.config=e,this.canvasLayoutService=t,this.connectorGeometryService=n,V.geometry.orientation=y[e.component.compositor.socket.orientation]||V.geometry.orientation}drawConnectorArrowPoints(){const e=this.config.asset.arrow;return[e.layout.width/2,0,e.layout.width,e.layout.height,e.layout.width/2,.85*e.layout.height,0,e.layout.height].map(t=>this.canvasLayoutService.filterScalarPoint(t,e.layout.scalable))}drawNodeSocketPathGeometry(e,t,n,l){const o=this.config.asset.socket.layout.size,i=this.calculateSocketGeometryLayout(e,t,n,l),r=i.isCondensed?2:1,s=o/2/(i.isCondensed?2:1);let a,u,c,d;if(V.geometry.orientation===y.horizontal)a=e.view.nodeSegmentCoordinate.x,u=i.relativeCrossAxisPosition,u+=s+(i.centerCrossAxisPosition+i.mainAxisOrientationModifier*(o+1*this.config.asset.socket.layout.padding)/2),c=[0,-i.mainAxisOrientationModifier*o*i.condensingFactor],d=[r,1];else{a=e.view.nodeSegmentCoordinate.x+i.relativeCrossAxisPosition,u=e.view.nodeSegmentCoordinate.y;const t=e.view.nodeSegmentCoordinate.gridItem.el.offsetHeight/2,n=e.view.nodeSegmentCoordinate.gridItem.el.offsetWidth/2;e.type===v.input?(a+=n+o,u-=t):(a-=n,u+=t),c=[i.mainAxisOrientationModifier*o*i.condensingFactor,0],d=[1,r]}return e.view.onRendered(a+s,u+s,i.isCondensed),`M ${a} ${u} a${d} 0 0,0 ${c}`}updateNodePosition(e){e.x=this.connectorGeometryService.calculateNodePositionLeft(e),e.y=this.connectorGeometryService.calculateNodePositionTop(e)}transformConnectorArrowRotation(e,t){const n=this.config.asset.arrow;let l=0;const o=t.getTotalLength();if(o){const e=o/1e6,n=t.getPointAtLength(o/2-e),i=t.getPointAtLength(o/2+e);l=Math.atan2(n.y-i.y,n.x-i.x)*V.geometry.radian2degree}else l=Math.atan2(e.end.y-e.start.y,e.end.x-e.start.x)*V.geometry.radian2degree,l+=180;return this.canvasLayoutService.generateSVGRotateSpace(90+l,this.canvasLayoutService.filterScalarPoint(n.layout.width/2,n.layout.scalable),this.canvasLayoutService.filterScalarPoint(n.layout.height/2,n.layout.scalable))}transformConnectorArrowCentroid(e,t){const n=this.config.asset.arrow,l=t.getTotalLength()/2;if(!l)return;const o=t.getPointAtLength(l),i={x:o.x-this.canvasLayoutService.filterScalarPoint(n.layout.width/2,n.layout.scalable),y:o.y-this.canvasLayoutService.filterScalarPoint(n.layout.height/2,n.layout.scalable)};return this.canvasLayoutService.generateSVGTransformSpace(i.x,i.y)}calculateSocketGeometryLayout(e,t,n,l){const o=V.geometry.orientation,i=e.view.nodeSegmentCoordinate,r=this.findSocketStackPositionPoint(e,t,0,l,1),s=this.isCondensingSocketLayout(e,t,r),a=s?1/this.config.asset.socket.layout.smallCondensingFactor:1,u=this.findSocketStackPositionPoint(e,t,n,l,a);return{mainAxisOrientationModifier:e.type===v.input?-1:1,isCondensed:s,condensingFactor:a,relativeCrossAxisPosition:u,centerCrossAxisPosition:o===y.horizontal?i.y:i.x+i.gridItem.itemWidth/2}}isCondensingSocketLayout(e,t,n){const l=V.geometry.orientation,o=e.view.nodeSegmentCoordinate;let i=!1;return(l===y.horizontal&&o.y+n<this.connectorGeometryService.calculateItemPositionTop(t.view.gridItem)||l===y.vertical&&o.x+o.gridItem.el.offsetWidth/2+n<this.connectorGeometryService.calculateItemPositionLeft(t.view.gridItem))&&(i=!0),i}findSocketStackPositionPoint(e,t,n,l,o){const i=this.config.asset.socket.layout.size+2*this.config.asset.socket.layout.padding;return n*i*o-(l*i-2*this.config.asset.socket.layout.padding)*o/2}}var Q=function(e){return e[e.general=0]="general",e[e.establishRelationFromMessageToProducerSocket=1]="establishRelationFromMessageToProducerSocket",e}({});class H{}class W{constructor(){this.validations=new Set}createValidationStatus(e,t,n){const l=new H;return l.type=e,l.status=t,l.message=n,this.validations.add(l),l}}class q{constructor(){this.configurationModelParameterMap=new Map,this.subjects=new Set}createCardNodeSubjectValidator(e){const t=new W;return t.node=e,this.subjects.add(t),t}findCardNodeSubjectValidatorById(e){return Array.from(this.subjects).find(t=>t.node.id===e)}get errorValidationCount(){return Array.from(this.subjects).reduce((e,t,n)=>e+Array.from(t.validations).reduce((e,t,n)=>e+(t.status?0:1),0),0)}get validStatus(){return 0===this.errorValidationCount}}var U=function(e){return e[e.valid=1]="valid",e[e.invalid=2]="invalid",e[e.unknown=3]="unknown",e}({});class X{}class Y{constructor(){this.view=new X,this._publishMessageModelStateSubject$=new m.a(void 0)}get id(){if(this.isConnected)return[this.producer.id,this.consumer.id].join(":")}get isConnected(){return!(!this.producer||!this.consumer)}get deliveryMessagePublished$(){return this._publishMessageModelStateSubject$}getLinkedSocketList(){const e=[];return this.consumer&&e.push(this.consumer),this.producer&&e.push(this.producer),e}getOppositeSocket(e){return e===this.producer?this.consumer:this.producer}getOppositeSocketConnectorType(e){return e.type===v.output?v.input:v.output}onPublishMessageModelState(e,t){this._publishMessageModelStateSubject$.next(new S(e,t))}}class K{constructor(){this._messageStateDataChangeSubject$=new m.a(null),this._messageStateDataChange$=this._messageStateDataChangeSubject$}get selectMessageStateData$(){return this._messageStateDataChange$}get state(){return this._state}set state(e){this._state=e,this._messageStateDataChangeSubject$.next(this)}}class J{constructor(e,t){this.connectorLoaderService=e,this.connectorGeometryService=t}setState(e){this.state=e}nodeModelFactory(e,t){const n=new G;return n.view.gridItem=t,e.producer&&Array.isArray(e.producer.messages)&&(n.producer=new R,e.producer.messages.forEach(e=>{const t=new K;["form","state","topic"].map(n=>t[n]=e[n]),n.producer.addMessage(t)})),n}parseCardModelStructure(e){this.state.nodeList.forEach(t=>{const n=this.connectorLoaderService.parseGridsterItemModel(t.view.gridItem);e.configurationModelParameterMap.set(t.view.gridItem.item.resourceId,n);const l=e.createCardNodeSubjectValidator(t);if(e.findCardNodeSubjectValidatorById(t.id),n){if(n.link&&Array.isArray(n.link.sockets)){t.link=new E;for(const l of n.link.sockets)if(this.prevalidateSocket(l,t,e)){const n=this.factorySocket(l,t,e);t.link.addSocket(n)}}}else l.createValidationStatus(Q.general,!1,`missing card model definition ${t.id}`)})}parseCardModelLinkConnectors(e){this.state.nodeList.forEach(t=>{const n=e.configurationModelParameterMap.get(t.view.gridItem.item.resourceId),l=e.findCardNodeSubjectValidatorById(t.id);if(l)if(n&&n.link&&Array.isArray(n.link.sockets)){for(const o of n.link.sockets)if(Array.isArray(o.subscribers)&&t.producer){const n=t.producer.findMessageByTopic(o.topic);if(n){const i=this.state.routes.factoryMessageConnectorsRouteRelation(n);!o.multicast&&o.subscribers.length>1&&l.createValidationStatus(Q.general,!1,`producer socket set to unicast but discovered ${o.subscribers.length-1} other subscribers`);for(const r of o.subscribers.filter((e,t)=>!!o.multicast||0===t)){const s=r.id;if(s!==t.id){const a=t.link.findSocketById(o.id,v.output);if(i.hasSocketConnectorRelationByResourceId(s,v.input))l.createValidationStatus(Q.general,!1,`subscriber ${s} already bound on socket ${a&&a.id}`);else if(a){const u=this.state.findNodeById(s);if(u){const s=u.link.findSocketByTopic(o.topic,v.input);if(s){const o=this.factorySocketConnectionRelation(a,s,t,u,r.valid,e);o?(i.addConnector(o),i.unicastMessageState$(n,n.state,M.initialize,o)):l.createValidationStatus(Q.general,!1,`unable to establish connector relation: ${a.id} : ${s.id}`)}else l.createValidationStatus(Q.general,!1,`no matching consumer socket ${o.topic}`)}else l.createValidationStatus(Q.general,!1,`no matching consumer node ${s}`)}else l.createValidationStatus(Q.general,!1,`unable to relate socket definition ${o.id}`)}else l.createValidationStatus(Q.general,!1,`self-referential link: circular reference error ${s}`)}this.state.routes.addRouteRelation(i)}else l.createValidationStatus(Q.general,!1,`no associated binding message in producer ${t.id} by topic ${o.topic}`)}}else l.createValidationStatus(Q.general,!1,"missing card model link sockets")})}factorySocketConnectionRelation(e,t,n,l,o,i){const r=new Y;r.producer=e,r.consumer=t;const s=this.state.routes.getRouteRelationListBySocket(t);if(t.multicast||!s.length)return r.state=null!==o?o?U.valid:U.invalid:U.unknown,r.view.nodeSegmentConnector=this.connectorLoaderService.generateConnectorRelationView(n,e,l,t),r.view.nodeSegmentConnector.id=r.id,r;{const e=s.map(e=>Array.from(e.connectors).map(e=>e.producer.id)),t=i.findCardNodeSubjectValidatorById(l.id);t&&t.createValidationStatus(Q.general,!1,`consumer socket already allocated to producer(s): ${e}`)}}prevalidateSocket(e,t,n){const l=n.findCardNodeSubjectValidatorById(t.id);let o=!0;return l&&t.link&&(e.id?t.link.findSocketById(e.id)?l.createValidationStatus(Q.general,o=!1,`duplicated socket id key detected on node: ${e.id}`):t.link.findSocketByTopic(e.topic)&&l.createValidationStatus(Q.general,o=!1,`duplicated socket topic detected on node: ${e.topic}`):l.createValidationStatus(Q.general,o=!1,`missing socket id key in declaration: ${e.topic}`)),o}factorySocket(e,t,n){const l=new O;["id","multicast","topic","enabled"].map(t=>l[t]=e[t]),l.type=v[e.type],l.view.nodeSegmentCoordinate=this.connectorGeometryService.generateItemConnectorCoordinate(t,l);const o=n.findCardNodeSubjectValidatorById(t.id),i=l.type===v.output&&t.producer&&t.producer.findMessageByTopic(e.topic);return i?i.socket=l:t.producer&&e.topic&&l.type===v.output&&o&&o.createValidationStatus(Q.general,!1,`unable to establish relation from message to producer socket: ${e.topic}`),l}}var Z=n("7o/Q"),ee=n("D0XW");function te(e,t=ee.a){return n=>n.lift(new ne(e,t))}class ne{constructor(e,t){this.dueTime=e,this.scheduler=t}call(e,t){return t.subscribe(new le(e,this.dueTime,this.scheduler))}}class le extends Z.a{constructor(e,t,n){super(e),this.dueTime=t,this.scheduler=n,this.debouncedSubscription=null,this.lastValue=null,this.hasValue=!1}_next(e){this.clearDebounce(),this.lastValue=e,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(oe,this.dueTime,this))}_complete(){this.debouncedNext(),this.destination.complete()}debouncedNext(){if(this.clearDebounce(),this.hasValue){const{lastValue:e}=this;this.lastValue=null,this.hasValue=!1,this.destination.next(e)}}clearDebounce(){const e=this.debouncedSubscription;null!==e&&(this.remove(e),e.unsubscribe(),this.debouncedSubscription=null)}}function oe(e){e.debouncedNext()}class ie{constructor(e,t,n,l){this.gridStoreService=e,this.shapeGeometryService=t,this.connectorLoaderService=n,this.connectorGeometryService=l,this.isInitialized$=new m.a(!1),this.nodeCollectionChange$=(new p.a).pipe(te(0)),this.nodeCollectionCache$=new m.a(null),this.gridStoreService.setState(this),this.routes=new _}findNodeById(e){return this.nodeList.find(t=>t.id===e)}findNodeBySocket(e){return this.nodeList.find(t=>!!t.link&&!!t.link.findSocketById(e.id,e.type))}initializeStore(){this.nodeList=[],this.isInitialized$.next(!0)}uninitializeStore(){this.nodeList=void 0,delete this.routes,this.routes=new _,this.isInitialized$.next(!1)}recalculateConnectorsView(){for(const e of this.routes.socketConnectorRelationList)this.connectorGeometryService.updateSegmentConnectorLayout(e.view.nodeSegmentConnector);if(this.nodeList){for(const e of this.nodeList)if(e.link)for(const t of e.link.managedCollections)for(const e of t)this.shapeGeometryService.updateNodePosition(e.view.nodeSegmentCoordinate)}else console.error("connector links recalculated with uninitialized nodeList")}addNode(e){return this.nodeList.push(e),this.emitCollectionChange(),!0}removeNode(e){const t=1===this.nodeList.splice(this.nodeList.indexOf(e),1).length;return this.emitCollectionChange(),t}importGridsterItem(e){const t=this.connectorLoaderService.parseGridsterItemModel(e);t&&this.addNode(this.gridStoreService.nodeModelFactory(t,e))}assembleLayoutConnectors(e){const t=new q;return e.length&&(this.gridStoreService.parseCardModelStructure(t),this.gridStoreService.parseCardModelLinkConnectors(t)),t}emitCollectionChange(){const e=Array.from(this.nodeList);this.nodeCollectionChange$.next(e),this.nodeCollectionCache$.next(e)}}var re=n("vkgz"),se=n("/uUt");class ae{constructor(e){this.zone=e,this.isDragging=!1,this.positionSnapshot={x:0,y:9,scrollLeft:0,scrollTop:0},this.mouseDownEvent=e=>{const t=this.viewportContainerPage.gridContainerAssemblyInstance;if(t){const n=t.gridWidget;n.dragInProgress||e.target!==n.el||this.isMouseOverElementScrollbar(e,e.target)||(this.zone.run(()=>{this.isDragging=!0}),this.positionSnapshot.x=e.clientX,this.positionSnapshot.y=e.clientY,this.positionSnapshot.scrollLeft=n.el.scrollLeft,this.positionSnapshot.scrollTop=n.el.scrollTop,this.viewportContainerPage.dashboardInstanceViewContainerRef.element.nativeElement.addEventListener("mousemove",this.mouseMoveEvent)),e.preventDefault()}},this.mouseMoveEvent=e=>{e.preventDefault();const t=this.viewportContainerPage.gridContainerAssemblyInstance;if(t){const n=t.gridWidget;if(!n.dragInProgress&&this.isDragging){if(1===e.buttons&&e.target===n.el){const t=1,l=e.clientY-this.positionSnapshot.y;n.el.scrollLeft=this.positionSnapshot.scrollLeft-(e.clientX-this.positionSnapshot.x)*t,n.el.scrollTop=this.positionSnapshot.scrollTop-l*t}0===e.buttons&&(this.zone.run(()=>{this.isDragging=!1}),this.positionSnapshot.x=this.positionSnapshot.y=0,this.viewportContainerPage.dashboardInstanceViewContainerRef.element.nativeElement.removeEventListener("mousemove",this.mouseMoveEvent))}}}}setDashboardViewportPage(e){this.viewportContainerPage=e}prepareMouseEvents(e){this.zone.runOutsideAngular(()=>{e.addEventListener("mousedown",this.mouseDownEvent)})}cleanupMouseEvents(e){e.removeEventListener("mousemove",this.mouseMoveEvent),e.removeEventListener("mousedown",this.mouseDownEvent),this.isDragging=!1}isMouseOverElementScrollbar(e,t){const n=e.target.getBoundingClientRect(),l="ltr"===t.ownerDocument.defaultView.getComputedStyle(t).direction;if(n.width!==e.target.clientWidth){const t=n.width-e.target.clientWidth;if(l&&e.offsetX>=n.width-t)return!0}return n.height!==e.target.clientHeight&&e.offsetY>=n.height-(n.height-e.target.clientHeight)}}n("CuBc");class ue{}var ce=n("hWmW"),de=n("UrxE"),he=n("JQfC");class ge{constructor(e){this.configurationFacadeService=e}setComponent(e){this.component=e}onShowVisibleCardsInfo(e,t){const n=e.map(e=>`* ${e.resourceId}`).join("\n");alert(n)}}var me=n("qLaa");const pe={form:{zoom:{default:1,validation:{minimum:.2,maximum:2}}},grid:{stateChangeCheckInterval:10,backgroundMouseDraggable:!1}};class be{constructor(e,t,n,o,i,r,s,a,u,c){this.fb=e,this.platformCommunicatorService=t,this.activatedRoute=n,this.router=o,this.elem=i,this.panService=r,this.cdr=s,this.themeService=a,this.demoTransaction=u,this.environmentConfiguration=c,this.zoomLevelChangeTransitionEnd$=new l.m,this.dashboardConfiguration$=new l.m,this.accountingJournalLayoutItemsChangeList=[],this.isDebugMode=!1,this.isActionToolbarMinimized=!1,this.gridContainerAssemblyInstanceInitialize$=new p.a,this.layoutItemInitialize$=new p.a,this.layoutItemStartMovementInteraction$=new p.a,this.layoutItemEndMovementInteraction$=new p.a,this.layoutItemDestroy$=new p.a,this.gridLayoutItemsInitialize$=new p.a,this.gridLayoutItemsChangeList$=new p.a,this.createForm(),this.onReset()}get zoomConfiguration(){return pe.form.zoom}get isDragging(){return this.panService.isDragging}get gridWidgetBoundingClientRect(){return this.gridContainerAssemblyInstance?this.gridContainerAssemblyInstance.gridWidget.el.getBoundingClientRect():{}}get gridWidgetElement(){const e=this.gridContainerAssemblyInstance;return e&&e.gridWidget?e.gridWidget.el:null}ngOnInit(){this.activatedRoute.data.pipe(Object(re.a)(e=>this.provision(e))).subscribe(),this.routerSub=this.router.events.subscribe(e=>{})}ngAfterViewInit(){pe.grid.backgroundMouseDraggable&&this.prepareMousePanningEvents()}ngOnDestroy(){this.cdr.detach(),this.routerSub.unsubscribe()}onToggleTheme(e){this.themeService.changeTheme(!this.themeService.themeStateFlag)}onGridContainerCreated(e){this.layoutItemList=[],this.gridContainerAssemblyInstance=e,this.layoutItemInitialize$.pipe(Object(T.a)(this.gridContainerAssemblyInstance.assemblyState.materializedModelList.length)).subscribe(e=>{this.layoutItemList.push(e)},()=>{},()=>{this.gridLayoutItemsInitialize$.next(this.layoutItemList)}),this.gridContainerAssemblyInstanceInitialize$.next(this.gridContainerAssemblyInstance)}onLayoutItemInitialize(e){this.layoutItemInitialize$.next(e)}onLayoutItemStartMovementInteraction(e){this.layoutItemStartMovementInteraction$.next(e)}onLayoutItemEndMovementInteraction(e){this.layoutItemEndMovementInteraction$.next(e)}onLayoutItemDestroy(e){this.layoutItemDestroy$.next(e)}onLayoutItemsChange(e){const t=new Date,n=++this.accountingJournalLayoutItemsTracking;this.accountingJournalLayoutItemsChangeList.unshift(e.map(e=>({tracking:n,receivedDate:t,layoutItem:e}))),this.gridLayoutItemsChangeList$.next(e)}onGridLayoutItemAdd(e){this.layoutItemList.push(e)}onGridLayoutItemRemove(e){this.layoutItemList.splice(this.layoutItemList.indexOf(e),1)}onReset(){this.accountingJournalLayoutItemsChangeList.length=0,this.accountingJournalLayoutItemsTracking=0}onZoomChangeEvent(e){this.onZoomCenterViewport(e)}onZoomCenterViewport(e){if(this.gridContainerAssemblyInstance){const t=this.gridContainerAssemblyInstance.gridWidget,n=e/t.scalerLevel;setTimeout(()=>{t.el.scrollLeft*=n,t.el.scrollTop*=n,this.cdr.markForCheck(),this.zoomLevelChangeTransitionEnd$.next(n)},this.gridContainerAssemblyInstance.transitionDuration)}}provision(e){this.routeOrganizerKey=this.activatedRoute.snapshot.params.organizer,this.componentConfiguration=e.configuration,this.accountingJournalLayoutItemsChangeList.length=0,this.dashboardConfiguration$.next(this.componentConfiguration),this.cdr.markForCheck()}prepareMousePanningEvents(){this.panService.cleanupMouseEvents(this.dashboardInstanceViewContainerRef.element.nativeElement),this.panService.setDashboardViewportPage(this),this.panService.prepareMouseEvents(this.dashboardInstanceViewContainerRef.element.nativeElement)}createForm(){this.themeChanges$=this.themeService.onChange$(),this.demoTransaction.setComponent(this),this.debugForm=this.fb.group({zoom:[pe.form.zoom.default,[h.A.min(this.zoomConfiguration.validation.minimum),h.A.max(this.zoomConfiguration.validation.maximum)]]}),this.debugForm.get("zoom").valueChanges.pipe(Object(se.a)()).subscribe(e=>this.onZoomChangeEvent(e))}}var fe=n("l7GE"),Ce=n("ZUHj");function ye(e){return t=>t.lift(new ve(e))}class ve{constructor(e){this.notifier=e}call(e,t){const n=new Ie(e),l=Object(Ce.a)(n,this.notifier);return l&&!n.seenValue?(n.add(l),t.subscribe(n)):n}}class Ie extends fe.a{constructor(e){super(e),this.seenValue=!1}notifyNext(e,t,n,l,o){this.seenValue=!0,this.complete()}notifyComplete(){}}const Oe={debug:!1,outletTemplateName:"visibleNotificationTemplate",autoCloseDelay:1e4};class Me{initialize(e,t,n){this.templateReplacerProxy=e,this.contentTemplate=t,this.templatePropertyMap=n}process(e){Oe.debug&&!e.validStatus&&(this.show(this.generateTitleBinding(e),this.generateMessageBinding(e))||console.error("template already visible, cannot interact while open"))}show(e,t){return!this.proxyCommand&&(this.proxyCommand=this.templateReplacerProxy(Oe.outletTemplateName,this.contentTemplate,this.templatePropertyMap,{title:e,messages:t}),Oe.autoCloseDelay&&(this.autoCloserTaskId=window.setTimeout(()=>this.hide(),Oe.autoCloseDelay)),!0)}hide(){if(this.proxyCommand){const e=this.proxyCommand.close();return e&&(this.proxyCommand=void 0,window.clearTimeout(this.autoCloserTaskId),this.autoCloserTaskId=void 0),e}return!1}generateTitleBinding(e){return"Warnings: "+e.errorValidationCount}generateMessageBinding(e){const t=[];for(const n of e.subjects)for(const e of n.validations)e.status||t.push(e.message);return t}}const Se={debug:!1,outletTemplateName:"visibleTooltipTemplate",openDelay:500,autoCloseDelay:0};class we{initialize(e,t,n){this.templateReplacerProxy=e,this.contentTemplate=t,this.templatePropertyMap=n}show(e,t,n){return!this.proxyCommand&&!!n&&(this.openDelayTaskId=window.setTimeout(()=>{this.proxyCommand=this.templateReplacerProxy(Se.outletTemplateName,this.contentTemplate,this.templatePropertyMap,{socket:e,node:t,triggerElement:n}),this.proxyCommand.clientContext={socket:e},Se.autoCloseDelay&&(this.autoCloserTaskId=window.setTimeout(()=>this.hide(),Se.autoCloseDelay)),this.proxyCommand.onLayout()},Se.openDelay),!0)}hide(){if(this.openDelayTaskId&&(clearTimeout(this.openDelayTaskId),delete this.openDelayTaskId),this.proxyCommand){const e=this.proxyCommand.close();return e&&(delete this.proxyCommand.clientContext,this.proxyCommand=void 0,this.autoCloserTaskId=void 0),e}return!1}}var ke=n("q7YW");const Te={underlay:{position:"absolute",backgroundColor:"rgba(0,0,0,.2)"}};class Pe{getInteractionMovementEventStreams(e,t,n,l=!0){const o=l?this.generateMouseInteractionsMovementEvents(e):this.generateTouchInteractionsMovementEvents(e);return{starts:o.starts,moves:o.moves.pipe(te(t),ye(n)),ends:o.ends}}positionDragElement(e,t,n,l,o){const i=l.getBoundingClientRect(),r={x:n.x-t.width/2,y:n.y-t.height/2};o&&(n.y<i.top+t.height/2?r.y=i.top:n.y>i.bottom-t.height/2&&(r.y=i.bottom-t.height),n.x<i.left+t.width/2?r.x=i.left:n.x>i.right-t.width/2&&(r.x=i.right-t.width)),e.style.left=(r.x>>0)+"px",e.style.top=(r.y>>0)+"px"}createMovementConstrainingElement(e,t){const n=e.ownerDocument.createElement("div");return n.className=t,n.style.position=Te.underlay.position,n.style.backgroundColor=Te.underlay.backgroundColor,e.ownerDocument.body.appendChild(n),n}removeMovementConstrainingElement(e){return!!e&&(e.ownerDocument.body.removeChild(e),!0)}synchronizeElementsClientRect(e,t){const n=e.getBoundingClientRect(),l=t.style;l.top=n.top+"px",l.left=n.left+"px",l.width=n.width+"px",l.height=n.height+"px"}generateMouseInteractionsMovementEvents(e){const[t,n,l]=[Object(ke.fromEvent)(e,"mousedown"),Object(ke.fromEvent)(e.ownerDocument.defaultView,"mousemove"),Object(ke.fromEvent)(e.ownerDocument.defaultView,"mouseup")].map(e=>e.pipe(Object(f.a)(e=>(e=>(e.preventDefault(),{x:e.clientX,y:e.clientY}))(e))));return{starts:t,moves:n,ends:l}}generateTouchInteractionsMovementEvents(e){const[t,n,l]=[Object(ke.fromEvent)(e,"touchstart"),Object(ke.fromEvent)(e,"touchmove"),Object(ke.fromEvent)(e.ownerDocument.defaultView,"touchend")].map(e=>e.pipe(Object(f.a)(e=>(e=>(e.preventDefault(),{x:e.changedTouches[0].clientX,y:e.changedTouches[0].clientY}))(e))));return{starts:t,moves:n,ends:l}}}class xe{constructor(e){this.domInteractionService=e,this.isDraggingState=!1,this.draggableAvatarStateClass="hidden",this.clientDragDisposableSubject$=new p.a}}class _e{isMicrosoftBrowser(){return"Netscape"===window.navigator.appName&&window.navigator.userAgent.indexOf("Edge/")>0}}class Re{constructor(e,t,n,l,o,i,s,a,u,c,d,h,g,m,p,b){this.pageComponent=e,this.shapeLibrary=t,this.gridStateManager=n,this.browserService=l,this.connectorGeometryService=o,this.cardParseNotificationOverlayService=i,this.socketConnectorTooltipOverlayService=s,this.canvasLayoutService=a,this.socketConnectorDragService=u,this.activatedRoute=c,this.router=d,this.element=h,this.vcr=g,this.renderer=m,this.zone=p,this.cdr=b,this.visibleTooltipContext={socket:void 0,node:void 0,triggerElement:void 0},this.visibleNotificationContext={messages:void 0,overlayCommand:void 0},this.projectContentTemplateProxy=(e,t,n,l)=>{this[e]=t,Object.keys(l).forEach(e=>{n[e]=l[e]});const o={onLayout:()=>this.relayout(),close:()=>(this[e]=void 0,Object.keys(l).forEach(e=>{n[e]=void 0}),this.relayout(),!0)};return n.overlayCommand=o,o},this.routerSub=this.router.events.subscribe(e=>{e instanceof r.d&&(this.cleanup(),this.initialize())})}get calculatedLayoutWidth(){return this.canvasLayoutService.calculateWidth()}get calculatedLayoutHeight(){return this.canvasLayoutService.calculateHeight()}ngOnInit(){this.initialize()}ngAfterViewInit(){}ngOnDestroy(){this.routerSub.unsubscribe(),this.cleanup()}onConnectorRelationArrowClickEvent(e){this.removeConnectorRelation(e),this.relayout()}onConnectorRelationArrowMouseEnterEvent(e,t){}onConnectorRelationArrowMouseLeaveEvent(e,t){}onSocketConnectorDragStartEvent(e,t,n){}onSocketConnectorMouseEnterEvent(e,t,n){this.socketConnectorTooltipOverlayService.show(e,t,n.target)}onSocketConnectorMouseLeaveEvent(e,t,n){this.socketConnectorTooltipOverlayService.hide()}onConnectorRelationPathClickEvent(e){}filterScalarPoint(e,t=!0){return this.canvasLayoutService.filterScalarPoint(e,t)}trackConnectorBy(e,t){return t.id}trackNodeBy(e,t){return t.id}trackSocketBy(e,t){return t.id}deriveViewportOffsetTransform(){if(this.pageComponent.gridContainerAssemblyInstance){const e=this.pageComponent.gridContainerAssemblyInstance.assemblyConfiguration.materializedModel.gridsterConfiguration.margin;return this.canvasLayoutService.generateSVGTransformSpace(e,e,this.zoomLevel)}}onSocketViewSelectingStateChangeEvent(e,t){e.view.state.interaction.selecting=t?C.focused:C.none,this.relayout()}onSocketConnectorRelationBeforeMovingStateChangeEvent(e,t){e&&(e.view.nodeSegmentConnector.state.interaction.moving=t?F.before:F.none,e.getLinkedSocketList().forEach(e=>this.onSocketViewSelectingStateChangeEvent(e,t))),this.relayout()}onSocketConnectorRelationMessagingStateChangeEvent(e,t){e.view.nodeSegmentConnector.state.interaction.messaging=t,this.relayout()}styleNodeSocketClasses(e,t){return{nodeSocketConsumer:e.type===v.input,nodeSocketProducer:e.type===v.output,nodeSocketDisabled:!e.enabled,nodeSocketEmpty:!this.gridStateManager.routes.isSocketConnected(e),nodeSocketFocusedAction:e.view.state.interaction.selecting===C.focused}}styleConnectorRelationClasses(e){const t=e.view.nodeSegmentConnector;return{"messaging-none":t.state.interaction.messaging===$.none,"messaging-connect":t.state.interaction.messaging===$.connect,"messaging-transmit":t.state.interaction.messaging===$.transmit,"messaging-error":t.state.interaction.messaging===$.error,"moving-inactive":t.state.interaction.moving===F.none,"moving-before":t.state.interaction.moving===F.before,"moving-active":t.state.interaction.moving===F.active,"moving-after":t.state.interaction.moving===F.after,"link-valid":e.state===U.valid,"link-invalid":e.state===U.invalid,"link-unknown":e.state===U.unknown}}drawNodeSocketPath(e,t,n,l){return this.shapeLibrary.drawNodeSocketPathGeometry(e,t,n,l)}updateViewTransition(){this.triggerLayoutRender(),this.updateViewUntil(this.pageComponent.gridContainerAssemblyInstance.transitionDuration+10)}triggerLayoutRender(){this.gridStateManager.recalculateConnectorsView(),this.relayout()}initialize(){this.dashboardPageComponentSubscriptionList=[this.pageComponent.gridContainerAssemblyInstanceInitialize$.subscribe(e=>this.onCompositorGridContainerCreated(e)),this.pageComponent.layoutItemInitialize$.pipe(ye(this.pageComponent.gridLayoutItemsInitialize$)).subscribe(e=>this.createLayoutItemModel(e)),this.pageComponent.gridLayoutItemsInitialize$.subscribe(e=>this.createSegmentConnectors(e)),this.pageComponent.gridLayoutItemsChangeList$.subscribe(e=>this.onGridLayoutItemsChangeList(e)),this.pageComponent.zoomLevelChangeTransitionEnd$.subscribe(()=>this.relayout())],this.cardParseNotificationOverlayService.initialize(this.projectContentTemplateProxy,this.canvasCardParseErrorOverlayTemplate,this.visibleNotificationContext),this.socketConnectorTooltipOverlayService.initialize(this.projectContentTemplateProxy,this.socketConnectorTooltipTemplate,this.visibleTooltipContext)}onCompositorGridContainerCreated(e){this.gridStateManager.initializeStore(),this.connectorGeometryService.setGridWidget(e.gridWidget),this.connectorGeometryService.setGridContainerAssembly(e),this.canvasLayoutService.setGridWidget(e.gridWidget),this.prepareGridLayoutDragStateListeners()}onGridLayoutItemsChangeList(e){}updateViewUntil(e){const t=(e,n,l=0)=>{(n-e<l||!l)&&(this.triggerLayoutRender(),window.requestAnimationFrame(n=>t(e,n,l)))};window.requestAnimationFrame(n=>{t(n,n,e)})}updateViewWhile(e){const t=(n,l,o)=>{e.status||(this.triggerLayoutRender(),window.requestAnimationFrame(e=>t(n,e,o+1)))};return window.requestAnimationFrame(e=>{t(e,e,0)})}createLayoutItemModel(e){const t=this.connectorGeometryService.findGridsterItemComponent(e);t?this.gridStateManager.importGridsterItem(t):console.error("unmatched grid item at coordinate space",e.layout)}createSegmentConnectors(e){this.nodeValidatorResultManager=this.gridStateManager.assembleLayoutConnectors(e),this.prepareCanvasTransitionDuration(),requestAnimationFrame(()=>{this.triggerLayoutRender()});const t=e.map(e=>+this.assignNodeModelToCardAssemblyPlugin(e)).reduce((e,t)=>e+t,0);t<e.length&&console.error("could not link compositor nodes to plugins via mappings",e.length-t),this.cardParseNotificationOverlayService.process(this.nodeValidatorResultManager)}assignNodeModelToCardAssemblyPlugin(e){const t=this.gridStateManager.routes,n=this.gridStateManager.findNodeById(e.resourceId);if(!n)return!1;const l=this.pageComponent.gridContainerAssemblyInstance.cardAssemblyPluginList.find(t=>t.resourceToken.card.resourceId===e.resourceId);return!!l&&(l.attachViewModel({compositor:this,nodeModel:n,messageConnectivityDelegate:t,onNodeCollectionChange$:this.gridStateManager.nodeCollectionChange$,onNodeConsumerRelationsChange$:t.streamMessageConnectorsRouteRelationCollectionChangeByNode$(n,v.input),onNodeProducerRelationsChange$:t.streamMessageConnectorsRouteRelationCollectionChangeByNode$(n,v.output),onNodeConsumerSocketConnectorRelationModelChange$:t.streamSocketConnectorRelationModelChangeByNode$(n,v.input),onNodeProducerSocketConnectorRelationModelChange$:t.streamSocketConnectorRelationModelChangeByNode$(n,v.output)}),l.resourceToken.outlet.provisionMessageDeliveryTopic(l.outletMessageDeliveryTopicMap.onLayoutChange).subscribe(e=>{this.relayout()},()=>{},()=>{}),!0)}prepareCanvasTransitionDuration(){if(setTimeout(()=>{const e=this.pageComponent.gridContainerAssemblyInstance.transitionDuration;this.renderer.setStyle(this.svgCanvasHandle.nativeElement,"transition",`width ${e}ms, height ${e}ms`),this.renderer.setStyle(this.svgCanvasTransformerGroup.nativeElement,"transition",`transform ${e}ms`)},0),this.browserService.isMicrosoftBrowser()){const e=10;for(let t=0;t<e;t++)setTimeout(()=>{this.triggerLayoutRender()},this.pageComponent.gridContainerAssemblyInstance.transitionDuration*((t+1)/e))}}prepareGridLayoutDragStateListeners(){const e=()=>{const t={status:!1};let n;const l=this.pageComponent.layoutItemStartMovementInteraction$.pipe(ye(this.pageComponent.layoutItemEndMovementInteraction$)).subscribe(e=>{n=e,this.updateViewWhile(t)},e=>{console.error("animation error",e)},()=>{t.status=!0,l.unsubscribe(),this.updateViewUntil(this.pageComponent.gridContainerAssemblyInstance.transitionDuration),e()})};e()}removeConnectorRelation(e){}relayout(){this.cdr.markForCheck()}cleanup(){this.dashboardPageComponentSubscriptionList.forEach(e=>e.unsubscribe()),this.cardParseNotificationOverlayService.hide(),this.gridStateManager.uninitializeStore()}}const Ee={types:{stateTypeMap:new Map([["invalid",U.invalid],["valid",U.valid],["unknown",U.unknown]]),stateTypeList:[],stateTypeEnum:U,socketConnectorTypeMap:new Map([["input",v.input],["output",v.output]]),socketConnectorTypeList:[],socketConnectorTypeEnum:v}};class Le{constructor(e){this.gridStateManagerService=e,this.resolvedNodeflowReady$=new m.a(!1),this.types=Ee.types,this.nodeCollectionChange$=this.gridStateManagerService.nodeCollectionChange$,this.nodeCollectionCache$=this.gridStateManagerService.nodeCollectionCache$,this.types.stateTypeList=Array.from(this.types.stateTypeMap),this.types.socketConnectorTypeList=Array.from(this.types.socketConnectorTypeMap)}get nodeflowPluginList(){return this.resolvedNodeflow.pageComponent.gridContainerAssemblyInstance?this.resolvedNodeflow.pageComponent.gridContainerAssemblyInstance.cardAssemblyPluginList:[]}get selectedIsVerboseMode(){return this.toolbarNodeflowBehaviorActionForm.get("isVerboseMode").value}get selectedLinkStateType(){return this.toolbarNodeflowBehaviorActionForm.get("stateType").value}get currentProjectDashboardConfiguration(){return this.resolvedNodeflow?this.resolvedNodeflow.pageComponent.componentConfiguration:void 0}stateTypeClass(e){return{"invalid-state":e===U.invalid,"unknown-state":e===U.unknown,"valid-state":e===U.valid}}ngOnChanges(e){e.nodeflow&&e.nodeflow.currentValue&&(this.resolvedNodeflow=e.nodeflow.currentValue.injector.get(Re),this.projectConfigurationSubscription=this.resolvedNodeflow.pageComponent.dashboardConfiguration$.subscribe(e=>this.onDashboardConfigurationChange(e)),this.resolvedNodeflowReady$.next(!0),this.onResolveNodeflowComponent(this.resolvedNodeflow))}ngOnInit(){this.socketConnectorRelationModelCollection$=this.gridStateManagerService.routes.socketConnectorRelationCollectionChange$,this.toolbarNodeflowBehaviorActionForm=this.createForm()}ngOnDestroy(){this.projectConfigurationSubscription&&this.projectConfigurationSubscription.unsubscribe(),this.resolvedNodeflowReady$.next(!1)}onDashboardConfigurationChange(e){}onResolveNodeflowComponent(e){}}class Ge{constructor(){}transform(e){const t={};t.id=e.id,t.resources={};const n={};n.resourceId=`${e.id}:i18n`,n.type="i18n",n.resolver={injector:"dashboard-assembly-translation",node:{data:{title:null}}},t.resources.modulesList=[n],t.resources.cardsList=[];for(const r of e.cards)t.resources.cardsList.push(this.generateCardModuleResource(r));t.resources.viewsList=[];const l={};t.resources.viewsList.push(l),l.resourceId=`${e.id}:dashboard-grid-configuration`,l.type="dashboard-view-configuration",l.component="grid-container-dashboard-container",l.resolver={injector:"dashboard-assembly-grid-configuration",node:{type:"card-assembly-integration",data:{gridType:"fixed",minCols:3,maxCols:2*(Math.max(e.cards.length,Math.max(...e.cards.map(e=>e.layout.x)))+1)>>0,minRows:Math.max(Math.max(...e.cards.map(e=>e.layout.y))+1,1),maxRows:2*(Math.max(e.cards.length,Math.max(...e.cards.map(e=>e.layout.y+e.layout.height)))+1)>>0,mobileBreakpoint:0,swap:!1,margin:50,fixedColWidth:180,fixedRowHeight:60,compactType:"none",resizable:{enabled:!0}}}};const o={};t.resources.viewsList.push(o),o.resourceId=`${e.id}:dashboard-item-layout`,o.type="dashboard-view-state",o.component=l.component;const i={};return i.dashboard={view:{viewportScalableSizing:!0,viewportPositionRelative:!0,theme:null},container:{layoutColumnsBreakpointList:null,layoutItemList:e.cards.map(e=>({card:{resourceId:e.id},layout:{position:{x:e.layout.x,y:e.layout.y},dimensions:{initial:{width:e.layout.width,height:e.layout.height}}}}))}},o.resolver={injector:"dashboard-assembly-grid-container",node:{data:i}},t}generateCardModuleResource(e){const t={},n={};if(n.id=`${e.id}`,n.resources={},n.resources.modulesList=[],e.header){const t={};n.resources.modulesList.push(t),t.resourceId=`${e.id}:resource-i18n`,t.type="i18n",t.resolver={injector:"dashboard-assembly-translation",node:{data:{"card.title":e.header.title}}}}else console.error("missing header declaration in card",e.id);if(this.isArrayWithItems(e.services)||(e.services=[{[he.a.metastructure.identifier]:{}}]),Array.isArray(e.services))for(const l of e.services)for(const t of Object.keys(l)){const o={};if(n.resources.modulesList.push(o),o.resourceId=`${e.id}:resource-service:${t}`,o.type="service","network"===t){const e=["isSync"];o.resolver={[t]:{url:l[t].url,isEvaluated:!0}},e.forEach(e=>this.bindOptionalProperty(l[t],o.resolver[t],e))}else o.resolver={[t]:l[t]}}if(e.header){const t={resourceId:`${e.id}:resource-parameters`,type:"parameters",resolver:{node:{type:"card-assembly-parameters",data:{}}}};n.resources.modulesList.push(t);const l=t.resolver.node.data;l["card.isHeaderVisible"]=!0,e.header.icon&&(l["card.iconClassesList"]=[e.header.icon]),e.metadata&&Object.keys(e.metadata).forEach(t=>this.bindOptionalProperty(e.metadata,l,t))}if(n.resources.componentsList=[],e.templates){if(this.isArrayWithItems(e.templates)){const t={};n.resources.componentsList.push(t),t.resourceId=`${e.id}:resource-card-assembly`,t.type="component-layout-metadata",t.component=`${e.id}:resource-component`;const l=[];for(const n of e.templates){const e=["header","body","footer"];for(const t of e){const e=n[t];e&&l.push({id:e.template,view:{[t]:{organization:e.organization,template:e.template}}})}}t.resolver={node:{type:"card-assembly-integration",data:{card:{fields:l}}}}}}else console.error("missing templates declaration in card",e.id);return t.resourceId=e.id,t.component=e.component,t.type="card",t.resolver={injector:"dashboard-assembly-layout",node:{data:n}},t}isArrayWithItems(e){return!(!Array.isArray(e)||Array.isArray(e)&&0===e.length)}bindOptionalProperty(e,t,n){e.hasOwnProperty(n)&&(t[n]=e[n])}}const De=new Ge,je=De.transform.bind(De);var $e=n("NJuj"),Fe=n("z6cu"),ze=n("5+tZ"),Ae=function(e){return e[e.nativeDashboardResourceJson=1]="nativeDashboardResourceJson",e[e.nodeflowConfigurationSchemaJson=2]="nodeflowConfigurationSchemaJson",e}({});class Ne{}class Ve{}const Be={documentType:{json:"application/json"},template:{document:{file:{prefix:"nodeflow-project-",extension:"json"},card:{component:"card-asset-node",templates:[{body:{organization:"nodeflow_sample",template:"nodePresentation"}}]}}}};class Qe{constructor(e,t,n,l){this.gridStateManager=e,this.configurationFacadeService=t,this.connectorGeometryService=n,this.connectorLoaderService=l,this.cardConfigurationPreprocessor=new Ge}serializeNodeflowProjectModel$(e,t,n,l){return this.generateSerializedContent$(e,t,n,l).pipe(Object(ze.a)(t=>this.generateDocumentWrapper$(e,t,l)))}generateSerializedContent$(e,t,n,l){switch(l){case Ae.nativeDashboardResourceJson:return Object(Fe.a)(new Error("Serializer not developed for native dashboard resource"));case Ae.nodeflowConfigurationSchemaJson:return this.transformAssetNodeSerializedContent$(e,t,n,l);default:return Object(Fe.a)(new Error("Unknown serializer"))}}generateDocumentWrapper$(e,t,n){const l=new Ve;return l.packagingFormatType=n,l.documentId=e,l.filename=[Be.template.document.file.prefix+this.formatFilenameSafeToken(e)]+"."+Be.template.document.file.extension,l.createdDate=new Date,l.document=t,Object(k.a)(l)}formatFilenameSafeToken(e){return e.trim().replace(/\s+/g,"_").replace(/[~"'`\/\\.,;]+/g,"")}transformAssetNodeSerializedContent$(e,t,n,l){const o=[],i={id:e,cards:o},r=new Ne;r.documentType=Be.documentType.json;const s=[];return t.filter(e=>!(!e.viewModel||!e.viewModel.nodeModel)).forEach(e=>{const l=e.viewModel.nodeModel,i=l.view.gridItem,r={};r.id=l.id,r.component=Be.template.document.card.component,r.templates=Be.template.document.card.templates,r.header={title:e.resourceToken.outlet.title};const a=e.resourceToken.outlet.titleIconClasses;Array.isArray(a)&&a.length&&(r.header.icon=a[0]),r.layout={x:i.item.x,y:i.item.y,width:i.item.cols,height:i.item.rows};const u={};if(l.producer&&l.producer.messageCollection.size){const e=[];l.producer.messageCollection.forEach(t=>{e.push({topic:t.topic,form:t.form,state:t.state})}),u.producer={messages:e}}else u.producer=null;if(l.link){const e=[];l.link.managedCollections.forEach(o=>{o.forEach(o=>{const i={};if(i.id=o.id,i.type=o.type===v.input?"input":"output",i.topic=o.topic,i.enabled=o.enabled,i.multicast=o.multicast,o.type===v.output&&l.producer){const e=[],r=l.producer.findMessageBySocket(o);(r?n.getRouteRelationListByMessage(r):n.getRouteRelationListBySocket(o)).forEach(n=>{n.connectors.forEach(n=>{const l=n.state===U.unknown?null:n.state===U.valid,o=this.resolveNodeModelBySocket(n.consumer,t);o?e.push({id:o.id,valid:l}):s.push(Object(Fe.a)("missing consumer node "+n.consumer.id))})}),i.subscribers=e}e.push(i)})}),u.link={sockets:e}}else u.link=null;r.metadata={provider:{business:e.cardMetadata.businessProvider},model:u},o.push(r)}),r.content=JSON.stringify(i),s.length?s[0]:Object(k.a)(r)}resolveNodeModelBySocket(e,t){const n=t.find(t=>!(!t.viewModel.nodeModel.link||!t.viewModel.nodeModel.link.findSocketById(e.id,e.type))||!1);return n?n.viewModel.nodeModel:void 0}}const He={types:{packagingFormatTypeMap:new Map([["nativeDashboardResourceJson",Ae.nativeDashboardResourceJson],["nodeflowConfigurationSchemaJson",Ae.nodeflowConfigurationSchemaJson]]),packagingFormatLabelMap:new Map([[Ae.nativeDashboardResourceJson,"ResourceFacade Native"],[Ae.nodeflowConfigurationSchemaJson,"Nodeflow Standard"]]),stateTypeList:[],stateTypeEnum:Ae},form:{serializedDocumentEntityReference:{default:null},packagingFormatType:{default:Ae.nodeflowConfigurationSchemaJson},isVerboseMode:{default:!1}}};class We extends Le{constructor(e,t,n,l){super(l),this.fb=e,this._cdr=t,this.nodeflowAgentService=n,this.gridStateManagerService=l,this.availableSerializedDocumentList=[],this.packagingFormatTypeList=Array.from(He.types.packagingFormatTypeMap),this.packagingFormatLabelMap=He.types.packagingFormatLabelMap}get selectedSerializedDocumentEntityReference(){return this.toolbarNodeflowBehaviorActionForm.get("serializedDocumentEntityReference").value}get selectedPackagingFormatType(){return this.toolbarNodeflowBehaviorActionForm.get("packagingFormatType").value}get selectedNewDocumentIdentifier(){return this.toolbarNodeflowBehaviorActionForm.get("newDocumentIdentifier").value}formatShortDateTime(e){return[this.formatShortDate(e),this.formatShortTime(e)].join(" @ ")}formatShortDate(e){return e&&e.toLocaleDateString("en-US")}formatShortTime(e){return e&&[e.getHours(),(e.getMinutes()<10?"0":"")+e.getMinutes()].join(":")}calculateContentSize(e){let t="bytes",n=1;const l=e.length;return l>1e3&&(t="kb",n=1024),[l/n>>0,t].join(" ")}onSerializeNodeflowProjectModelEvent(){this.nodeflowAgentService.serializeNodeflowProjectModel$(this.selectedNewDocumentIdentifier,this.resolvedNodeflow.pageComponent.gridContainerAssemblyInstance.cardAssemblyPluginList,this.gridStateManagerService.routes,this.selectedPackagingFormatType).subscribe(e=>{this.processingErrorMessage=void 0,this.availableSerializedDocumentList.push(e),this.toolbarNodeflowBehaviorActionForm.get("serializedDocumentEntityReference").setValue(e)},e=>{this.processingErrorMessage=e},()=>{this.toolbarNodeflowBehaviorActionForm.get("newDocumentIdentifier").reset()})}onResolveNodeflowComponent(e){this.bindDocumentIdentifier(e.pageComponent.componentConfiguration.id)}onDashboardConfigurationChange(e){this.bindDocumentIdentifier(e.id)}createForm(){if(this.toolbarForm.contains("serializeModel"))return this.toolbarForm.get("serializeModel");const e=this.fb.group({serializedDocumentEntityReference:[He.form.serializedDocumentEntityReference.default,[]],newDocumentIdentifier:[null,[h.A.required]],packagingFormatType:[He.form.packagingFormatType.default,[]],isVerboseMode:[He.form.isVerboseMode.default,[]]});return this.toolbarForm.addControl("serializeModel",e),e}bindDocumentIdentifier(e){this.toolbarNodeflowBehaviorActionForm||(this.socketConnectorRelationModelCollection$=this.gridStateManagerService.routes.socketConnectorRelationCollectionChange$,this.toolbarNodeflowBehaviorActionForm=this.createForm()),this.toolbarNodeflowBehaviorActionForm.get("newDocumentIdentifier").patchValue(e)}}var qe=l.sb({encapsulation:0,styles:[["[_nghost-%COMP%]{display:flex;flex:0;align-items:flex-end}[_nghost-%COMP%]   [role=newDocumentIdentifier][_ngcontent-%COMP%]{margin-bottom:.5rem}[_nghost-%COMP%]   [role=errorsList][_ngcontent-%COMP%]{background-color:rgba(255,2,2,.15)}[_nghost-%COMP%]   [role=processingErrorMessage][_ngcontent-%COMP%]{padding:.2rem;border-radius:.5rem;border:1px solid rgba(0,0,0,.2);background-color:rgba(255,2,2,.3)}[_nghost-%COMP%]   [role=serializedDocumentContent][_ngcontent-%COMP%]{font-family:monospace;font-size:10pt;height:4rem}"]],data:{}});function Ue(e){return l.Qb(0,[(e()(),l.ub(0,0,null,null,1,null,null,null,null,null,null,null)),(e()(),l.Ob(1,null,[" Count "," "]))],null,function(e,t){e(t,1,0,t.component.availableSerializedDocumentList.length)})}function Xe(e){return l.Qb(0,[(e()(),l.ub(0,0,null,null,4,null,null,null,null,null,null,null)),(e()(),l.ub(1,0,null,null,3,"optgroup",[],[[1,"label",0]],null,null,null,null)),(e()(),l.ub(2,0,null,null,2,"option",[],[[8,"textContent",0]],null,null,null,null)),l.tb(3,147456,null,0,h.t,[l.k,l.G,[2,h.y]],{ngValue:[0,"ngValue"]},null),l.tb(4,147456,null,0,h.E,[l.k,l.G,[8,null]],{ngValue:[0,"ngValue"]},null)],function(e,t){e(t,3,0,t.context.$implicit),e(t,4,0,t.context.$implicit)},function(e,t){var n=t.component;e(t,1,0,n.packagingFormatLabelMap.get(t.context.$implicit.packagingFormatType)+" | "+n.formatShortDateTime(t.context.$implicit.createdDate)),e(t,2,0,t.context.$implicit.documentId)})}function Ye(e){return l.Qb(0,[(e()(),l.ub(0,0,null,null,14,"section",[],null,null,null,null,null)),(e()(),l.ub(1,0,null,null,13,"select",[["formControlName","serializedDocumentEntityReference"],["role","serializedDocumentEntityReference"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"change"],[null,"blur"]],function(e,t,n){var o=!0;return"change"===t&&(o=!1!==l.Gb(e,2).onChange(n.target.value)&&o),"blur"===t&&(o=!1!==l.Gb(e,2).onTouched()&&o),o},null,null)),l.tb(2,16384,null,0,h.y,[l.G,l.k],null,null),l.Lb(1024,null,h.m,function(e){return[e]},[h.y]),l.tb(4,671744,null,0,h.h,[[3,h.c],[8,null],[8,null],[6,h.m],[2,h.D]],{name:[0,"name"]},null),l.Lb(2048,null,h.n,null,[h.h]),l.tb(6,16384,null,0,h.o,[[4,h.n]],null,null),(e()(),l.ub(7,0,null,null,5,"option",[],null,null,null,null,null)),l.tb(8,147456,null,0,h.t,[l.k,l.G,[2,h.y]],{ngValue:[0,"ngValue"]},null),l.tb(9,147456,null,0,h.E,[l.k,l.G,[8,null]],{ngValue:[0,"ngValue"]},null),(e()(),l.Ob(-1,null,["Document: "])),(e()(),l.jb(16777216,null,null,1,null,Ue)),l.tb(12,16384,null,0,g.q,[l.R,l.O],{ngIf:[0,"ngIf"]},null),(e()(),l.jb(16777216,null,null,1,null,Xe)),l.tb(14,278528,null,0,g.p,[l.R,l.O,l.u],{ngForOf:[0,"ngForOf"]},null)],function(e,t){var n=t.component;e(t,4,0,"serializedDocumentEntityReference"),e(t,8,0,null),e(t,9,0,null),e(t,12,0,n.availableSerializedDocumentList.length>1),e(t,14,0,n.availableSerializedDocumentList)},function(e,t){e(t,1,0,l.Gb(t,6).ngClassUntouched,l.Gb(t,6).ngClassTouched,l.Gb(t,6).ngClassPristine,l.Gb(t,6).ngClassDirty,l.Gb(t,6).ngClassValid,l.Gb(t,6).ngClassInvalid,l.Gb(t,6).ngClassPending)})}function Ke(e){return l.Qb(0,[(e()(),l.ub(0,0,null,null,3,"section",[],null,null,null,null,null)),(e()(),l.ub(1,0,null,null,1,"small",[],null,null,null,null,null)),(e()(),l.Ob(2,null,[" "," : "," "])),(e()(),l.ub(3,0,null,null,0,"textarea",[["role","serializedDocumentContent"]],[[8,"textContent",0]],null,null,null,null))],null,function(e,t){var n=t.component;e(t,2,0,n.selectedSerializedDocumentEntityReference.filename,n.calculateContentSize(null==n.selectedSerializedDocumentEntityReference.document?null:n.selectedSerializedDocumentEntityReference.document.content)),e(t,3,0,null==n.selectedSerializedDocumentEntityReference.document?null:n.selectedSerializedDocumentEntityReference.document.content)})}function Je(e){return l.Qb(0,[(e()(),l.ub(0,0,null,null,8,null,null,null,null,null,null,null)),(e()(),l.ub(1,0,null,null,6,"input",[["formControlName","packagingFormatType"],["type","radio"]],[[1,"id",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"],[null,"change"]],function(e,t,n){var o=!0;return"input"===t&&(o=!1!==l.Gb(e,2)._handleInput(n.target.value)&&o),"blur"===t&&(o=!1!==l.Gb(e,2).onTouched()&&o),"compositionstart"===t&&(o=!1!==l.Gb(e,2)._compositionStart()&&o),"compositionend"===t&&(o=!1!==l.Gb(e,2)._compositionEnd(n.target.value)&&o),"change"===t&&(o=!1!==l.Gb(e,3).onChange()&&o),"blur"===t&&(o=!1!==l.Gb(e,3).onTouched()&&o),o},null,null)),l.tb(2,16384,null,0,h.d,[l.G,l.k,[2,h.a]],null,null),l.tb(3,212992,null,0,h.v,[l.G,l.k,h.C,l.s],{formControlName:[0,"formControlName"],value:[1,"value"]},null),l.Lb(1024,null,h.m,function(e,t){return[e,t]},[h.d,h.v]),l.tb(5,671744,null,0,h.h,[[3,h.c],[8,null],[8,null],[6,h.m],[2,h.D]],{name:[0,"name"]},null),l.Lb(2048,null,h.n,null,[h.h]),l.tb(7,16384,null,0,h.o,[[4,h.n]],null,null),(e()(),l.ub(8,0,null,null,0,"label",[],[[1,"for",0],[8,"textContent",0]],null,null,null,null))],function(e,t){e(t,3,0,"packagingFormatType",t.context.$implicit[1]),e(t,5,0,"packagingFormatType")},function(e,t){var n=t.component;e(t,1,0,"packagingFormatType"+t.context.$implicit[1],l.Gb(t,7).ngClassUntouched,l.Gb(t,7).ngClassTouched,l.Gb(t,7).ngClassPristine,l.Gb(t,7).ngClassDirty,l.Gb(t,7).ngClassValid,l.Gb(t,7).ngClassInvalid,l.Gb(t,7).ngClassPending),e(t,8,0,"packagingFormatType"+t.context.$implicit[1],n.packagingFormatLabelMap.get(t.context.$implicit[1]))})}function Ze(e){return l.Qb(0,[(e()(),l.ub(0,0,null,null,1,"section",[["role","processingErrorMessage"]],null,null,null,null,null)),(e()(),l.ub(1,0,null,null,0,"div",[],[[8,"textContent",0]],null,null,null,null))],null,function(e,t){e(t,1,0,t.component.processingErrorMessage)})}function et(e){return l.Qb(0,[(e()(),l.ub(0,0,null,null,35,"div",[],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"submit"],[null,"reset"]],function(e,t,n){var o=!0;return"submit"===t&&(o=!1!==l.Gb(e,1).onSubmit(n)&&o),"reset"===t&&(o=!1!==l.Gb(e,1).onReset()&&o),o},null,null)),l.tb(1,540672,null,0,h.j,[[8,null],[8,null]],{form:[0,"form"]},null),l.Lb(2048,null,h.c,null,[h.j]),l.tb(3,16384,null,0,h.p,[[4,h.c]],null,null),(e()(),l.ub(4,0,null,null,31,"section",[["role","serializeModelForm"]],null,null,null,null,null)),(e()(),l.jb(16777216,null,null,1,null,Ye)),l.tb(6,16384,null,0,g.q,[l.R,l.O],{ngIf:[0,"ngIf"]},null),(e()(),l.jb(16777216,null,null,1,null,Ke)),l.tb(8,16384,null,0,g.q,[l.R,l.O],{ngIf:[0,"ngIf"]},null),(e()(),l.ub(9,0,null,null,7,"section",[],null,null,null,null,null)),(e()(),l.ub(10,0,null,null,6,"label",[],null,null,null,null,null)),(e()(),l.ub(11,0,null,null,5,"input",[["formControlName","newDocumentIdentifier"],["placeholder","Project tag ID"],["role","newDocumentIdentifier"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(e,t,n){var o=!0;return"input"===t&&(o=!1!==l.Gb(e,12)._handleInput(n.target.value)&&o),"blur"===t&&(o=!1!==l.Gb(e,12).onTouched()&&o),"compositionstart"===t&&(o=!1!==l.Gb(e,12)._compositionStart()&&o),"compositionend"===t&&(o=!1!==l.Gb(e,12)._compositionEnd(n.target.value)&&o),o},null,null)),l.tb(12,16384,null,0,h.d,[l.G,l.k,[2,h.a]],null,null),l.Lb(1024,null,h.m,function(e){return[e]},[h.d]),l.tb(14,671744,null,0,h.h,[[3,h.c],[8,null],[8,null],[6,h.m],[2,h.D]],{name:[0,"name"]},null),l.Lb(2048,null,h.n,null,[h.h]),l.tb(16,16384,null,0,h.o,[[4,h.n]],null,null),(e()(),l.ub(17,0,null,null,5,"section",[],null,null,null,null,null)),(e()(),l.ub(18,0,null,null,4,"div",[["role","packagingFormatType"]],null,null,null,null,null)),(e()(),l.Ob(-1,null,[" Format: "])),(e()(),l.ub(20,0,null,null,2,"label",[],null,null,null,null,null)),(e()(),l.jb(16777216,null,null,1,null,Je)),l.tb(22,278528,null,0,g.p,[l.R,l.O,l.u],{ngForOf:[0,"ngForOf"]},null),(e()(),l.jb(16777216,null,null,1,null,Ze)),l.tb(24,16384,null,0,g.q,[l.R,l.O],{ngIf:[0,"ngIf"]},null),(e()(),l.ub(25,0,null,null,10,"section",[],null,null,null,null,null)),(e()(),l.ub(26,0,null,null,1,"button",[["class","btn btn-primary btn-outline-warning"],["title","Serializes current model layout"]],[[8,"disabled",0]],[[null,"click"]],function(e,t,n){var l=!0;return"click"===t&&(l=!1!==e.component.onSerializeNodeflowProjectModelEvent()&&l),l},null,null)),(e()(),l.Ob(-1,null,["Serialize State "])),(e()(),l.ub(28,0,null,null,1,"label",[["for","serializeModelIsVerboseMode"]],null,null,null,null,null)),(e()(),l.Ob(-1,null,["Verbose"])),(e()(),l.ub(30,0,null,null,5,"input",[["formControlName","isVerboseMode"],["id","serializeModelIsVerboseMode"],["role","isVerboseMode"],["type","checkbox"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"change"],[null,"blur"]],function(e,t,n){var o=!0;return"change"===t&&(o=!1!==l.Gb(e,31).onChange(n.target.checked)&&o),"blur"===t&&(o=!1!==l.Gb(e,31).onTouched()&&o),o},null,null)),l.tb(31,16384,null,0,h.b,[l.G,l.k],null,null),l.Lb(1024,null,h.m,function(e){return[e]},[h.b]),l.tb(33,671744,null,0,h.h,[[3,h.c],[8,null],[8,null],[6,h.m],[2,h.D]],{name:[0,"name"]},null),l.Lb(2048,null,h.n,null,[h.h]),l.tb(35,16384,null,0,h.o,[[4,h.n]],null,null)],function(e,t){var n=t.component;e(t,1,0,n.toolbarNodeflowBehaviorActionForm),e(t,6,0,n.availableSerializedDocumentList.length),e(t,8,0,n.selectedSerializedDocumentEntityReference&&n.selectedSerializedDocumentEntityReference.document),e(t,14,0,"newDocumentIdentifier"),e(t,22,0,n.packagingFormatTypeList),e(t,24,0,n.processingErrorMessage),e(t,33,0,"isVerboseMode")},function(e,t){var n=t.component;e(t,0,0,l.Gb(t,3).ngClassUntouched,l.Gb(t,3).ngClassTouched,l.Gb(t,3).ngClassPristine,l.Gb(t,3).ngClassDirty,l.Gb(t,3).ngClassValid,l.Gb(t,3).ngClassInvalid,l.Gb(t,3).ngClassPending),e(t,11,0,l.Gb(t,16).ngClassUntouched,l.Gb(t,16).ngClassTouched,l.Gb(t,16).ngClassPristine,l.Gb(t,16).ngClassDirty,l.Gb(t,16).ngClassValid,l.Gb(t,16).ngClassInvalid,l.Gb(t,16).ngClassPending),e(t,26,0,n.toolbarNodeflowBehaviorActionForm.invalid),e(t,30,0,l.Gb(t,35).ngClassUntouched,l.Gb(t,35).ngClassTouched,l.Gb(t,35).ngClassPristine,l.Gb(t,35).ngClassDirty,l.Gb(t,35).ngClassValid,l.Gb(t,35).ngClassInvalid,l.Gb(t,35).ngClassPending)})}function tt(e){return l.Qb(2,[(e()(),l.jb(16777216,null,null,1,null,et)),l.tb(1,16384,null,0,g.q,[l.R,l.O],{ngIf:[0,"ngIf"]},null)],function(e,t){var n=t.component;e(t,1,0,n.resolvedNodeflow&&n.resolvedNodeflow.gridStateManager.routes)},null)}class nt{transform(e,t){return t?e.filter(e=>e.resources.filter(e=>e.id===t))[0]:void 0}}class lt{transform(e,t){return t?e.filter(e=>e.project.item.id===t)[0]:void 0}}class ot{transform(e){return e.sort((e,t)=>e.localization.name.text<t.localization.name.text?-1:e.localization.name.text===t.localization.name.text?0:1)}}class it{transform(e,t){return t?e.filter(e=>e.topic===t.topic):e}}var rt=n("itXk");function st(){return e=>e.lift(new at)}class at{call(e,t){return t.subscribe(new ut(e))}}class ut extends Z.a{constructor(e){super(e),this.hasPrev=!1}_next(e){let t;this.hasPrev?t=[this.prev,e]:this.hasPrev=!0,this.prev=e,t&&this.destination.next(t)}}var ct=n("QwtG"),dt=n("eH2f");class ht{constructor(){}streamInitialDataModel(e,t){return Object(k.a)({error:{id:"error",description:"Please fix network error"}})}}class gt{constructor(e,t,n,l){this.resourceToken=e,this._dashboardComponent=t,this._globalState=n,this._service=l,this.positionBasedTemplateMap={}}ngAfterViewInit(){}ngAfterContentInit(){}ngOnInit(){this.initialDataModelResponse$=this._service.streamInitialDataModel(this.resourceToken.card,this._dashboardComponent),this.initialDataModelResponse$.subscribe(e=>{console.error("network connectivity problem",e)})}prepareDataStream(){return Object(k.a)(null)}onDashboardCardTemplatableLoaded(e,t){}}var mt=n("EY2u"),pt=n("/Di6"),bt=n("aGbN"),ft=n("yPaH");class Ct{constructor(){this.isSubscribed=!1,this.isActive=!1,this.isLoaded=!1,this.isRefreshing=!1}}var yt=n("+TDg"),vt=n("Y67E");class It extends vt.a{constructor(e,t){super(t),this.staticConfigurationList=e,this._injector=t,this.initialize()}getAssemblyResolver(e){return e.state().findConfigurationResourceByType("modulesList","service").resolver}getAssemblyResolverMetadataPlugin(e){const t=this.getAssemblyResolver(e);if(t){const e=t.metadata;if(e)return e.plugin}return null}streamInitialDataModel(e,t){const n={error:{id:"unavailable",description:`Please resolve problem with ${e.resourceId}`}};return Object(k.a)(n)}generatePluginURL(e,t){return e.generateResourceLink()}initialize(){this.internalOrganizersList=[yt.a.internal];const e=e=>this.internalOrganizersList.indexOf(e.organizerPackage)>=0;this.staticConfigurationList.filter(t=>!e(t)).forEach(e=>this.templatableClassesListMap.set(e.identifier,e.resolveTemplatableClassesList))}}var Ot=n("ztb3");const Mt={pluginStructureToken:":"};class St extends bt.a{constructor(e,t,n,l,o,i,r,s,a){super(e,o,t,l),this.resourceToken=e,this._outlet=t,this.library=n,this._globalState=l,this._cd=o,this._dashboardComponent=i,this._sanitizer=r,this._element=s,this._service=a,this.isTemplatePhaseReady=!1,this.isComponentPhaseReady=!1,this.hasAccessibilityFocus=!1,this.state=new Ct,this.setupHeaderSection(),this.positionBasedTemplateMap={header:{},body:{},footer:{}},this.layout={}}get title(){return this.state.title}set title(e){this.state.title=e}get subtitle(){return this.state.subtitle}set subtitle(e){this.state.subtitle=e}get isSubscribed(){return this.state.isSubscribed}set isSubscribed(e){this.state.isSubscribed=e}get active(){return this.state.isActive}set active(e){this.state.isActive=e}get isLoaded(){return this.state.isLoaded}set isLoaded(e){this.state.isLoaded=e}get contentWindow(){return this.state.contentWindow}set contentWindow(e){this.state.contentWindow=e}get refreshing(){return this.state.isRefreshing}set refreshing(e){this.state.isRefreshing=e}onFocus(e){this.hasAccessibilityFocus=!0,this.previousActiveElement=document.activeElement,this.frameElement.nativeElement.focus()}onBlur(e){this.frameElement.nativeElement.blur()}show(e){console.log("show",e)}setupHeaderSection(){this._outlet.accessibilityProvider.onCardBodyFocusChange$().subscribe(e=>{this.accessibilityTabIndex=this._outlet.parentFocused&&e?this._outlet.uniqueInstancePriority+(this._outlet.layoutSequence+1):-1}),setTimeout(()=>this._outlet.isHeaderVisible=!0),this._outlet.title=this.library.alias.cardI18n["card.title"],this._outlet.titleIconClasses=this.library.alias.parameters["card.iconClassesList"]}accessibilityFocusRebound(e,t){this.previousActiveElement&&this.accessibilityStartBoundary&&(this.accessibilityStartBoundary.nativeElement.focus({preventScroll:!1}),this.accessibilityTransitionCardEvent.emit({event:t,transition:Ot.a.prompt}))}leaveCardAspect(e){this.accessibilityTransitionCardEvent.emit({event:e,transition:Ot.a.leave})}leaveCardPrompt(e){this.accessibilityTransitionCardEvent.emit({event:e,transition:Ot.a.prompt})}setupHeaderTemplateView(){}ngAfterViewInit(){}ngAfterContentInit(){}ngOnInit(){super.ngOnInit(),this.initialize()}prepareDataStream(){return mt.a}observeFutureConnectors(e){this.contentWindow=e,this.onLoadLayout()}onLoadLayout(){this.loadedFlag=!0,this.forceViewRelayout(),this.resourceToken.outlet.forceViewRelayout()}initialize(){this.assemblyLayout=this.resourceToken.card.resolver.injectorInstance,this.layout.availableHeightMetric=this.layout.availableWidthMetric=-1,this.initialDataModelResponse$=this.prepareDataStream(),this.startInteractionEvents();const e=this.assemblyLayout.classificationMetadata(),t=(this.assemblyLayout.state().findConfigurationResourceByType(e.layoutResourceType,e.layoutMetadataKey),this._service.getAssemblyResolver(this.assemblyLayout));if(t){const e=this._service.getAssemblyResolverMetadataPlugin(this.assemblyLayout);e?(this.resolverMetadataPlugin=e,this.frameInstanceIdentifier=["remotePlugin",e.identifier,Date.now()].join(Mt.pluginStructureToken),this.securedActiveRemoteServedURL=this._sanitizer.bypassSecurityTrustResourceUrl(this._service.generatePluginURL(t,e))):console.error("plugin attachment details missing from remote resolver metadata",this.assemblyLayout)}else console.error("no remote-served resolver found for",this.assemblyLayout);this.isTemplatePhaseReady=!0,this._cd.markForCheck(),this.isComponentPhaseReady=!0,this._cd.markForCheck(),this.streamCardLayoutDimension("height").pipe(te(100),Object(se.a)()).subscribe(e=>{const t=this.calculateAvailableScrollHeightMetric(e);t>0&&(this.layout.availableHeightMetric=t),this._cd.markForCheck()})}calculateAvailableScrollHeightMetric(e){return e-this._outlet.sumSectionsHeightExcept([this._element])}}class wt{constructor(e,t){this._element=e,this.remoteServedCardEmbed=t,this.firstLoaded=new l.m,this.frameLoadCount=0}ngOnInit(){const e=this._element.nativeElement.contentWindow;this.firstLoaded?this._element.nativeElement.addEventListener("load",t=>{1==++this.frameLoadCount&&(this.firstLoaded.emit(e),this.firstLoaded.complete())}):console.error("missing plugin hook",this),this.remoteServedCardEmbed.observeFutureConnectors(e)}}var kt=n("v/Zx"),Tt=n("OEEO");const Pt=[{identifier:"default",organizerPackage:yt.a.internal,componentClass:kt.a,viewProviders:[Tt.a]},{identifier:"network-exception",organizerPackage:yt.a.internal,componentClass:gt,viewProviders:[ht]},{identifier:"card-remote-served",organizerPackage:yt.a.internal,componentClass:St,viewProviders:[It],directives:[wt]}];var xt=n("JH+Q");const _t={templateOrganizationKey:"nodeflow_sample",templateProjectionRef:"nodePresentation"};class Rt{constructor(e,t,n,l){this.gridStateManager=e,this.configurationFacadeService=t,this.connectorGeometryService=n,this.connectorLoaderService=l,this.cardConfigurationPreprocessor=new Ge}transformToNode(e,t,n,l){const o=new G;if(o.view.gridItem=e.item,t.length||n.length){const e=new E;o.link=e,n.length&&(o.producer=new R,this.addNodeModelOutputSocketList(o,n,l,e)),t.length&&this.addNodeModelInputSocketList(o,t,l,e)}return this.gridStateManager.addNode(o),o}addNodeflow$(e,t,n,l,o,i,r,s,a,u,c,d,h){return this.startCreationProcess$(e,t,n,l,o,i,r,c,h).pipe(Object(f.a)(e=>this.transformToNode(e,s,a,c)),Object(re.a)(e=>{this.assignNodeModelToCardAssemblyPlugin(e,u,c),d()}),Object(T.a)(1))}generateValidationErrors(e,t,n){const l=new Set;return t.enabled||l.add({code:"socket_disabled",label:"deactivated"}),this.gridStateManager.routes.validateSocketAddConnectorRule(t)||l.add({code:"socket_unicast_linked",label:"unicast socket linked "+(t.type===v.input?"from":"to")+" "+this.gridStateManager.routes.getSocketConnectorRelationListBySocket(t).map(e=>{const n=this.gridStateManager.findNodeBySocket(e.getOppositeSocket(t));return n?n.id:"missing socket of type: "+v[e.getOppositeSocketConnectorType(t)]}).join(" * ")}),t.type===v.input&&n.message&&n.message.topic!==t.topic&&l.add({code:"message_topic_incompatible",label:"Message topic is incompatible"}),t.type===v.output&&(e.producer&&e.producer.findMessageBySocket(t)||l.add({code:"message_not_created",label:"producer MessageModel missing"})),l}assignNodeModelToCardAssemblyPlugin(e,t,n){const l=this.gridStateManager.routes,o=n.cardAssemblyPluginList.find(t=>t.resourceToken.card.resourceId===e.view.gridItem.item.resourceId);return!!o&&(o.attachViewModel({compositor:t,nodeModel:e,messageConnectivityDelegate:l,onNodeCollectionChange$:this.gridStateManager.nodeCollectionChange$,onNodeConsumerRelationsChange$:l.streamMessageConnectorsRouteRelationCollectionChangeByNode$(e,v.input),onNodeProducerRelationsChange$:l.streamMessageConnectorsRouteRelationCollectionChangeByNode$(e,v.output),onNodeConsumerSocketConnectorRelationModelChange$:l.streamSocketConnectorRelationModelChangeByNode$(e,v.input),onNodeProducerSocketConnectorRelationModelChange$:l.streamSocketConnectorRelationModelChangeByNode$(e,v.output)}),!0)}startCreationProcess$(e,t,n,l,o,i,r,s,a){const u=new p.a,c=this.cardConfigurationPreprocessor.transform({id:"syntheticDeck",cards:[this.generateCardResource(e,t,n,l,o,i,r)]});return this.configurationFacadeService.creatingConfiguration(c).subscribe(t=>{const n=t.findConfigurationResourceByResourceId("cardsList",e);if(n){const t=n.configurationFacade.findConfigurationResourceByType("viewsList",xt.d);if(t){const l=t.resolver.injectorInstance.state(),o=l.materializedModelList[0];o?(s.assemblyState.addModel(o),s.gridWidget.optionsChanged(),a.pipe(Object(b.a)(t=>t.resourceId===e),Object(T.a)(1)).subscribe(t=>{const l=s.findGridItemByResourceId(e);l?(s.managingDashboardComponent.dashboardConfigurationFacade.resources.cardsList.push(n),u.next({model:o,item:l})):console.error("error finding new item on grid for",e)})):console.error("missing expected first model in synthesized dashboard assembly layout state",l)}else console.error("unable to find dashboard view state properties",n.configurationFacade)}}),u}addNodeModelOutputSocketList(e,t,n,l){t.forEach(t=>{const o=t.socket;if(o){if(t.isSocketLinked){const i=this.gridStateManager.findNodeBySocket(o);if(i)if(t.message){const r=new K;r.topic=t.message.topic,r.form=t.message.form,r.state=this.cloneStructuredMetadata(t.message.state),e.producer.addMessage(r);const s=this.factoryNodeModelProducerSocket(e,r,i,o,t,n);s?l.addSocket(s):console.error("unable to produce socket by rule")}else console.log("message is not linked.. not an error");else console.error("unable to establish other node holding socket",o.id)}else if(console.log("no error. did not want to link socket, which means no message either"),o){const n=this.factorySocket(e,e,o,t);l.addSocket(n)}}else console.error("no consumer socket selected in form",t)})}factorySocket(e,t,n,l){const o=new O;return o.topic=n.topic,o.enabled=n.enabled,o.type=v.output,o.multicast=l.isSocketMulticast,o.id=[e.id,o.topic,Date.now()].join("-"),o.view.nodeSegmentCoordinate=this.connectorGeometryService.generateItemConnectorCoordinate(e,o),o}factoryNodeModelProducerSocket(e,t,n,l,o,i){const r=this.factorySocket(e,n,l,o);o.isSocketLinked&&(t.socket=r);const s=this.gridStateManager.routes.factoryMessageConnectorsRouteRelation(t);if(s.hasSocketConnectorRelationByResourceId(r.id,v.input))console.error("socket cannot be related more than once",r.id,"to message",s);else{const i=new Y;i.producer=r,i.consumer=l;const a=this.gridStateManager.routes.getRouteRelationListByMessage(t);this.gridStateManager.routes.validateSocketAddConnectorRule(l)?(o.isSocketLinked&&(i.state=o.linkStateType,i.view.nodeSegmentConnector=this.connectorLoaderService.generateConnectorRelationView(e,r,n,l),i.view.nodeSegmentConnector.id=i.id,s.addConnector(i),this.gridStateManager.routes.addRouteRelation(s)),o.isMessageStateSynchronized&&s.unicastMessageState$(s.message,this.cloneStructuredMetadata(t.state),M.restore,i)):(a.map(e=>Array.from(e.connectors).map(e=>e.producer.id)),console.error("multiple bindings forbidden on add operation. relations would have to be relinquished"),console.error("subscribing socket marked as","multicast:",r.multicast,"having relations of:",a.length))}return r}addNodeModelInputSocketList(e,t,n,l){t.forEach(t=>{const n=t.socket;let o,i;if(n){const r=this.gridStateManager.findNodeBySocket(n);r?(i=r.producer&&r.producer.findMessageBySocket(n))?((o=new O).type=v.input,o.topic=n.topic,o.enabled=n.enabled,o.multicast=t.isSocketMulticast,!n.multicast&&this.gridStateManager.routes.getSocketConnectorRelationListBySocket(n).length&&console.log("should warn user about connecting from a remote producer unicast socket that is already at capacity"),o.id=[e.id,o.topic,Date.now()].join("-"),o.view.nodeSegmentCoordinate=this.connectorGeometryService.generateItemConnectorCoordinate(e,o),l.addSocket(o)):console.error("unable to match the established message model",n.topic,"on node",r.id):console.error("missing remote producer node from the socket",n.id)}else console.log("no remote socket reference was found",t);if(o&&n&&t.isSocketLinked)if(i){const l=this.gridStateManager.routes.provideMessageConnectorsRouteRelationModel(n,i),r=this.gridStateManager.findNodeBySocket(n);if(r&&!l.hasSocketConnectorRelationByResourceId(o.id,v.input)){const s=new Y;s.producer=n,s.consumer=o,this.gridStateManager.routes.validateSocketAddConnectorRule(n)||console.error("over capacity for remote producer socket",n),s.state=t.linkStateType,s.view.nodeSegmentConnector=this.connectorLoaderService.generateConnectorRelationView(r,n,e,o),s.view.nodeSegmentConnector.id=s.id,l.addConnector(s),t.isMessageStateSynchronized&&l.unicastMessageState$(i,i.state,M.initialize,s),this.gridStateManager.routes.addRouteRelation(l)}else console.error("socket cannot be related more than once",o.id,"to message",l)}else console.log("socket and message linking disabled. no associations made")})}cloneStructuredMetadata(e){let t;try{t=JSON.parse(JSON.stringify(e))}catch(n){console.error("JSON error extracting data",n),t={}}return t}generateCardResource(e,t,n,l,o,i,r){return{id:e,component:"card-asset-node",header:{title:t},layout:{x:n,y:l,width:o,height:i},metadata:{provider:{business:r},model:{producer:{messages:[]},link:{sockets:[]}}},templates:[{body:{organization:_t.templateOrganizationKey,template:_t.templateProjectionRef}}]}}}var Et=n("kfid"),Lt=n("uX0Z"),Gt=n("00TL");const Dt={action:{newCardName:{prefix:"new-node-card"}},form:{newCardName:{default:"sample card"},assetType:{default:null},relation:{initialSetCount:1,model:{socket:{default:null},message:{default:null},isMessageStateSynchronized:{default:!0},isSocketLinked:{default:!0},isSocketMulticast:{default:!1},linkStateType:{default:U.valid}}},isVerboseMode:{default:!1}},types:{assetTypeList:Et},configuration:{projects:{},catalogs:{}}};class jt extends Le{constructor(e,t,n){super(n),this.fb=e,this.nodeflowAgentService=t,this.gridStateManagerService=n,this.availableAssetTypeList=Dt.types.assetTypeList,this.cardIdentifier=1,this.isNodeCircularReferenceConnectorRule=e=>{if(this.gridStateManagerService.isInitialized$.getValue()){const[e,t]=[this.selectedRemoteProducerSocketList,this.selectedRemoteConsumerSocketList].map(e=>e.map(e=>this.gridStateManagerService.findNodeBySocket(e)).filter((e,t,n)=>n.indexOf(e)===t));return e.reduce((e,n)=>e+ +(t.indexOf(n)>=0),0)?{circular_reference_connector:{label:"Circular reference using same node"}}:null}return null}}get selectedRemoteProducerSocketList(){return this.getSocketRelationFormArray(v.input).controls.map(e=>e.get("socket").value).filter(e=>!!e)}get selectedRemoteConsumerSocketList(){return this.getSocketRelationFormArray(v.output).controls.map(e=>e.get("socket").value).filter(e=>!!e)}ngOnInit(){super.ngOnInit()}ngOnDestroy(){}onAddNodeAssetEvent(){const e=[Dt.action.newCardName.prefix,this.cardIdentifier++].join("-"),t=this.toolbarNodeflowBehaviorActionForm.get("newCardName").value,n=this.cardIdentifier,l=this.resolvedNodeflow.pageComponent.gridContainerAssemblyInstance,o={assetTypeId:this.toolbarNodeflowBehaviorActionForm.get("assetType").value,catalogId:"testCatalogId-"+Date.now(),layoutId:"testLayoutId-"+Date.now()};this.nodeflowAgentService.addNodeflow$(e,t,n,0,1,1,o,this.getSocketRelationFormArrayValue(v.input),this.getSocketRelationFormArrayValue(v.output),this.resolvedNodeflow,l,this.resolvedNodeflow.updateViewTransition.bind(this.resolvedNodeflow),this.resolvedNodeflow.pageComponent.layoutItemInitialize$).subscribe(e=>{this.processingErrorMessage=void 0,this.resolvedNodeflow.pageComponent.onGridLayoutItemAdd(e.view.gridItem.item)},e=>{this.processingErrorMessage=e},()=>{this.resetForm()})}onAddSocketRelationDetail(e){this.getSocketRelationFormArray(e).push(this.factorySocketMessageRelationFormGroup())}onRemoveSocketRelationDetail(e,t){const n=this.getSocketRelationFormArray(e).controls[t].get("socket").value;n&&this.resolvedNodeflow.onSocketViewSelectingStateChangeEvent(n,!1),this.getSocketRelationFormArray(e).removeAt(t)}adviseSocketCapabilityValidationErrors(e,t,n){return this.nodeflowAgentService.generateValidationErrors(e,t,n)}checkSocketCapabilityValidationErrors(e,t,n){return this.adviseSocketCapabilityValidationErrors(e,t,n).size>0}showSelectListOptionGroup(e,t,n){if(e.link){const l=e.link.getCollectionByType(t),o=l.size;return this.selectedIsVerboseMode?o>0:o>0?o!==Array.from(l).reduce((t,l)=>t+ +this.checkSocketCapabilityValidationErrors(e,l,this.factorySocketRelationFormModel(n)),0):o>0}return!1}checkSocketRelationFormArrayUniqueTopicRule(e,t){return e.get("socket"),!0}getSocketRelationFormArray(e){return this.toolbarNodeflowBehaviorActionForm.get(e===v.input?"consumers":"producers")}getSocketRelationFormArrayValue(e){return this.getSocketRelationFormArray(e).controls.map(e=>this.factorySocketRelationFormModel(e))}factorySocketRelationFormModel(e){const t={};return Object.keys(Dt.form.relation.model).forEach(n=>t[n]=e.get(n).value),t}resetSocketRelationFormArray(e){let t=0;const n=this.getSocketRelationFormArray(e);for(;0!==n.length;)n.removeAt(0),t++;for(let l=0;l<Dt.form.relation.initialSetCount;l++)n.push(this.factorySocketMessageRelationFormGroup());return t}onResolveNodeflowComponent(e){this.setupModelTemplates()}debug(e){console.log("debug inspect",e)}createForm(){const e=this.fb.group({newCardName:[Dt.form.newCardName.default,[h.A.required]],assetType:[this.availableAssetTypeList[Math.random()*this.availableAssetTypeList.length>>0].assetTypeId,[h.A.required]],consumers:this.fb.array([]),producers:this.fb.array([]),isVerboseMode:[Dt.form.isVerboseMode.default,[]]},{validator:h.A.compose([this.isNodeCircularReferenceConnectorRule])});for(let t=0;t<Dt.form.relation.initialSetCount;t++)e.get("consumers").push(this.factoryConsumerRelationFormGroup()),e.get("producers").push(this.factoryProducerRelationFormGroup());return this.toolbarForm.addControl("newCard",e),e}resetForm(){this.toolbarNodeflowBehaviorActionForm.reset(),this.toolbarNodeflowBehaviorActionForm.get("assetType").reset(this.availableAssetTypeList[Math.random()*this.availableAssetTypeList.length>>0].assetTypeId),[this.selectedRemoteProducerSocketList,this.selectedRemoteConsumerSocketList].forEach(e=>e.forEach(e=>this.resolvedNodeflow.onSocketViewSelectingStateChangeEvent(e,!1))),I.supportedConnectorTypes.forEach(e=>this.resetSocketRelationFormArray(e))}factoryConsumerRelationFormGroup(){return this.factorySocketMessageRelationFormGroup()}factoryProducerRelationFormGroup(){return this.factorySocketMessageRelationFormGroup()}factorySocketMessageRelationFormGroup(){const e=this.fb.group({socket:[Dt.form.relation.model.socket.default,[]],message:[Dt.form.relation.model.message.default,[]],isMessageStateSynchronized:[Dt.form.relation.model.isMessageStateSynchronized.default,[]],isSocketLinked:[Dt.form.relation.model.isSocketLinked.default,[]],isSocketMulticast:[Dt.form.relation.model.isSocketMulticast.default,[]],linkStateType:[Dt.form.relation.model.linkStateType.default,[]]});return this.prepareSocketControlVisualHighlighting(e.get("socket")),this.prepareSocketSynchronizeMessageControl(e.get("socket"),e.get("message")),e}prepareSocketSynchronizeMessageControl(e,t){e.valueChanges.pipe(Object(se.a)(),st()).subscribe(e=>{e.forEach((e,t)=>{})}),e.setValue(e.value)}prepareSocketControlVisualHighlighting(e){e.valueChanges.pipe(Object(se.a)(),st()).subscribe(e=>{e.forEach((e,t)=>{e&&this.resolvedNodeflow.onSocketViewSelectingStateChangeEvent(e,1===t)})}),e.setValue(e.value)}populateResourceConfiguration(){Dt.configuration.catalogs[Gt.id]=Gt,Dt.configuration.projects[Lt.project.item.id]=Lt,this.catalogResourcesCollectionCache$=Object(rt.a)(Object.keys(Dt.configuration.catalogs).map(e=>Object(k.a)(Dt.configuration.catalogs[e]))),this.projectResourcesCollectionCache$=Object(rt.a)(Object.keys(Dt.configuration.projects).map(e=>Object(k.a)(Dt.configuration.projects[e])))}setupModelTemplates(){this.currentProjectDashboardConfiguration?this.populateResourceConfiguration():console.error("could not reference current project configuration resources")}}var $t=l.sb({encapsulation:0,styles:[["[_nghost-%COMP%]{display:flex;flex:0;align-items:flex-end}[_nghost-%COMP%]   [role=processingErrorMessage][_ngcontent-%COMP%]{padding:.2rem;border-radius:.5rem;border:1px solid rgba(0,0,0,.2);background-color:rgba(255,2,2,.3)}[_nghost-%COMP%]   INPUT[role=newCardName][_ngcontent-%COMP%]{margin-bottom:.5rem;width:5rem}[_nghost-%COMP%]   SELECT.socketSelection[_ngcontent-%COMP%]{min-width:20ch}[_nghost-%COMP%]   SELECT.messageSelection[_ngcontent-%COMP%]{min-width:20ch}[_nghost-%COMP%]   TABLE[role=socketMessageRelationGroup][_ngcontent-%COMP%]{display:inline-block;max-height:16ch;overflow-y:auto}[_nghost-%COMP%]   TABLE[role=socketMessageRelationGroup][_ngcontent-%COMP%] > TBODY[_ngcontent-%COMP%] > TR[_ngcontent-%COMP%]{border:1px solid transparent}[_nghost-%COMP%]   TABLE[role=socketMessageRelationGroup][_ngcontent-%COMP%] > TBODY[_ngcontent-%COMP%] > TR[_ngcontent-%COMP%]:hover{background-color:rgba(255,255,255,.3);border-color:rgba(0,0,0,.3)}[_nghost-%COMP%]   TABLE[role=socketMessageRelationGroup][_ngcontent-%COMP%] > TBODY[_ngcontent-%COMP%] > TR[_ngcontent-%COMP%]:last-of-type > TD[_ngcontent-%COMP%]{border-bottom:none}[_nghost-%COMP%]   TABLE[role=socketMessageRelationGroup][_ngcontent-%COMP%] > TBODY[_ngcontent-%COMP%]   [role=groupIndexCounter][_ngcontent-%COMP%]{background-color:rgba(255,255,255,.3);text-align:right;font-size:x-large;padding-right:.2rem}[_nghost-%COMP%]   TABLE[role=socketMessageRelationGroup][_ngcontent-%COMP%] > TBODY[_ngcontent-%COMP%]   [role=socketMessageSelection][_ngcontent-%COMP%]{padding:.5rem 0;width:100%;border-bottom:2px solid rgba(0,0,0,.3)}[_nghost-%COMP%]   TABLE[role=socketMessageRelationGroup][_ngcontent-%COMP%] > TBODY[_ngcontent-%COMP%]   [role=deleteRelationButtonLayout][_ngcontent-%COMP%]{background-color:rgba(255,255,255,.3)}[_nghost-%COMP%]   TABLE[role=socketMessageRelationGroup][_ngcontent-%COMP%] > TBODY[_ngcontent-%COMP%]   [role=deleteRelationButtonLayout][_ngcontent-%COMP%]   BUTTON[_ngcontent-%COMP%]{background-color:rgba(255,1,1,.1)}[_nghost-%COMP%]   TABLE[role=socketMessageRelationGroup][_ngcontent-%COMP%] > TBODY[_ngcontent-%COMP%]   [role=deleteRelationButtonLayout][_ngcontent-%COMP%]   BUTTON[_ngcontent-%COMP%]:hover{background-color:rgba(255,1,1,.3)}[_nghost-%COMP%]   [role=addRelationButtonLayout][_ngcontent-%COMP%]{padding-bottom:.2rem;border-bottom:2px solid rgba(1,1,1,.2);text-align:center;background-color:rgba(0,0,0,.05)}[_nghost-%COMP%]   [role=addRelationButtonLayout][_ngcontent-%COMP%]   BUTTON[_ngcontent-%COMP%]{background-color:rgba(1,255,1,.1)}[_nghost-%COMP%]   [role=addRelationButtonLayout][_ngcontent-%COMP%]   BUTTON[_ngcontent-%COMP%]:hover{background-color:rgba(1,255,1,.3)}[_nghost-%COMP%]   TEXTAREA[_ngcontent-%COMP%]{font-family:monospace;background-color:rgba(255,255,255,.3);border:1px solid rgba(1,1,1,.5);min-height:2rem}"]],data:{}});function Ft(e){return l.Qb(0,[(e()(),l.ub(0,0,null,null,7,"section",[],null,null,null,null,null)),(e()(),l.Ob(-1,null,[" Catalog "])),(e()(),l.ub(2,0,null,null,1,"b",[],null,null,null,null,null)),(e()(),l.Ob(3,null,["",""])),(e()(),l.ub(4,0,null,null,1,"button",[],[[1,"title",0]],[[null,"click"]],function(e,t,n){var l=!0;return"click"===t&&(l=0!=(e.context.ngIf.expanded=!e.context.ngIf.expanded)&&l),l},null,null)),(e()(),l.Ob(-1,null,["? "])),(e()(),l.ub(6,0,null,null,1,"textarea",[],[[8,"hidden",0],[8,"textContent",0]],null,null,null,null)),l.Ib(0,g.j,[])],null,function(e,t){e(t,3,0,t.parent.parent.parent.context.ngIf.id),e(t,4,0,t.parent.parent.parent.context.ngIf.label),e(t,6,0,!t.context.ngIf.expanded,l.Pb(t,6,1,l.Gb(t,7).transform(t.parent.parent.parent.context.ngIf)))})}function zt(e){return l.Qb(0,[(e()(),l.ub(0,0,null,null,7,"section",[],null,null,null,null,null)),(e()(),l.Ob(-1,null,[" Package "])),(e()(),l.ub(2,0,null,null,1,"b",[],null,null,null,null,null)),(e()(),l.Ob(3,null,["",""])),(e()(),l.ub(4,0,null,null,1,"button",[],[[1,"title",0]],[[null,"click"]],function(e,t,n){var l=!0;return"click"===t&&(l=0!=(e.context.ngIf.expanded=!e.context.ngIf.expanded)&&l),l},null,null)),(e()(),l.Ob(-1,null,["? "])),(e()(),l.ub(6,0,null,null,1,"textarea",[],[[8,"hidden",0],[8,"textContent",0]],null,null,null,null)),l.Ib(0,g.j,[])],null,function(e,t){e(t,3,0,t.parent.parent.context.ngIf.project.item.id),e(t,4,0,t.parent.parent.context.ngIf.project.item.label),e(t,6,0,!t.context.ngIf.expanded,l.Pb(t,6,1,l.Gb(t,7).transform(t.parent.parent.context.ngIf)))})}function At(e){return l.Qb(0,[(e()(),l.ub(0,0,null,null,6,null,null,null,null,null,null,null)),(e()(),l.jb(16777216,null,null,2,null,Ft)),l.tb(2,16384,null,0,g.q,[l.R,l.O],{ngIf:[0,"ngIf"]},null),l.Jb(3,{expanded:0}),(e()(),l.jb(16777216,null,null,2,null,zt)),l.tb(5,16384,null,0,g.q,[l.R,l.O],{ngIf:[0,"ngIf"]},null),l.Jb(6,{expanded:0}),(e()(),l.jb(0,null,null,0))],function(e,t){var n=e(t,3,0,!1);e(t,2,0,n);var l=e(t,6,0,!1);e(t,5,0,l)},null)}function Nt(e){return l.Qb(0,[(e()(),l.ub(0,0,null,null,3,null,null,null,null,null,null,null)),(e()(),l.Ob(-1,null,[" Layout Instance "])),(e()(),l.ub(2,0,null,null,1,"b",[],null,null,null,null,null)),(e()(),l.Ob(3,null,["",""]))],null,function(e,t){e(t,3,0,t.component.currentProjectDashboardConfiguration.id)})}function Vt(e){return l.Qb(0,[(e()(),l.ub(0,0,null,null,2,"label",[],null,null,null,null,null)),(e()(),l.jb(16777216,null,null,1,null,Nt)),l.tb(2,16384,null,0,g.q,[l.R,l.O],{ngIf:[0,"ngIf"]},null)],function(e,t){e(t,2,0,t.component.currentProjectDashboardConfiguration)},null)}function Bt(e){return l.Qb(0,[(e()(),l.ub(0,0,null,null,1,"b",[],null,null,null,null,null)),(e()(),l.Ob(1,null,[" (id: ",") "]))],null,function(e,t){e(t,1,0,t.component.toolbarNodeflowBehaviorActionForm.get("assetType").value)})}function Qt(e){return l.Qb(0,[(e()(),l.ub(0,0,null,null,3,"label",[],null,null,null,null,null)),(e()(),l.Ob(-1,null,[" Asset Type "])),(e()(),l.jb(16777216,null,null,1,null,Bt)),l.tb(3,16384,null,0,g.q,[l.R,l.O],{ngIf:[0,"ngIf"]},null)],function(e,t){e(t,3,0,t.component.toolbarNodeflowBehaviorActionForm.get("assetType").value)},null)}function Ht(e){return l.Qb(0,[(e()(),l.ub(0,0,null,null,2,"option",[],[[8,"textContent",0]],null,null,null,null)),l.tb(1,147456,null,0,h.t,[l.k,l.G,[2,h.y]],{ngValue:[0,"ngValue"]},null),l.tb(2,147456,null,0,h.E,[l.k,l.G,[8,null]],{ngValue:[0,"ngValue"]},null)],function(e,t){e(t,1,0,t.context.$implicit.assetTypeId),e(t,2,0,t.context.$implicit.assetTypeId)},function(e,t){e(t,0,0,t.context.$implicit.localization.name.text)})}function Wt(e){return l.Qb(0,[(e()(),l.ub(0,0,null,null,8,"tr",[],null,null,null,null,null)),(e()(),l.ub(1,0,null,null,0,"td",[["role","groupIndexCounter"]],[[8,"textContent",0]],null,null,null,null)),(e()(),l.ub(2,0,null,null,3,"td",[["role","socketMessageSelection"]],null,null,null,null,null)),(e()(),l.ub(3,16777216,null,null,2,null,null,null,null,null,null,null)),l.tb(4,540672,null,0,g.v,[l.R],{ngTemplateOutletContext:[0,"ngTemplateOutletContext"],ngTemplateOutlet:[1,"ngTemplateOutlet"]},null),l.Jb(5,{nodeflowCardProjectPackage:0,formGroupRef:1,formGroupRefSequence:2,opposingSocketDirectionType:3,assigningSocketType:4}),(e()(),l.ub(6,0,null,null,2,"td",[["role","deleteRelationButtonLayout"]],null,null,null,null,null)),(e()(),l.ub(7,0,null,null,1,"button",[["class","btn-primary btn-outline-warning btn-xs"]],null,[[null,"click"]],function(e,t,n){var l=!0,o=e.component;return"click"===t&&(l=!1!==o.onRemoveSocketRelationDetail(o.types.socketConnectorTypeEnum.input,e.context.index)&&l),l},null,null)),(e()(),l.Ob(-1,null,["- "]))],function(e,t){var n=t.component,o=e(t,5,0,t.parent.context.ngIf,t.context.$implicit,t.context.index,n.types.socketConnectorTypeEnum.output,n.types.socketConnectorTypeEnum.input);e(t,4,0,o,l.Gb(t.parent.parent.parent.parent,6))},function(e,t){e(t,1,0,t.context.index+1)})}function qt(e){return l.Qb(0,[(e()(),l.ub(0,0,null,null,8,"tr",[],null,null,null,null,null)),(e()(),l.ub(1,0,null,null,0,"td",[["role","groupIndexCounter"]],[[8,"textContent",0]],null,null,null,null)),(e()(),l.ub(2,0,null,null,3,"td",[["role","socketMessageSelection"]],null,null,null,null,null)),(e()(),l.ub(3,16777216,null,null,2,null,null,null,null,null,null,null)),l.tb(4,540672,null,0,g.v,[l.R],{ngTemplateOutletContext:[0,"ngTemplateOutletContext"],ngTemplateOutlet:[1,"ngTemplateOutlet"]},null),l.Jb(5,{nodeflowCardProjectPackage:0,formGroupRef:1,formGroupRefSequence:2,opposingSocketDirectionType:3,assigningSocketType:4}),(e()(),l.ub(6,0,null,null,2,"td",[["role","deleteRelationButtonLayout"]],null,null,null,null,null)),(e()(),l.ub(7,0,null,null,1,"button",[["class","btn-primary btn-outline-warning btn-xs"]],null,[[null,"click"]],function(e,t,n){var l=!0,o=e.component;return"click"===t&&(l=!1!==o.onRemoveSocketRelationDetail(o.types.socketConnectorTypeEnum.output,e.context.index)&&l),l},null,null)),(e()(),l.Ob(-1,null,["- "]))],function(e,t){var n=t.component,o=e(t,5,0,t.parent.context.ngIf,t.context.$implicit,t.context.index,n.types.socketConnectorTypeEnum.input,n.types.socketConnectorTypeEnum.output);e(t,4,0,o,l.Gb(t.parent.parent.parent.parent,6))},function(e,t){e(t,1,0,t.context.index+1)})}function Ut(e){return l.Qb(0,[(e()(),l.ub(0,0,null,null,1,"section",[["role","processingErrorMessage"]],null,null,null,null,null)),(e()(),l.ub(1,0,null,null,0,"div",[],[[8,"textContent",0]],null,null,null,null))],null,function(e,t){e(t,1,0,t.component.processingErrorMessage)})}function Xt(e){return l.Qb(0,[(e()(),l.ub(0,0,null,null,1,"section",[["role","processingErrorMessage"]],null,null,null,null,null)),(e()(),l.ub(1,0,null,null,0,"div",[],[[8,"textContent",0]],null,null,null,null))],null,function(e,t){e(t,1,0,t.component.processingErrorMessage)})}function Yt(e){return l.Qb(0,[(e()(),l.ub(0,0,null,null,0,"i",[],[[8,"textContent",0]],null,null,null,null))],null,function(e,t){e(t,0,0,t.parent.context.$implicit.label)})}function Kt(e){return l.Qb(0,[(e()(),l.ub(0,0,null,null,2,null,null,null,null,null,null,null)),(e()(),l.jb(16777216,null,null,1,null,Yt)),l.tb(2,16384,null,0,g.q,[l.R,l.O],{ngIf:[0,"ngIf"]},null),(e()(),l.jb(0,null,null,0))],function(e,t){e(t,2,0,t.context.$implicit)},null)}function Jt(e){return l.Qb(0,[(e()(),l.ub(0,0,null,null,3,"i",[],null,null,null,null,null)),(e()(),l.jb(16777216,null,null,2,null,Kt)),l.tb(2,278528,null,0,g.p,[l.R,l.O,l.u],{ngForOf:[0,"ngForOf"]},null),l.Hb(3,1)],function(e,t){var n=e(t,3,0,t.component.toolbarNodeflowBehaviorActionForm.errors.circular_reference_connector);e(t,2,0,n)},null)}function Zt(e){return l.Qb(0,[(e()(),l.ub(0,0,null,null,0,"br",[],null,null,null,null,null))],null,null)}function en(e){return l.Qb(0,[(e()(),l.ub(0,0,null,null,65,null,null,null,null,null,null,null)),(e()(),l.ub(1,0,null,null,64,"section",[],null,null,null,null,null)),(e()(),l.jb(16777216,null,null,1,null,At)),l.tb(3,16384,null,0,g.q,[l.R,l.O],{ngIf:[0,"ngIf"]},null),(e()(),l.ub(4,0,null,null,9,"section",[],null,null,null,null,null)),(e()(),l.jb(16777216,null,null,1,null,Vt)),l.tb(6,16384,null,0,g.q,[l.R,l.O],{ngIf:[0,"ngIf"]},null),(e()(),l.ub(7,0,null,null,6,"label",[],null,null,null,null,null)),(e()(),l.ub(8,0,null,null,5,"input",[["formControlName","newCardName"],["placeholder","Enter card title"],["role","newCardName"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(e,t,n){var o=!0;return"input"===t&&(o=!1!==l.Gb(e,9)._handleInput(n.target.value)&&o),"blur"===t&&(o=!1!==l.Gb(e,9).onTouched()&&o),"compositionstart"===t&&(o=!1!==l.Gb(e,9)._compositionStart()&&o),"compositionend"===t&&(o=!1!==l.Gb(e,9)._compositionEnd(n.target.value)&&o),o},null,null)),l.tb(9,16384,null,0,h.d,[l.G,l.k,[2,h.a]],null,null),l.Lb(1024,null,h.m,function(e){return[e]},[h.d]),l.tb(11,671744,null,0,h.h,[[3,h.c],[8,null],[8,null],[6,h.m],[2,h.D]],{name:[0,"name"]},null),l.Lb(2048,null,h.n,null,[h.h]),l.tb(13,16384,null,0,h.o,[[4,h.n]],null,null),(e()(),l.ub(14,0,null,null,11,"section",[],null,null,null,null,null)),(e()(),l.jb(16777216,null,null,1,null,Qt)),l.tb(16,16384,null,0,g.q,[l.R,l.O],{ngIf:[0,"ngIf"]},null),(e()(),l.ub(17,0,null,null,8,"select",[["formControlName","assetType"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"change"],[null,"blur"]],function(e,t,n){var o=!0;return"change"===t&&(o=!1!==l.Gb(e,18).onChange(n.target.value)&&o),"blur"===t&&(o=!1!==l.Gb(e,18).onTouched()&&o),o},null,null)),l.tb(18,16384,null,0,h.y,[l.G,l.k],null,null),l.Lb(1024,null,h.m,function(e){return[e]},[h.y]),l.tb(20,671744,null,0,h.h,[[3,h.c],[8,null],[8,null],[6,h.m],[2,h.D]],{name:[0,"name"]},null),l.Lb(2048,null,h.n,null,[h.h]),l.tb(22,16384,null,0,h.o,[[4,h.n]],null,null),(e()(),l.jb(16777216,null,null,2,null,Ht)),l.tb(24,278528,null,0,g.p,[l.R,l.O,l.u],{ngForOf:[0,"ngForOf"]},null),l.Kb(25,1),(e()(),l.ub(26,0,null,null,18,"section",[],null,null,null,null,null)),(e()(),l.ub(27,0,null,null,8,"section",[],null,null,null,null,null)),(e()(),l.ub(28,0,null,null,3,"section",[["role","addRelationButtonLayout"]],null,null,null,null,null)),(e()(),l.Ob(29,null,[" < Socket Inputs: (",") "])),(e()(),l.ub(30,0,null,null,1,"button",[["class","btn-primary btn-outline-warning btn-xs"]],null,[[null,"click"]],function(e,t,n){var l=!0,o=e.component;return"click"===t&&(l=!1!==o.onAddSocketRelationDetail(o.types.socketConnectorTypeEnum.input)&&l),l},null,null)),(e()(),l.Ob(-1,null,["+ "])),(e()(),l.ub(32,0,null,null,3,"table",[["role","socketMessageRelationGroup"]],null,null,null,null,null)),(e()(),l.ub(33,0,null,null,2,"tbody",[],null,null,null,null,null)),(e()(),l.jb(16777216,null,null,1,null,Wt)),l.tb(35,278528,null,0,g.p,[l.R,l.O,l.u],{ngForOf:[0,"ngForOf"]},null),(e()(),l.ub(36,0,null,null,8,"section",[],null,null,null,null,null)),(e()(),l.ub(37,0,null,null,3,"section",[["role","addRelationButtonLayout"]],null,null,null,null,null)),(e()(),l.Ob(38,null,[" > Socket Outputs: (",") "])),(e()(),l.ub(39,0,null,null,1,"button",[["class","btn-primary btn-outline-warning btn-xs"]],null,[[null,"click"]],function(e,t,n){var l=!0,o=e.component;return"click"===t&&(l=!1!==o.onAddSocketRelationDetail(o.types.socketConnectorTypeEnum.output)&&l),l},null,null)),(e()(),l.Ob(-1,null,["+ "])),(e()(),l.ub(41,0,null,null,3,"table",[["role","socketMessageRelationGroup"]],null,null,null,null,null)),(e()(),l.ub(42,0,null,null,2,"tbody",[],null,null,null,null,null)),(e()(),l.jb(16777216,null,null,1,null,qt)),l.tb(44,278528,null,0,g.p,[l.R,l.O,l.u],{ngForOf:[0,"ngForOf"]},null),(e()(),l.jb(16777216,null,null,1,null,Ut)),l.tb(46,16384,null,0,g.q,[l.R,l.O],{ngIf:[0,"ngIf"]},null),(e()(),l.jb(16777216,null,null,1,null,Xt)),l.tb(48,16384,null,0,g.q,[l.R,l.O],{ngIf:[0,"ngIf"]},null),(e()(),l.ub(49,0,null,null,2,"section",[],null,null,null,null,null)),(e()(),l.jb(16777216,null,null,1,null,Jt)),l.tb(51,16384,null,0,g.q,[l.R,l.O],{ngIf:[0,"ngIf"]},null),(e()(),l.ub(52,0,null,null,13,"section",[],null,null,null,null,null)),(e()(),l.ub(53,0,null,null,2,"button",[["class","btn btn-primary btn-outline-warning"],["title","Add a new node into the deck, capable of wiring up to others"]],[[8,"disabled",0]],[[null,"click"]],function(e,t,n){var l=!0;return"click"===t&&(l=!1!==e.component.onAddNodeAssetEvent()&&l),l},null,null)),(e()(),l.Ob(-1,null,["Add "])),(e()(),l.Ob(-1,null,[" Nodeflow "])),(e()(),l.jb(16777216,null,null,1,null,Zt)),l.tb(57,16384,null,0,g.q,[l.R,l.O],{ngIf:[0,"ngIf"]},null),(e()(),l.ub(58,0,null,null,1,"label",[["for","addNodeflowIsVerboseMode"]],null,null,null,null,null)),(e()(),l.Ob(-1,null,["Verbose"])),(e()(),l.ub(60,0,null,null,5,"input",[["formControlName","isVerboseMode"],["id","addNodeflowIsVerboseMode"],["role","isVerboseMode"],["type","checkbox"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"change"],[null,"blur"]],function(e,t,n){var o=!0;return"change"===t&&(o=!1!==l.Gb(e,61).onChange(n.target.checked)&&o),"blur"===t&&(o=!1!==l.Gb(e,61).onTouched()&&o),o},null,null)),l.tb(61,16384,null,0,h.b,[l.G,l.k],null,null),l.Lb(1024,null,h.m,function(e){return[e]},[h.b]),l.tb(63,671744,null,0,h.h,[[3,h.c],[8,null],[8,null],[6,h.m],[2,h.D]],{name:[0,"name"]},null),l.Lb(2048,null,h.n,null,[h.h]),l.tb(65,16384,null,0,h.o,[[4,h.n]],null,null)],function(e,t){var n=t.component;e(t,3,0,n.selectedIsVerboseMode),e(t,6,0,n.selectedIsVerboseMode),e(t,11,0,"newCardName"),e(t,16,0,n.selectedIsVerboseMode),e(t,20,0,"assetType");var o=l.Pb(t,24,0,e(t,25,0,l.Gb(t.parent.parent.parent,2),n.availableAssetTypeList));e(t,24,0,o),e(t,35,0,n.getSocketRelationFormArray(n.types.socketConnectorTypeEnum.input).controls),e(t,44,0,n.getSocketRelationFormArray(n.types.socketConnectorTypeEnum.output).controls),e(t,46,0,n.processingErrorMessage),e(t,48,0,n.processingErrorMessage),e(t,51,0,n.toolbarNodeflowBehaviorActionForm.errors),e(t,57,0,!n.selectedIsVerboseMode),e(t,63,0,"isVerboseMode")},function(e,t){var n=t.component;e(t,8,0,l.Gb(t,13).ngClassUntouched,l.Gb(t,13).ngClassTouched,l.Gb(t,13).ngClassPristine,l.Gb(t,13).ngClassDirty,l.Gb(t,13).ngClassValid,l.Gb(t,13).ngClassInvalid,l.Gb(t,13).ngClassPending),e(t,17,0,l.Gb(t,22).ngClassUntouched,l.Gb(t,22).ngClassTouched,l.Gb(t,22).ngClassPristine,l.Gb(t,22).ngClassDirty,l.Gb(t,22).ngClassValid,l.Gb(t,22).ngClassInvalid,l.Gb(t,22).ngClassPending),e(t,29,0,n.getSocketRelationFormArray(n.types.socketConnectorTypeEnum.input).controls.length),e(t,38,0,n.getSocketRelationFormArray(n.types.socketConnectorTypeEnum.output).controls.length),e(t,53,0,n.toolbarNodeflowBehaviorActionForm.invalid),e(t,60,0,l.Gb(t,65).ngClassUntouched,l.Gb(t,65).ngClassTouched,l.Gb(t,65).ngClassPristine,l.Gb(t,65).ngClassDirty,l.Gb(t,65).ngClassValid,l.Gb(t,65).ngClassInvalid,l.Gb(t,65).ngClassPending)})}function tn(e){return l.Qb(0,[(e()(),l.ub(0,0,null,null,4,null,null,null,null,null,null,null)),(e()(),l.jb(16777216,null,null,3,null,en)),l.tb(2,16384,null,0,g.q,[l.R,l.O],{ngIf:[0,"ngIf"]},null),l.Ib(131072,g.b,[l.h]),l.Kb(4,2),(e()(),l.jb(0,null,null,0))],function(e,t){var n=t.component,o=l.Pb(t,2,0,e(t,4,0,l.Gb(t.parent.parent,1),l.Pb(t,2,0,l.Gb(t,3).transform(n.projectResourcesCollectionCache$)),t.context.ngIf.references.projectItemId));e(t,2,0,o)},null)}function nn(e){return l.Qb(0,[(e()(),l.ub(0,0,null,null,7,"div",[],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"submit"],[null,"reset"]],function(e,t,n){var o=!0;return"submit"===t&&(o=!1!==l.Gb(e,1).onSubmit(n)&&o),"reset"===t&&(o=!1!==l.Gb(e,1).onReset()&&o),o},null,null)),l.tb(1,540672,null,0,h.j,[[8,null],[8,null]],{form:[0,"form"]},null),l.Lb(2048,null,h.c,null,[h.j]),l.tb(3,16384,null,0,h.p,[[4,h.c]],null,null),(e()(),l.jb(16777216,null,null,3,null,tn)),l.tb(5,16384,null,0,g.q,[l.R,l.O],{ngIf:[0,"ngIf"]},null),l.Ib(131072,g.b,[l.h]),l.Kb(7,2)],function(e,t){var n=t.component;e(t,1,0,n.toolbarNodeflowBehaviorActionForm);var o=l.Pb(t,5,0,e(t,7,0,l.Gb(t.parent,0),l.Pb(t,5,0,l.Gb(t,6).transform(n.catalogResourcesCollectionCache$)),null==n.currentProjectDashboardConfiguration?null:n.currentProjectDashboardConfiguration.id));e(t,5,0,o)},function(e,t){e(t,0,0,l.Gb(t,3).ngClassUntouched,l.Gb(t,3).ngClassTouched,l.Gb(t,3).ngClassPristine,l.Gb(t,3).ngClassDirty,l.Gb(t,3).ngClassValid,l.Gb(t,3).ngClassInvalid,l.Gb(t,3).ngClassPending)})}function ln(e){return l.Qb(0,[(e()(),l.ub(0,0,null,null,1,null,null,null,null,null,null,null)),(e()(),l.Ob(1,null,[" [Multicast: ","] "]))],null,function(e,t){e(t,1,0,t.parent.context.ngIf.multicast)})}function on(e){return l.Qb(0,[(e()(),l.ub(0,0,null,null,3,null,null,null,null,null,null,null)),(e()(),l.ub(1,0,null,null,0,"span",[],[[8,"textContent",0]],null,null,null,null)),(e()(),l.jb(16777216,null,null,1,null,ln)),l.tb(3,16384,null,0,g.q,[l.R,l.O],{ngIf:[0,"ngIf"]},null),(e()(),l.jb(0,null,null,0))],function(e,t){e(t,3,0,t.component.selectedIsVerboseMode)},function(e,t){e(t,1,0,t.context.ngIf.view.nodeSegmentCoordinate.card.resourceId)})}function rn(e){return l.Qb(0,[(e()(),l.ub(0,0,null,null,12,null,null,null,null,function(e,t,n){var o=!0;return"submit"===t&&(o=!1!==l.Gb(e,1).onSubmit(n)&&o),"reset"===t&&(o=!1!==l.Gb(e,1).onReset()&&o),o},null,null)),l.tb(1,540672,null,0,h.j,[[8,null],[8,null]],{form:[0,"form"]},null),l.Lb(2048,null,h.c,null,[h.j]),l.tb(3,16384,null,0,h.p,[[4,h.c]],null,null),(e()(),l.jb(16777216,null,null,1,null,on)),l.tb(5,16384,null,0,g.q,[l.R,l.O],{ngIf:[0,"ngIf"]},null),(e()(),l.ub(6,16777216,null,null,2,null,null,null,null,null,null,null)),l.tb(7,540672,null,0,g.v,[l.R],{ngTemplateOutletContext:[0,"ngTemplateOutletContext"],ngTemplateOutlet:[1,"ngTemplateOutlet"]},null),l.Jb(8,{nodeflowCardProjectPackage:0,formGroupRef:1,opposingSocketDirectionType:2,assigningSocketType:3}),(e()(),l.ub(9,0,null,null,0,"br",[],null,null,null,null,null)),(e()(),l.ub(10,16777216,null,null,2,null,null,null,null,null,null,null)),l.tb(11,540672,null,0,g.v,[l.R],{ngTemplateOutletContext:[0,"ngTemplateOutletContext"],ngTemplateOutlet:[1,"ngTemplateOutlet"]},null),l.Jb(12,{nodeflowCardProjectPackage:0,formGroupRef:1,formGroupRefSequence:2,assigningSocketType:3}),(e()(),l.jb(0,null,null,0))],function(e,t){e(t,1,0,t.context.formGroupRef);var n,o=null==(n=t.context.formGroupRef.get("socket"))?null:n.value;e(t,5,0,o);var i=e(t,8,0,t.context.nodeflowCardProjectPackage,t.context.formGroupRef,t.context.opposingSocketDirectionType,t.context.assigningSocketType);e(t,7,0,i,l.Gb(t.parent,7));var r=e(t,12,0,t.context.nodeflowCardProjectPackage,t.context.formGroupRef,t.context.formGroupRefSequence,t.context.assigningSocketType);e(t,11,0,r,l.Gb(t.parent,8))},null)}function sn(e){return l.Qb(0,[(e()(),l.ub(0,0,null,null,1,null,null,null,null,null,null,null)),(e()(),l.Ob(-1,null,["linked"]))],null,null)}function an(e){return l.Qb(0,[(e()(),l.Ob(-1,null,["unlinked"]))],null,null)}function un(e){return l.Qb(0,[(e()(),l.ub(0,0,null,null,4,"option",[],[[8,"textContent",0]],null,null,null,null)),l.Lb(512,null,g.G,g.H,[l.u,l.v,l.k,l.G]),l.tb(2,278528,null,0,g.n,[g.G],{ngClass:[0,"ngClass"]},null),l.tb(3,147456,null,0,h.t,[l.k,l.G,[2,h.y]],{ngValue:[0,"ngValue"]},null),l.tb(4,147456,null,0,h.E,[l.k,l.G,[8,null]],{ngValue:[0,"ngValue"]},null)],function(e,t){e(t,2,0,t.component.stateTypeClass(t.context.$implicit[1])),e(t,3,0,t.context.$implicit[1]),e(t,4,0,t.context.$implicit[1])},function(e,t){e(t,0,0,t.context.$implicit[0])})}function cn(e){return l.Qb(0,[(e()(),l.ub(0,0,null,null,9,"label",[],null,null,null,null,null)),(e()(),l.Ob(-1,null,[" Link State: "])),(e()(),l.ub(2,0,null,null,7,"select",[["role","stateType"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"change"],[null,"blur"]],function(e,t,n){var o=!0;return"change"===t&&(o=!1!==l.Gb(e,3).onChange(n.target.value)&&o),"blur"===t&&(o=!1!==l.Gb(e,3).onTouched()&&o),o},null,null)),l.tb(3,16384,null,0,h.y,[l.G,l.k],null,null),l.Lb(1024,null,h.m,function(e){return[e]},[h.y]),l.tb(5,540672,null,0,h.g,[[8,null],[8,null],[6,h.m],[2,h.D]],{form:[0,"form"]},null),l.Lb(2048,null,h.n,null,[h.g]),l.tb(7,16384,null,0,h.o,[[4,h.n]],null,null),(e()(),l.jb(16777216,null,null,1,null,un)),l.tb(9,278528,null,0,g.p,[l.R,l.O,l.u],{ngForOf:[0,"ngForOf"]},null)],function(e,t){var n=t.component,l=t.parent.context.formGroupRef.get("linkStateType");e(t,5,0,l),e(t,9,0,n.types.stateTypeList)},function(e,t){e(t,2,0,l.Gb(t,7).ngClassUntouched,l.Gb(t,7).ngClassTouched,l.Gb(t,7).ngClassPristine,l.Gb(t,7).ngClassDirty,l.Gb(t,7).ngClassValid,l.Gb(t,7).ngClassInvalid,l.Gb(t,7).ngClassPending)})}function dn(e){return l.Qb(0,[(e()(),l.ub(0,0,null,null,1,null,null,null,null,null,null,null)),(e()(),l.Ob(-1,null,["Yes "]))],null,null)}function hn(e){return l.Qb(0,[(e()(),l.Ob(-1,null,["No"]))],null,null)}function gn(e){return l.Qb(0,[(e()(),l.ub(0,0,null,null,11,"section",[],null,null,null,null,null)),(e()(),l.ub(1,0,null,null,5,"input",[["type","checkbox"]],[[1,"id",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"change"],[null,"blur"]],function(e,t,n){var o=!0;return"change"===t&&(o=!1!==l.Gb(e,2).onChange(n.target.checked)&&o),"blur"===t&&(o=!1!==l.Gb(e,2).onTouched()&&o),o},null,null)),l.tb(2,16384,null,0,h.b,[l.G,l.k],null,null),l.Lb(1024,null,h.m,function(e){return[e]},[h.b]),l.tb(4,540672,null,0,h.g,[[8,null],[8,null],[6,h.m],[2,h.D]],{form:[0,"form"]},null),l.Lb(2048,null,h.n,null,[h.g]),l.tb(6,16384,null,0,h.o,[[4,h.n]],null,null),(e()(),l.ub(7,0,null,null,4,"label",[],[[1,"for",0]],null,null,null,null)),(e()(),l.Ob(-1,null,[" Multicast: "])),(e()(),l.jb(16777216,null,null,1,null,dn)),l.tb(10,16384,null,0,g.q,[l.R,l.O],{ngIf:[0,"ngIf"],ngIfElse:[1,"ngIfElse"]},null),(e()(),l.jb(0,[["isSocketUnicast",2]],null,0,null,hn))],function(e,t){var n=t.parent.context.formGroupRef.get("isSocketMulticast");e(t,4,0,n);var o=t.parent.context.formGroupRef.get("isSocketMulticast").value;e(t,10,0,o,l.Gb(t,11))},function(e,t){e(t,1,0,"isSocketMulticast"+t.parent.context.opposingSocketDirectionType+t.parent.context.formGroupRefSequence,l.Gb(t,6).ngClassUntouched,l.Gb(t,6).ngClassTouched,l.Gb(t,6).ngClassPristine,l.Gb(t,6).ngClassDirty,l.Gb(t,6).ngClassValid,l.Gb(t,6).ngClassInvalid,l.Gb(t,6).ngClassPending),e(t,7,0,"isSocketMulticast"+t.parent.context.opposingSocketDirectionType+t.parent.context.formGroupRefSequence)})}function mn(e){return l.Qb(0,[(e()(),l.ub(0,0,null,null,1,null,null,null,null,null,null,null)),(e()(),l.Ob(-1,null,[" |"]))],null,null)}function pn(e){return l.Qb(0,[(e()(),l.ub(0,0,null,null,3,null,null,null,null,null,null,null)),(e()(),l.Ob(1,null,[" "," "])),(e()(),l.jb(16777216,null,null,1,null,mn)),l.tb(3,16384,null,0,g.q,[l.R,l.O],{ngIf:[0,"ngIf"]},null),(e()(),l.jb(0,null,null,0))],function(e,t){e(t,3,0,!t.context.last)},function(e,t){e(t,1,0,t.context.$implicit.label)})}function bn(e){return l.Qb(0,[(e()(),l.ub(0,0,null,null,3,null,null,null,null,null,null,null)),(e()(),l.Ob(-1,null,[" - "])),(e()(),l.jb(16777216,null,null,1,null,pn)),l.tb(3,278528,null,0,g.p,[l.R,l.O,l.u],{ngForOf:[0,"ngForOf"]},null),(e()(),l.jb(0,null,null,0))],function(e,t){e(t,3,0,t.component.adviseSocketCapabilityValidationErrors(t.parent.parent.parent.parent.parent.context.$implicit,t.parent.parent.parent.context.$implicit,t.parent.parent.parent.parent.parent.parent.context.formGroupRef))},null)}function fn(e){return l.Qb(0,[(e()(),l.ub(0,0,null,null,6,null,null,null,null,null,null,null)),(e()(),l.ub(1,0,null,null,5,"option",[],[[8,"disabled",0]],null,null,null,null)),l.tb(2,147456,null,0,h.t,[l.k,l.G,[2,h.y]],{ngValue:[0,"ngValue"]},null),l.tb(3,147456,null,0,h.E,[l.k,l.G,[8,null]],{ngValue:[0,"ngValue"]},null),(e()(),l.Ob(4,null,[" "," "])),(e()(),l.jb(16777216,null,null,1,null,bn)),l.tb(6,16384,null,0,g.q,[l.R,l.O],{ngIf:[0,"ngIf"]},null)],function(e,t){e(t,2,0,t.parent.parent.context.$implicit),e(t,3,0,t.parent.parent.context.$implicit),e(t,6,0,!t.parent.context.ngIf.status)},function(e,t){e(t,1,0,!t.parent.context.ngIf.status),e(t,4,0,t.parent.parent.context.$implicit.topic)})}function Cn(e){return l.Qb(0,[(e()(),l.ub(0,0,null,null,2,null,null,null,null,null,null,null)),(e()(),l.jb(16777216,null,null,1,null,fn)),l.tb(2,16384,null,0,g.q,[l.R,l.O],{ngIf:[0,"ngIf"]},null),(e()(),l.jb(0,null,null,0))],function(e,t){e(t,2,0,t.component.selectedIsVerboseMode||t.context.ngIf.status)},null)}function yn(e){return l.Qb(0,[(e()(),l.ub(0,0,null,null,3,null,null,null,null,null,null,null)),(e()(),l.jb(16777216,null,null,2,null,Cn)),l.tb(2,16384,null,0,g.q,[l.R,l.O],{ngIf:[0,"ngIf"]},null),l.Jb(3,{status:0}),(e()(),l.jb(0,null,null,0))],function(e,t){var n=e(t,3,0,!t.component.checkSocketCapabilityValidationErrors(t.parent.parent.context.$implicit,t.context.$implicit,t.parent.parent.parent.context.formGroupRef));e(t,2,0,n)},null)}function vn(e){return l.Qb(0,[(e()(),l.ub(0,0,null,null,2,"optgroup",[],[[1,"label",0]],null,null,null,null)),(e()(),l.jb(16777216,null,null,1,null,yn)),l.tb(2,278528,null,0,g.p,[l.R,l.O,l.u],{ngForOf:[0,"ngForOf"]},null)],function(e,t){var n=null==t.parent.context.$implicit.link?null:t.parent.context.$implicit.link.getCollectionByType(t.parent.parent.context.opposingSocketDirectionType);e(t,2,0,n)},function(e,t){e(t,0,0,t.parent.context.$implicit.id)})}function In(e){return l.Qb(0,[(e()(),l.ub(0,0,null,null,2,null,null,null,null,null,null,null)),(e()(),l.jb(16777216,null,null,1,null,vn)),l.tb(2,16384,null,0,g.q,[l.R,l.O],{ngIf:[0,"ngIf"]},null),(e()(),l.jb(0,null,null,0))],function(e,t){e(t,2,0,t.component.showSelectListOptionGroup(t.context.$implicit,t.parent.context.opposingSocketDirectionType,t.parent.context.formGroupRef))},null)}function On(e){return l.Qb(0,[(e()(),l.ub(0,0,null,null,13,"section",[],null,null,null,null,null)),(e()(),l.ub(1,0,null,null,5,"input",[["type","checkbox"]],[[1,"id",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"change"],[null,"blur"]],function(e,t,n){var o=!0;return"change"===t&&(o=!1!==l.Gb(e,2).onChange(n.target.checked)&&o),"blur"===t&&(o=!1!==l.Gb(e,2).onTouched()&&o),o},null,null)),l.tb(2,16384,null,0,h.b,[l.G,l.k],null,null),l.Lb(1024,null,h.m,function(e){return[e]},[h.b]),l.tb(4,540672,null,0,h.g,[[8,null],[8,null],[6,h.m],[2,h.D]],{form:[0,"form"]},null),l.Lb(2048,null,h.n,null,[h.g]),l.tb(6,16384,null,0,h.o,[[4,h.n]],null,null),(e()(),l.ub(7,0,null,null,4,"label",[],[[1,"for",0]],null,null,null,null)),(e()(),l.Ob(-1,null,[" Socket connector: "])),(e()(),l.jb(16777216,null,null,1,null,sn)),l.tb(10,16384,null,0,g.q,[l.R,l.O],{ngIf:[0,"ngIf"],ngIfElse:[1,"ngIfElse"]},null),(e()(),l.jb(0,[["isSocketUnlinked",2]],null,0,null,an)),(e()(),l.jb(16777216,null,null,1,null,cn)),l.tb(13,16384,null,0,g.q,[l.R,l.O],{ngIf:[0,"ngIf"]},null),(e()(),l.jb(16777216,null,null,1,null,gn)),l.tb(15,16384,null,0,g.q,[l.R,l.O],{ngIf:[0,"ngIf"]},null),(e()(),l.ub(16,0,null,null,12,"select",[["class","socketSelection"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"change"],[null,"blur"]],function(e,t,n){var o=!0;return"change"===t&&(o=!1!==l.Gb(e,17).onChange(n.target.value)&&o),"blur"===t&&(o=!1!==l.Gb(e,17).onTouched()&&o),o},null,null)),l.tb(17,16384,null,0,h.y,[l.G,l.k],null,null),l.Lb(1024,null,h.m,function(e){return[e]},[h.y]),l.tb(19,540672,null,0,h.g,[[8,null],[8,null],[6,h.m],[2,h.D]],{form:[0,"form"]},null),l.Lb(2048,null,h.n,null,[h.g]),l.tb(21,16384,null,0,h.o,[[4,h.n]],null,null),(e()(),l.ub(22,0,null,null,3,"option",[],null,null,null,null,null)),l.tb(23,147456,null,0,h.t,[l.k,l.G,[2,h.y]],{ngValue:[0,"ngValue"]},null),l.tb(24,147456,null,0,h.E,[l.k,l.G,[8,null]],{ngValue:[0,"ngValue"]},null),(e()(),l.Ob(25,null,["Select remote "," socket "])),(e()(),l.jb(16777216,null,null,2,null,In)),l.tb(27,278528,null,0,g.p,[l.R,l.O,l.u],{ngForOf:[0,"ngForOf"]},null),l.Ib(131072,g.b,[l.h])],function(e,t){var n=t.component,o=t.context.formGroupRef.get("isSocketLinked");e(t,4,0,o);var i=t.context.formGroupRef.get("isSocketLinked").value;e(t,10,0,i,l.Gb(t,11));var r=t.context.formGroupRef.get("isSocketLinked").value;e(t,13,0,r);var s=t.context.formGroupRef.get("socket").value;e(t,15,0,s);var a=t.context.formGroupRef.get("socket");e(t,19,0,a),e(t,23,0,null),e(t,24,0,null),e(t,27,0,l.Pb(t,27,0,l.Gb(t,28).transform(n.nodeCollectionCache$)))},function(e,t){var n=t.component;e(t,1,0,"isSocketLinked"+t.context.opposingSocketDirectionType+t.context.formGroupRefSequence,l.Gb(t,6).ngClassUntouched,l.Gb(t,6).ngClassTouched,l.Gb(t,6).ngClassPristine,l.Gb(t,6).ngClassDirty,l.Gb(t,6).ngClassValid,l.Gb(t,6).ngClassInvalid,l.Gb(t,6).ngClassPending),e(t,7,0,"isSocketLinked"+t.context.opposingSocketDirectionType+t.context.formGroupRefSequence),e(t,16,0,l.Gb(t,21).ngClassUntouched,l.Gb(t,21).ngClassTouched,l.Gb(t,21).ngClassPristine,l.Gb(t,21).ngClassDirty,l.Gb(t,21).ngClassValid,l.Gb(t,21).ngClassInvalid,l.Gb(t,21).ngClassPending),e(t,25,0,n.types.socketConnectorTypeEnum[t.context.opposingSocketDirectionType])})}function Mn(e){return l.Qb(0,[(e()(),l.ub(0,0,null,null,7,"section",[],null,null,null,null,null)),(e()(),l.Ob(-1,null,[" Message "])),(e()(),l.ub(2,0,null,null,1,"b",[],null,null,null,null,null)),(e()(),l.Ob(-1,null,["Data"])),(e()(),l.ub(4,0,null,null,1,"button",[],[[1,"title",0]],[[null,"click"]],function(e,t,n){var l=!0;return"click"===t&&(l=0!=(e.context.ngIf.expanded=!e.context.ngIf.expanded)&&l),l},null,null)),(e()(),l.Ob(-1,null,["? "])),(e()(),l.ub(6,0,null,null,1,"textarea",[],[[8,"hidden",0],[8,"textContent",0]],null,null,null,null)),l.Ib(0,g.j,[])],null,function(e,t){e(t,4,0,t.parent.parent.parent.context.ngIf.state.classifier),e(t,6,0,!t.context.ngIf.expanded,l.Pb(t,6,1,l.Gb(t,7).transform(t.parent.parent.parent.context.ngIf.state.data)))})}function Sn(e){return l.Qb(0,[(e()(),l.ub(0,0,null,null,3,null,null,null,null,null,null,null)),(e()(),l.jb(16777216,null,null,2,null,Mn)),l.tb(2,16384,null,0,g.q,[l.R,l.O],{ngIf:[0,"ngIf"]},null),l.Jb(3,{expanded:0}),(e()(),l.jb(0,null,null,0))],function(e,t){var n=e(t,3,0,!1);e(t,2,0,n)},null)}function wn(e){return l.Qb(0,[(e()(),l.ub(0,0,null,null,2,null,null,null,null,null,null,null)),(e()(),l.jb(16777216,null,null,1,null,Sn)),l.tb(2,16384,null,0,g.q,[l.R,l.O],{ngIf:[0,"ngIf"]},null),(e()(),l.jb(0,null,null,0))],function(e,t){e(t,2,0,t.parent.context.ngIf.state.data)},null)}function kn(e){return l.Qb(0,[(e()(),l.ub(0,0,null,null,2,"section",[],null,null,null,null,null)),(e()(),l.jb(16777216,null,null,1,null,wn)),l.tb(2,16384,null,0,g.q,[l.R,l.O],{ngIf:[0,"ngIf"]},null)],function(e,t){e(t,2,0,t.component.selectedIsVerboseMode&&t.context.ngIf.state)},null)}function Tn(e){return l.Qb(0,[(e()(),l.ub(0,0,null,null,1,null,null,null,null,null,null,null)),(e()(),l.Ob(-1,null,["Select message "]))],null,null)}function Pn(e){return l.Qb(0,[(e()(),l.Ob(0,null,["No project message for "," "]))],null,function(e,t){e(t,0,0,t.parent.parent.context.$implicit.topic)})}function xn(e){return l.Qb(0,[(e()(),l.ub(0,0,null,null,4,null,null,null,null,null,null,null)),(e()(),l.ub(1,0,null,null,3,"option",[],[[8,"disabled",0]],null,null,null,null)),l.tb(2,147456,null,0,h.t,[l.k,l.G,[2,h.y]],{ngValue:[0,"ngValue"]},null),l.tb(3,147456,null,0,h.E,[l.k,l.G,[8,null]],{ngValue:[0,"ngValue"]},null),(e()(),l.Ob(4,null,[" "," "]))],function(e,t){e(t,2,0,t.context.$implicit),e(t,3,0,t.context.$implicit)},function(e,t){e(t,1,0,!t.component.checkSocketRelationFormArrayUniqueTopicRule(t.parent.parent.parent.context.formGroupRef,t.parent.parent.parent.context.formGroupRefSequence)),e(t,4,0,t.context.$implicit.topic)})}function _n(e){return l.Qb(0,[(e()(),l.ub(0,0,null,null,8,null,null,null,null,null,null,null)),(e()(),l.ub(1,0,null,null,5,"option",[],null,null,null,null,null)),l.tb(2,147456,null,0,h.t,[l.k,l.G,[2,h.y]],{ngValue:[0,"ngValue"]},null),l.tb(3,147456,null,0,h.E,[l.k,l.G,[8,null]],{ngValue:[0,"ngValue"]},null),(e()(),l.jb(16777216,null,null,1,null,Tn)),l.tb(5,16384,null,0,g.q,[l.R,l.O],{ngIf:[0,"ngIf"],ngIfElse:[1,"ngIfElse"]},null),(e()(),l.jb(0,[["noAvailableMessages",2]],null,0,null,Pn)),(e()(),l.jb(16777216,null,null,1,null,xn)),l.tb(8,278528,null,0,g.p,[l.R,l.O,l.u],{ngForOf:[0,"ngForOf"]},null),(e()(),l.jb(0,null,null,0))],function(e,t){e(t,2,0,null),e(t,3,0,null),e(t,5,0,t.context.ngIf.length,l.Gb(t,6)),e(t,8,0,t.context.ngIf)},null)}function Rn(e){return l.Qb(0,[(e()(),l.ub(0,0,null,null,9,null,null,null,null,null,null,null)),(e()(),l.ub(1,0,null,null,8,"select",[["class","messageSelection"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"change"],[null,"blur"]],function(e,t,n){var o=!0;return"change"===t&&(o=!1!==l.Gb(e,2).onChange(n.target.value)&&o),"blur"===t&&(o=!1!==l.Gb(e,2).onTouched()&&o),o},null,null)),l.tb(2,16384,null,0,h.y,[l.G,l.k],null,null),l.Lb(1024,null,h.m,function(e){return[e]},[h.y]),l.tb(4,540672,null,0,h.g,[[8,null],[8,null],[6,h.m],[2,h.D]],{form:[0,"form"]},null),l.Lb(2048,null,h.n,null,[h.g]),l.tb(6,16384,null,0,h.o,[[4,h.n]],null,null),(e()(),l.jb(16777216,null,null,2,null,_n)),l.tb(8,16384,null,0,g.q,[l.R,l.O],{ngIf:[0,"ngIf"]},null),l.Kb(9,2)],function(e,t){var n=t.parent.context.formGroupRef.get("message");e(t,4,0,n);var o=l.Pb(t,8,0,e(t,9,0,l.Gb(t.parent.parent,3),t.parent.context.nodeflowCardProjectPackage.schematic.card.messages,t.context.$implicit));e(t,8,0,o)},function(e,t){e(t,1,0,l.Gb(t,6).ngClassUntouched,l.Gb(t,6).ngClassTouched,l.Gb(t,6).ngClassPristine,l.Gb(t,6).ngClassDirty,l.Gb(t,6).ngClassValid,l.Gb(t,6).ngClassInvalid,l.Gb(t,6).ngClassPending)})}function En(e){return l.Qb(0,[(e()(),l.ub(0,0,null,null,1,null,null,null,null,null,null,null)),(e()(),l.Ob(-1,null,["Yes "]))],null,null)}function Ln(e){return l.Qb(0,[(e()(),l.Ob(-1,null,["No"]))],null,null)}function Gn(e){return l.Qb(0,[(e()(),l.ub(0,0,null,null,11,"section",[],null,null,null,null,null)),(e()(),l.ub(1,0,null,null,5,"input",[["type","checkbox"]],[[1,"id",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"change"],[null,"blur"]],function(e,t,n){var o=!0;return"change"===t&&(o=!1!==l.Gb(e,2).onChange(n.target.checked)&&o),"blur"===t&&(o=!1!==l.Gb(e,2).onTouched()&&o),o},null,null)),l.tb(2,16384,null,0,h.b,[l.G,l.k],null,null),l.Lb(1024,null,h.m,function(e){return[e]},[h.b]),l.tb(4,540672,null,0,h.g,[[8,null],[8,null],[6,h.m],[2,h.D]],{form:[0,"form"]},null),l.Lb(2048,null,h.n,null,[h.g]),l.tb(6,16384,null,0,h.o,[[4,h.n]],null,null),(e()(),l.ub(7,0,null,null,4,"label",[],[[1,"for",0]],null,null,null,null)),(e()(),l.Ob(-1,null,[" State Sync: "])),(e()(),l.jb(16777216,null,null,1,null,En)),l.tb(10,16384,null,0,g.q,[l.R,l.O],{ngIf:[0,"ngIf"],ngIfElse:[1,"ngIfElse"]},null),(e()(),l.jb(0,[["isMessageStateUnsynchronized",2]],null,0,null,Ln))],function(e,t){var n=t.parent.context.formGroupRef.get("isMessageStateSynchronized");e(t,4,0,n);var o=t.parent.context.formGroupRef.get("isMessageStateSynchronized").value;e(t,10,0,o,l.Gb(t,11))},function(e,t){e(t,1,0,"isMessageStateSynchronized"+t.parent.context.assigningSocketType+t.parent.context.formGroupRefSequence,l.Gb(t,6).ngClassUntouched,l.Gb(t,6).ngClassTouched,l.Gb(t,6).ngClassPristine,l.Gb(t,6).ngClassDirty,l.Gb(t,6).ngClassValid,l.Gb(t,6).ngClassInvalid,l.Gb(t,6).ngClassPending),e(t,7,0,"isMessageStateSynchronized"+t.parent.context.assigningSocketType+t.parent.context.formGroupRefSequence)})}function Dn(e){return l.Qb(0,[(e()(),l.jb(16777216,null,null,1,null,kn)),l.tb(1,16384,null,0,g.q,[l.R,l.O],{ngIf:[0,"ngIf"]},null),(e()(),l.jb(16777216,null,null,2,null,Rn)),l.tb(3,278528,null,0,g.p,[l.R,l.O,l.u],{ngForOf:[0,"ngForOf"]},null),l.Hb(4,1),(e()(),l.jb(16777216,null,null,1,null,Gn)),l.tb(6,16384,null,0,g.q,[l.R,l.O],{ngIf:[0,"ngIf"]},null),(e()(),l.jb(0,null,null,0))],function(e,t){var n=t.context.formGroupRef.get("message").value;e(t,1,0,n);var l=e(t,4,0,t.context.formGroupRef.get("socket").value);e(t,3,0,l);var o=t.context.formGroupRef.get("message").value;e(t,6,0,o)},null)}function jn(e){return l.Qb(2,[l.Ib(0,nt,[]),l.Ib(0,lt,[]),l.Ib(0,ot,[]),l.Ib(0,it,[]),(e()(),l.jb(16777216,null,null,1,null,nn)),l.tb(5,16384,null,0,g.q,[l.R,l.O],{ngIf:[0,"ngIf"]},null),(e()(),l.jb(0,[["nodeflowSocketMessageRelation",2]],null,0,null,rn)),(e()(),l.jb(0,[["nodeflowSocketSelection",2]],null,0,null,On)),(e()(),l.jb(0,[["nodeflowMessageSelection",2]],null,0,null,Dn))],function(e,t){var n=t.component;e(t,5,0,n.resolvedNodeflow&&n.resolvedNodeflow.gridStateManager.routes)},null)}class $n{constructor(e,t){this.gridStateManager=e,this.configurationFacadeService=t,this.cardConfigurationPreprocessor=new Ge}removeNodeflow$(e,t,n,l,o){const i=e.viewModel.nodeModel;return this.startRemovalProcess$(e,n,o).pipe(Object(f.a)(e=>(this.removeRouteRelationConnectors(i),this.gridStateManager.removeNode(i),i)),Object(re.a)(()=>{l()}),Object(T.a)(1))}startRemovalProcess$(e,t,n){const l=new p.a,o=t.assemblyState.findModelByResourceFacade(e.resourceToken.card);if(o){const i=t.assemblyState.removeModel(o),r=e.viewModel.nodeModel;i?(t.gridWidget.optionsChanged(),n.pipe(Object(T.a)(1)).subscribe(e=>{l.next({model:o,item:r.view.gridItem})})):console.error("could not remove materialized model from assemblyState at index",o)}else console.log("remove: unable to reference materialized model",e.resourceToken.card.resourceId);return l}removeRouteRelationConnectors(e){const t=e.link;t&&[t.producerSocketCollection,t.consumerSocketCollection].forEach(t=>{t.forEach(t=>{this.gridStateManager.routes.getRouteRelationListBySocket(t).forEach(n=>{n.getSocketConnectorRelationListByNode(e,t.type).forEach(t=>{n.removeConnector(t)||console.error("unable to delete relation",t,"on node",e)})})})})}}const Fn={form:{removeCardNodeReference:{default:null},isVerboseMode:{default:!1}}};class zn extends Le{constructor(e,t,n){super(n),this.fb=e,this.nodeflowAgentService=t,this.gridStateManagerService=n}ngOnInit(){super.ngOnInit()}ngOnDestroy(){}onRemoveNodeAssetEvent(){const e=this.toolbarNodeflowBehaviorActionForm.get("removeCardNodeReference").value,t=e.viewModel.nodeModel;this.nodeflowAgentService.removeNodeflow$(e,this.resolvedNodeflow,this.resolvedNodeflow.pageComponent.gridContainerAssemblyInstance,this.resolvedNodeflow.updateViewTransition.bind(this.resolvedNodeflow),this.resolvedNodeflow.pageComponent.layoutItemDestroy$).subscribe(()=>{this.processingErrorMessage=void 0,this.resolvedNodeflow.pageComponent.onGridLayoutItemRemove(t.view.gridItem.item)},e=>{this.processingErrorMessage=e},()=>{this.toolbarNodeflowBehaviorActionForm.reset(),e.onSelectingStateChangeEvent(!1)})}createForm(){const e=this.fb.group({removeCardNodeReference:[Fn.form.removeCardNodeReference.default,[h.A.required]],isVerboseMode:[Fn.form.isVerboseMode.default,[]]});this.toolbarForm.addControl("removeCard",e);const t=e.get("removeCardNodeReference");return t.valueChanges.pipe(Object(se.a)(),st()).subscribe(e=>{e.forEach((e,t)=>{e&&e.onSelectingStateChangeEvent(1===t)})}),t.setValue(t.value),e}}var An=l.sb({encapsulation:0,styles:[["[_nghost-%COMP%]{display:flex;flex:0;align-items:flex-end}[_nghost-%COMP%]   [role=processingErrorMessage][_ngcontent-%COMP%]{padding:.2rem;border-radius:.5rem;border:1px solid rgba(0,0,0,.2);background-color:rgba(255,2,2,.3)}"]],data:{}});function Nn(e){return l.Qb(0,[(e()(),l.ub(0,0,null,null,1,"section",[["role","processingErrorMessage"]],null,null,null,null,null)),(e()(),l.ub(1,0,null,null,0,"div",[],[[8,"textContent",0]],null,null,null,null))],null,function(e,t){e(t,1,0,t.component.processingErrorMessage)})}function Vn(e){return l.Qb(0,[(e()(),l.ub(0,0,null,null,21,"div",[],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"submit"],[null,"reset"]],function(e,t,n){var o=!0;return"submit"===t&&(o=!1!==l.Gb(e,1).onSubmit(n)&&o),"reset"===t&&(o=!1!==l.Gb(e,1).onReset()&&o),o},null,null)),l.tb(1,540672,null,0,h.j,[[8,null],[8,null]],{form:[0,"form"]},null),l.Lb(2048,null,h.c,null,[h.j]),l.tb(3,16384,null,0,h.p,[[4,h.c]],null,null),(e()(),l.ub(4,0,null,null,17,"section",[["role","removeNodeflowAssetForm"]],null,null,null,null,null)),(e()(),l.ub(5,0,null,null,3,"section",[],null,null,null,null,null)),(e()(),l.ub(6,16777216,null,null,2,null,null,null,null,null,null,null)),l.tb(7,540672,null,0,g.v,[l.R],{ngTemplateOutletContext:[0,"ngTemplateOutletContext"],ngTemplateOutlet:[1,"ngTemplateOutlet"]},null),l.Jb(8,{formGroupRef:0,nodeFormControlName:1,nodeFormControlDefaultLabel:2}),(e()(),l.jb(16777216,null,null,1,null,Nn)),l.tb(10,16384,null,0,g.q,[l.R,l.O],{ngIf:[0,"ngIf"]},null),(e()(),l.ub(11,0,null,null,10,"section",[],null,null,null,null,null)),(e()(),l.ub(12,0,null,null,1,"button",[["class","btn btn-primary btn-outline-warning"],["title","Remove a node and all of its connected dependencies"]],[[8,"disabled",0]],[[null,"click"]],function(e,t,n){var l=!0;return"click"===t&&(l=!1!==e.component.onRemoveNodeAssetEvent()&&l),l},null,null)),(e()(),l.Ob(-1,null,["Remove Nodeflow "])),(e()(),l.ub(14,0,null,null,1,"label",[["for","removeNodeflowIsVerboseMode"]],null,null,null,null,null)),(e()(),l.Ob(-1,null,["Verbose"])),(e()(),l.ub(16,0,null,null,5,"input",[["formControlName","isVerboseMode"],["id","removeNodeflowIsVerboseMode"],["role","isVerboseMode"],["type","checkbox"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"change"],[null,"blur"]],function(e,t,n){var o=!0;return"change"===t&&(o=!1!==l.Gb(e,17).onChange(n.target.checked)&&o),"blur"===t&&(o=!1!==l.Gb(e,17).onTouched()&&o),o},null,null)),l.tb(17,16384,null,0,h.b,[l.G,l.k],null,null),l.Lb(1024,null,h.m,function(e){return[e]},[h.b]),l.tb(19,671744,null,0,h.h,[[3,h.c],[8,null],[8,null],[6,h.m],[2,h.D]],{name:[0,"name"]},null),l.Lb(2048,null,h.n,null,[h.h]),l.tb(21,16384,null,0,h.o,[[4,h.n]],null,null)],function(e,t){var n=t.component;e(t,1,0,n.toolbarNodeflowBehaviorActionForm);var o=e(t,8,0,n.toolbarNodeflowBehaviorActionForm,"removeCardNodeReference","Node to remove");e(t,7,0,o,l.Gb(t.parent,2)),e(t,10,0,n.processingErrorMessage),e(t,19,0,"isVerboseMode")},function(e,t){var n=t.component;e(t,0,0,l.Gb(t,3).ngClassUntouched,l.Gb(t,3).ngClassTouched,l.Gb(t,3).ngClassPristine,l.Gb(t,3).ngClassDirty,l.Gb(t,3).ngClassValid,l.Gb(t,3).ngClassInvalid,l.Gb(t,3).ngClassPending),e(t,12,0,n.toolbarNodeflowBehaviorActionForm.invalid),e(t,16,0,l.Gb(t,21).ngClassUntouched,l.Gb(t,21).ngClassTouched,l.Gb(t,21).ngClassPristine,l.Gb(t,21).ngClassDirty,l.Gb(t,21).ngClassValid,l.Gb(t,21).ngClassInvalid,l.Gb(t,21).ngClassPending)})}function Bn(e){return l.Qb(0,[(e()(),l.ub(0,0,null,null,0,"span",[],[[8,"textContent",0]],null,null,null,null))],null,function(e,t){var n=t.parent.context.formGroupRef.get(t.parent.context.nodeFormControlName).value.resourceToken.outlet.title;e(t,0,0,n)})}function Qn(e){return l.Qb(0,[(e()(),l.ub(0,0,null,null,1,null,null,null,null,null,null,null)),(e()(),l.Ob(1,null,[" [ In: "," | Out: "," ] "]))],null,function(e,t){e(t,1,0,t.parent.parent.context.ngIf.link.consumerSocketCollection.size,t.parent.parent.context.ngIf.link.producerSocketCollection.size)})}function Hn(e){return l.Qb(0,[(e()(),l.ub(0,0,null,null,2,null,null,null,null,null,null,null)),(e()(),l.jb(16777216,null,null,1,null,Qn)),l.tb(2,16384,null,0,g.q,[l.R,l.O],{ngIf:[0,"ngIf"],ngIfElse:[1,"ngIfElse"]},null),(e()(),l.jb(0,null,null,0))],function(e,t){e(t,2,0,t.parent.context.ngIf.link,l.Gb(t.parent,6))},null)}function Wn(e){return l.Qb(0,[(e()(),l.Ob(-1,null,[" (Unlinkable) "]))],null,null)}function qn(e){return l.Qb(0,[(e()(),l.ub(0,0,null,null,6,"option",[],null,null,null,null,null)),l.tb(1,147456,null,0,h.t,[l.k,l.G,[2,h.y]],{ngValue:[0,"ngValue"]},null),l.tb(2,147456,null,0,h.E,[l.k,l.G,[8,null]],{ngValue:[0,"ngValue"]},null),(e()(),l.Ob(3,null,[" "," "])),(e()(),l.jb(16777216,null,null,1,null,Hn)),l.tb(5,16384,null,0,g.q,[l.R,l.O],{ngIf:[0,"ngIf"]},null),(e()(),l.jb(0,[["noNodeModelLink",2]],null,0,null,Wn))],function(e,t){var n=t.component;e(t,1,0,t.parent.context.$implicit),e(t,2,0,t.parent.context.$implicit),e(t,5,0,n.selectedIsVerboseMode)},function(e,t){e(t,3,0,t.context.ngIf.id)})}function Un(e){return l.Qb(0,[(e()(),l.Ob(-1,null,[" Plugin Invalid "]))],null,null)}function Xn(e){return l.Qb(0,[(e()(),l.ub(0,0,null,null,3,null,null,null,null,null,null,null)),(e()(),l.jb(16777216,null,null,1,null,qn)),l.tb(2,16384,null,0,g.q,[l.R,l.O],{ngIf:[0,"ngIf"],ngIfElse:[1,"ngIfElse"]},null),(e()(),l.jb(0,[["brokenPluginMenuItemText",2]],null,0,null,Un))],function(e,t){e(t,2,0,null==t.context.$implicit.viewModel?null:t.context.$implicit.viewModel.nodeModel,l.Gb(t,3))},null)}function Yn(e){return l.Qb(0,[(e()(),l.ub(0,0,null,null,17,null,null,null,null,function(e,t,n){var o=!0;return"submit"===t&&(o=!1!==l.Gb(e,1).onSubmit(n)&&o),"reset"===t&&(o=!1!==l.Gb(e,1).onReset()&&o),o},null,null)),l.tb(1,540672,null,0,h.j,[[8,null],[8,null]],{form:[0,"form"]},null),l.Lb(2048,null,h.c,null,[h.j]),l.tb(3,16384,null,0,h.p,[[4,h.c]],null,null),(e()(),l.jb(16777216,null,null,1,null,Bn)),l.tb(5,16384,null,0,g.q,[l.R,l.O],{ngIf:[0,"ngIf"]},null),(e()(),l.ub(6,0,null,null,11,"select",[],[[1,"role",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"change"],[null,"blur"]],function(e,t,n){var o=!0;return"change"===t&&(o=!1!==l.Gb(e,7).onChange(n.target.value)&&o),"blur"===t&&(o=!1!==l.Gb(e,7).onTouched()&&o),o},null,null)),l.tb(7,16384,null,0,h.y,[l.G,l.k],null,null),l.Lb(1024,null,h.m,function(e){return[e]},[h.y]),l.tb(9,671744,null,0,h.h,[[3,h.c],[8,null],[8,null],[6,h.m],[2,h.D]],{name:[0,"name"]},null),l.Lb(2048,null,h.n,null,[h.h]),l.tb(11,16384,null,0,h.o,[[4,h.n]],null,null),(e()(),l.ub(12,0,null,null,3,"option",[],null,null,null,null,null)),l.tb(13,147456,null,0,h.t,[l.k,l.G,[2,h.y]],{ngValue:[0,"ngValue"]},null),l.tb(14,147456,null,0,h.E,[l.k,l.G,[8,null]],{ngValue:[0,"ngValue"]},null),(e()(),l.Ob(15,null,["",""])),(e()(),l.jb(16777216,null,null,1,null,Xn)),l.tb(17,278528,null,0,g.p,[l.R,l.O,l.u],{ngForOf:[0,"ngForOf"]},null)],function(e,t){var n=t.component;e(t,1,0,t.context.formGroupRef);var l=t.context.formGroupRef.get(t.context.nodeFormControlName).value;e(t,5,0,l),e(t,9,0,t.context.nodeFormControlName),e(t,13,0,null),e(t,14,0,null),e(t,17,0,n.nodeflowPluginList)},function(e,t){e(t,6,0,t.context.nodeFormControlName,l.Gb(t,11).ngClassUntouched,l.Gb(t,11).ngClassTouched,l.Gb(t,11).ngClassPristine,l.Gb(t,11).ngClassDirty,l.Gb(t,11).ngClassValid,l.Gb(t,11).ngClassInvalid,l.Gb(t,11).ngClassPending),e(t,15,0,t.context.nodeFormControlDefaultLabel)})}function Kn(e){return l.Qb(0,[(e()(),l.jb(16777216,null,null,1,null,Vn)),l.tb(1,16384,null,0,g.q,[l.R,l.O],{ngIf:[0,"ngIf"]},null),(e()(),l.jb(0,[["nodeflowNodeSelection",2]],null,0,null,Yn))],function(e,t){var n=t.component;e(t,1,0,n.resolvedNodeflow&&n.resolvedNodeflow.gridStateManager.routes)},null)}const Jn=[];class Zn{transform(e,t,n){if(e&&t){const l=t.topic;return l?e.filter(e=>e.link&&Array.from(e.link.getCollectionByType(n)).filter(e=>e.topic===l).length>0):(console.error("no other socket compatibility test",t),Jn)}return t||n!==v.input?e:Jn}}class el{constructor(e,t,n,l){this.gridStateManager=e,this.configurationFacadeService=t,this.connectorGeometryService=n,this.connectorLoaderService=l,this.isNodeCircularReferenceConnectorRule=e=>{const[t,n]=["producerSocket","consumerSocket"].map(t=>e.get(t).value);if(this.gridStateManager.isInitialized$.getValue()&&t&&n){const[e,l]=[t,n].map(e=>this.gridStateManager.findNodeBySocket(e));return e&&l&&e!==l?null:{circular_reference_connector:{label:"Circular-referenced node"}}}return null},this.cardConfigurationPreprocessor=new Ge}addSocketConnectorRelation$(e,t,n,l,o,i,r){return this.startCreationProcess$(e,t,n,l,i).pipe(Object(re.a)(e=>{r()}))}generateValidationErrors(e,t,n){const l=new Set;return t.enabled||l.add({code:"socket_disabled",label:"deactivated"}),n&&t.type===v.input&&this.gridStateManager.routes.findSocketConnectorRelationBySocketPair(n,t)&&l.add({code:"socket_connector_relation_duplicate",label:"connector relation exists"}),t.multicast||this.gridStateManager.routes.isSocketConnected(t)&&l.add({code:"socket_unicast_linked",label:"unicast socket linked "+(t.type===v.input?"from":"to")+" "+this.gridStateManager.routes.getSocketConnectorRelationListBySocket(t).map(e=>{const n=this.gridStateManager.findNodeBySocket(e.getOppositeSocket(t));return n?n.id:"missing socket of type: "+v[e.getOppositeSocketConnectorType(t)]}).join(" * ")}),t.type===v.output&&(e.producer&&e.producer.findMessageBySocket(t)||l.add({code:"message_not_created",label:"producer MessageModel missing"})),l}startCreationProcess$(e,t,n,l,o){const i=this.gridStateManager.findNodeBySocket(e);if(i){if(i.producer){const o=i.producer.findMessageBySocket(e);if(o){const i=this.factoryMessageConnectorsRouteRelation(e,o),r=this.factorySocketConnectionRelation(e,t,o,n);return e.topic!==t.topic?Object(Fe.a)(new Error("incompatible socket topic pairing")):r?this.cloningMessageDataWorkflow$(i,r,l).pipe(Object(ze.a)(()=>i.addConnector(r)?Object(k.a)(r):Object(Fe.a)(new Error("constraint failure: unable to add connector relation "+r.id)))):Object(Fe.a)(new Error("cannot make connector relation: "+e.id+" to "+t.id))}return Object(Fe.a)(new Error("cannot locate requisite message on node producer "+i.id))}return Object(Fe.a)(new Error("cannot locate requisite producer on node"+i.id))}return Object(Fe.a)(new Error("cannot locate requisite node by producer socket id"+e.id))}cloningMessageDataWorkflow$(e,t,n){const l=e.message;if(!(n&&l&&l.state))return Object(k.a)(l);if(void 0===l.state.data)return Object(Fe.a)(new Error("cannot recreate state if message or its data is missing"));{let n;try{return n=this.createMessageStateClone(l),e.unicastMessageState$(l,n,M.restore,t).pipe(Object(f.a)(e=>l))}catch(o){return Object(Fe.a)(new Error("cannot clone message data. Is it pure and serializable to JSON?"))}}}createMessageStateClone(e){try{return{classifier:e.state.classifier,data:JSON.parse(JSON.stringify(e.state.data))}}catch(t){throw t}}factoryMessageConnectorsRouteRelation(e,t){const n=this.gridStateManager.routes.getRouteRelationListByMessage(t);let l;return n.length?(n.length>1&&console.error("don't want to pick from extra route relation matches",n.length),l=n[0]):(l=this.gridStateManager.routes.factoryMessageConnectorsRouteRelation(t),this.gridStateManager.routes.addRouteRelation(l)||console.error("unable to create or add route relation",l.connectors)),l}factorySocketConnectionRelation(e,t,n,l){const o=new Y;o.state=l,o.producer=e,o.consumer=t;const[i,r]=[e,t].map(e=>this.gridStateManager.findNodeBySocket(e));return o.view.nodeSegmentConnector=this.connectorLoaderService.generateConnectorRelationView(i,e,r,t),o.view.nodeSegmentConnector.id=o.id,o}}const tl={form:{producerSocket:{default:null},consumerSocket:{default:null},isProducerMessageStateCloned:{default:!1},isVerboseMode:{default:!1},stateType:{default:U.valid}}};class nl extends Le{constructor(e,t,n,l){super(l),this.fb=e,this._cdr=t,this.nodeflowAgentService=n,this.gridStateManagerService=l}ngOnInit(){super.ngOnInit()}ngOnDestroy(){}onAddSocketConnectorRelationEvent(){const[e,t,n]=["stateType","producerSocket","consumerSocket"].map(e=>this.toolbarNodeflowBehaviorActionForm.get(e).value),l=this.resolvedNodeflow.pageComponent.gridContainerAssemblyInstance,[o]=["isProducerMessageStateCloned"].map(e=>this.toolbarNodeflowBehaviorActionForm.get(e).value);this.nodeflowAgentService.addSocketConnectorRelation$(t,n,e,o,this.resolvedNodeflow,l,this.resolvedNodeflow.updateViewTransition.bind(this.resolvedNodeflow)).subscribe(e=>{this.processingErrorMessage=void 0},e=>{this.processingErrorMessage=e},()=>{this.toolbarNodeflowBehaviorActionForm.reset({stateType:tl.form.stateType.default,isProducerMessageStateCloned:tl.form.isProducerMessageStateCloned.default}),[t.value,n.value].filter(Boolean).forEach(e=>this.resolvedNodeflow.onSocketViewSelectingStateChangeEvent(e,!1))})}adviseSocketCapabilityValidationErrors(e,t){return this.nodeflowAgentService.generateValidationErrors(e,t,this.toolbarNodeflowBehaviorActionForm.get("producerSocket").value)}checkSocketCapabilityValidationErrors(e,t){return this.adviseSocketCapabilityValidationErrors(e,t).size>0}showSelectListOptionGroup(e,t){if(e.link){const n=e.link.getCollectionByType(t),l=n.size;return this.selectedIsVerboseMode?l>0:l>0?l!==Array.from(n).reduce((t,n)=>t+ +this.checkSocketCapabilityValidationErrors(e,n),0):l>0}return!1}createForm(){const e=this.fb.group({stateType:[tl.form.stateType.default,[h.A.required]],isProducerMessageStateCloned:[tl.form.isProducerMessageStateCloned.default,[h.A.required]],producerSocket:[tl.form.producerSocket.default,[h.A.required]],consumerSocket:[tl.form.consumerSocket.default,[h.A.required]],isVerboseMode:[tl.form.isVerboseMode.default,[]]},{validator:h.A.compose([this.nodeflowAgentService.isNodeCircularReferenceConnectorRule])});this.toolbarForm.addControl("addSocketConnectorRelation",e);const t=["producerSocket","consumerSocket"].map(t=>e.get(t));for(const n of t)n.valueChanges.pipe(Object(se.a)(),st()).subscribe(e=>{e.forEach((e,t)=>{e&&this.resolvedNodeflow.onSocketViewSelectingStateChangeEvent(e,1===t)})}),n.setValue(n.value);return e}}var ll=l.sb({encapsulation:0,styles:[["[_nghost-%COMP%]{display:flex;flex:0;align-items:flex-end}[_nghost-%COMP%]   [role=errorsList][_ngcontent-%COMP%]{background-color:rgba(255,2,2,.15)}[_nghost-%COMP%]   [role=processingErrorMessage][_ngcontent-%COMP%]{padding:.2rem;border-radius:.5rem;border:1px solid rgba(0,0,0,.2);background-color:rgba(255,2,2,.3)}[_nghost-%COMP%]   SELECT.socketSelection[_ngcontent-%COMP%]{min-width:20ch}[_nghost-%COMP%]   SELECT[role=stateType][_ngcontent-%COMP%]   OPTION.default-state[_ngcontent-%COMP%], [_nghost-%COMP%]   SELECT[role=stateType].default-state[_ngcontent-%COMP%]{background-color:#fff}[_nghost-%COMP%]   SELECT[role=stateType][_ngcontent-%COMP%]   OPTION.invalid-state[_ngcontent-%COMP%], [_nghost-%COMP%]   SELECT[role=stateType].invalid-state[_ngcontent-%COMP%]{background-color:#f1c5c1}[_nghost-%COMP%]   SELECT[role=stateType][_ngcontent-%COMP%]   OPTION.valid-state[_ngcontent-%COMP%], [_nghost-%COMP%]   SELECT[role=stateType].valid-state[_ngcontent-%COMP%]{background-color:#c9eaa4}[_nghost-%COMP%]   SELECT[role=stateType][_ngcontent-%COMP%]   OPTION.unknown-state[_ngcontent-%COMP%], [_nghost-%COMP%]   SELECT[role=stateType].unknown-state[_ngcontent-%COMP%]{background-color:#d2d3cd}"]],data:{}});function ol(e){return l.Qb(0,[(e()(),l.ub(0,0,null,null,4,"option",[],[[8,"textContent",0]],null,null,null,null)),l.Lb(512,null,g.G,g.H,[l.u,l.v,l.k,l.G]),l.tb(2,278528,null,0,g.n,[g.G],{ngClass:[0,"ngClass"]},null),l.tb(3,147456,null,0,h.t,[l.k,l.G,[2,h.y]],{ngValue:[0,"ngValue"]},null),l.tb(4,147456,null,0,h.E,[l.k,l.G,[8,null]],{ngValue:[0,"ngValue"]},null)],function(e,t){e(t,2,0,t.component.stateTypeClass(t.context.$implicit[1])),e(t,3,0,t.context.$implicit[1]),e(t,4,0,t.context.$implicit[1])},function(e,t){e(t,0,0,t.context.$implicit[0])})}function il(e){return l.Qb(0,[(e()(),l.ub(0,0,null,null,1,null,null,null,null,null,null,null)),(e()(),l.Ob(-1,null,[", producer has to dispatch "]))],null,null)}function rl(e){return l.Qb(0,[(e()(),l.ub(0,0,null,null,1,null,null,null,null,null,null,null)),(e()(),l.Ob(-1,null,[", clone on state consumer side "]))],null,null)}function sl(e){return l.Qb(0,[(e()(),l.ub(0,0,null,null,0,"li",[],[[8,"textContent",0]],null,null,null,null))],null,function(e,t){e(t,0,0,t.parent.context.$implicit.label)})}function al(e){return l.Qb(0,[(e()(),l.ub(0,0,null,null,2,null,null,null,null,null,null,null)),(e()(),l.jb(16777216,null,null,1,null,sl)),l.tb(2,16384,null,0,g.q,[l.R,l.O],{ngIf:[0,"ngIf"]},null),(e()(),l.jb(0,null,null,0))],function(e,t){e(t,2,0,t.context.$implicit)},null)}function ul(e){return l.Qb(0,[(e()(),l.ub(0,0,null,null,3,"ul",[["role","errorsList"]],null,null,null,null,null)),(e()(),l.jb(16777216,null,null,2,null,al)),l.tb(2,278528,null,0,g.p,[l.R,l.O,l.u],{ngForOf:[0,"ngForOf"]},null),l.Hb(3,1)],function(e,t){var n=e(t,3,0,t.component.toolbarNodeflowBehaviorActionForm.errors.circular_reference_connector);e(t,2,0,n)},null)}function cl(e){return l.Qb(0,[(e()(),l.ub(0,0,null,null,1,"section",[["role","processingErrorMessage"]],null,null,null,null,null)),(e()(),l.ub(1,0,null,null,0,"div",[],[[8,"textContent",0]],null,null,null,null))],null,function(e,t){e(t,1,0,t.component.processingErrorMessage)})}function dl(e){return l.Qb(0,[(e()(),l.ub(0,0,null,null,0,"br",[],null,null,null,null,null))],null,null)}function hl(e){return l.Qb(0,[(e()(),l.ub(0,0,null,null,62,"div",[],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"submit"],[null,"reset"]],function(e,t,n){var o=!0;return"submit"===t&&(o=!1!==l.Gb(e,1).onSubmit(n)&&o),"reset"===t&&(o=!1!==l.Gb(e,1).onReset()&&o),o},null,null)),l.tb(1,540672,null,0,h.j,[[8,null],[8,null]],{form:[0,"form"]},null),l.Lb(2048,null,h.c,null,[h.j]),l.tb(3,16384,null,0,h.p,[[4,h.c]],null,null),(e()(),l.ub(4,0,null,null,58,"section",[["role","addSocketConnectorForm"]],null,null,null,null,null)),(e()(),l.ub(5,0,null,null,11,"section",[],null,null,null,null,null)),(e()(),l.Ob(-1,null,[" Link State: "])),(e()(),l.ub(7,0,null,null,9,"select",[["formControlName","stateType"],["role","stateType"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"change"],[null,"blur"]],function(e,t,n){var o=!0;return"change"===t&&(o=!1!==l.Gb(e,10).onChange(n.target.value)&&o),"blur"===t&&(o=!1!==l.Gb(e,10).onTouched()&&o),o},null,null)),l.Lb(512,null,g.G,g.H,[l.u,l.v,l.k,l.G]),l.tb(9,278528,null,0,g.n,[g.G],{ngClass:[0,"ngClass"]},null),l.tb(10,16384,null,0,h.y,[l.G,l.k],null,null),l.Lb(1024,null,h.m,function(e){return[e]},[h.y]),l.tb(12,671744,null,0,h.h,[[3,h.c],[8,null],[8,null],[6,h.m],[2,h.D]],{name:[0,"name"]},null),l.Lb(2048,null,h.n,null,[h.h]),l.tb(14,16384,null,0,h.o,[[4,h.n]],null,null),(e()(),l.jb(16777216,null,null,1,null,ol)),l.tb(16,278528,null,0,g.p,[l.R,l.O,l.u],{ngForOf:[0,"ngForOf"]},null),(e()(),l.ub(17,0,null,null,21,"section",[],null,null,null,null,null)),(e()(),l.Ob(-1,null,[" Model processing "])),(e()(),l.ub(19,0,null,null,19,"label",[],null,null,null,null,null)),(e()(),l.Ob(-1,null,[" Clone message data: "])),(e()(),l.ub(21,0,null,null,17,"select",[["formControlName","isProducerMessageStateCloned"],["role","isProducerMessageStateCloned"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"change"],[null,"blur"]],function(e,t,n){var o=!0;return"change"===t&&(o=!1!==l.Gb(e,22).onChange(n.target.value)&&o),"blur"===t&&(o=!1!==l.Gb(e,22).onTouched()&&o),o},null,null)),l.tb(22,16384,null,0,h.y,[l.G,l.k],null,null),l.Lb(1024,null,h.m,function(e){return[e]},[h.y]),l.tb(24,671744,null,0,h.h,[[3,h.c],[8,null],[8,null],[6,h.m],[2,h.D]],{name:[0,"name"]},null),l.Lb(2048,null,h.n,null,[h.h]),l.tb(26,16384,null,0,h.o,[[4,h.n]],null,null),(e()(),l.ub(27,0,null,null,5,"option",[],null,null,null,null,null)),l.tb(28,147456,null,0,h.t,[l.k,l.G,[2,h.y]],{ngValue:[0,"ngValue"]},null),l.tb(29,147456,null,0,h.E,[l.k,l.G,[8,null]],{ngValue:[0,"ngValue"]},null),(e()(),l.Ob(-1,null,["No "])),(e()(),l.jb(16777216,null,null,1,null,il)),l.tb(32,16384,null,0,g.q,[l.R,l.O],{ngIf:[0,"ngIf"]},null),(e()(),l.ub(33,0,null,null,5,"option",[],null,null,null,null,null)),l.tb(34,147456,null,0,h.t,[l.k,l.G,[2,h.y]],{ngValue:[0,"ngValue"]},null),l.tb(35,147456,null,0,h.E,[l.k,l.G,[8,null]],{ngValue:[0,"ngValue"]},null),(e()(),l.Ob(-1,null,["Yes "])),(e()(),l.jb(16777216,null,null,1,null,rl)),l.tb(38,16384,null,0,g.q,[l.R,l.O],{ngIf:[0,"ngIf"]},null),(e()(),l.ub(39,0,null,null,8,"section",[],null,null,null,null,null)),(e()(),l.ub(40,16777216,null,null,2,null,null,null,null,null,null,null)),l.tb(41,540672,null,0,g.v,[l.R],{ngTemplateOutletContext:[0,"ngTemplateOutletContext"],ngTemplateOutlet:[1,"ngTemplateOutlet"]},null),l.Jb(42,{formGroupRef:0,opposingSocketDirectionType:1,socketFormControl:2,socketTypeLabel:3,socketFormControlName:4}),(e()(),l.ub(43,16777216,null,null,2,null,null,null,null,null,null,null)),l.tb(44,540672,null,0,g.v,[l.R],{ngTemplateOutletContext:[0,"ngTemplateOutletContext"],ngTemplateOutlet:[1,"ngTemplateOutlet"]},null),l.Jb(45,{formGroupRef:0,opposingSocketDirectionType:1,socketFormControl:2,socketTypeLabel:3,socketFormControlName:4,selectedProducerSocket:5}),(e()(),l.jb(16777216,null,null,1,null,ul)),l.tb(47,16384,null,0,g.q,[l.R,l.O],{ngIf:[0,"ngIf"]},null),(e()(),l.jb(16777216,null,null,1,null,cl)),l.tb(49,16384,null,0,g.q,[l.R,l.O],{ngIf:[0,"ngIf"]},null),(e()(),l.ub(50,0,null,null,12,"section",[],null,null,null,null,null)),(e()(),l.ub(51,0,null,null,1,"button",[["class","btn btn-primary btn-outline-warning"],["title","Link two separate node sockets together"]],[[8,"disabled",0]],[[null,"click"]],function(e,t,n){var l=!0;return"click"===t&&(l=!1!==e.component.onAddSocketConnectorRelationEvent()&&l),l},null,null)),(e()(),l.Ob(-1,null,["Link Connector "])),(e()(),l.jb(16777216,null,null,1,null,dl)),l.tb(54,16384,null,0,g.q,[l.R,l.O],{ngIf:[0,"ngIf"]},null),(e()(),l.ub(55,0,null,null,1,"label",[["for","addSocketConnectionRelationIsVerboseMode"]],null,null,null,null,null)),(e()(),l.Ob(-1,null,["Verbose"])),(e()(),l.ub(57,0,null,null,5,"input",[["formControlName","isVerboseMode"],["id","addSocketConnectionRelationIsVerboseMode"],["role","isVerboseMode"],["type","checkbox"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"change"],[null,"blur"]],function(e,t,n){var o=!0;return"change"===t&&(o=!1!==l.Gb(e,58).onChange(n.target.checked)&&o),"blur"===t&&(o=!1!==l.Gb(e,58).onTouched()&&o),o},null,null)),l.tb(58,16384,null,0,h.b,[l.G,l.k],null,null),l.Lb(1024,null,h.m,function(e){return[e]},[h.b]),l.tb(60,671744,null,0,h.h,[[3,h.c],[8,null],[8,null],[6,h.m],[2,h.D]],{name:[0,"name"]},null),l.Lb(2048,null,h.n,null,[h.h]),l.tb(62,16384,null,0,h.o,[[4,h.n]],null,null)],function(e,t){var n=t.component;e(t,1,0,n.toolbarNodeflowBehaviorActionForm),e(t,9,0,n.stateTypeClass(n.selectedLinkStateType)),e(t,12,0,"stateType"),e(t,16,0,n.types.stateTypeList),e(t,24,0,"isProducerMessageStateCloned"),e(t,28,0,!1),e(t,29,0,!1),e(t,32,0,n.selectedIsVerboseMode),e(t,34,0,!0),e(t,35,0,!0),e(t,38,0,n.selectedIsVerboseMode);var o=e(t,42,0,n.toolbarNodeflowBehaviorActionForm,n.types.socketConnectorTypeMap.get("output"),n.toolbarNodeflowBehaviorActionForm.get("producerSocket"),"Producer: link from","producerSocket");e(t,41,0,o,l.Gb(t.parent,3));var i=e(t,45,0,n.toolbarNodeflowBehaviorActionForm,n.types.socketConnectorTypeMap.get("input"),n.toolbarNodeflowBehaviorActionForm.get("consumerSocket"),"Consumer: link to","consumerSocket",n.toolbarNodeflowBehaviorActionForm.get("producerSocket").value);e(t,44,0,i,l.Gb(t.parent,3)),e(t,47,0,n.toolbarNodeflowBehaviorActionForm.errors),e(t,49,0,n.processingErrorMessage),e(t,54,0,!n.selectedIsVerboseMode),e(t,60,0,"isVerboseMode")},function(e,t){var n=t.component;e(t,0,0,l.Gb(t,3).ngClassUntouched,l.Gb(t,3).ngClassTouched,l.Gb(t,3).ngClassPristine,l.Gb(t,3).ngClassDirty,l.Gb(t,3).ngClassValid,l.Gb(t,3).ngClassInvalid,l.Gb(t,3).ngClassPending),e(t,7,0,l.Gb(t,14).ngClassUntouched,l.Gb(t,14).ngClassTouched,l.Gb(t,14).ngClassPristine,l.Gb(t,14).ngClassDirty,l.Gb(t,14).ngClassValid,l.Gb(t,14).ngClassInvalid,l.Gb(t,14).ngClassPending),e(t,21,0,l.Gb(t,26).ngClassUntouched,l.Gb(t,26).ngClassTouched,l.Gb(t,26).ngClassPristine,l.Gb(t,26).ngClassDirty,l.Gb(t,26).ngClassValid,l.Gb(t,26).ngClassInvalid,l.Gb(t,26).ngClassPending),e(t,51,0,n.toolbarNodeflowBehaviorActionForm.invalid),e(t,57,0,l.Gb(t,62).ngClassUntouched,l.Gb(t,62).ngClassTouched,l.Gb(t,62).ngClassPristine,l.Gb(t,62).ngClassDirty,l.Gb(t,62).ngClassValid,l.Gb(t,62).ngClassInvalid,l.Gb(t,62).ngClassPending)})}function gl(e){return l.Qb(0,[(e()(),l.ub(0,0,null,null,0,"span",[],[[8,"textContent",0]],null,null,null,null))],null,function(e,t){e(t,0,0,t.parent.context.socketFormControl.value.view.nodeSegmentCoordinate.card.resourceId)})}function ml(e){return l.Qb(0,[(e()(),l.ub(0,0,null,null,1,null,null,null,null,null,null,null)),(e()(),l.Ob(-1,null,[" |"]))],null,null)}function pl(e){return l.Qb(0,[(e()(),l.ub(0,0,null,null,3,null,null,null,null,null,null,null)),(e()(),l.Ob(1,null,[" "," "])),(e()(),l.jb(16777216,null,null,1,null,ml)),l.tb(3,16384,null,0,g.q,[l.R,l.O],{ngIf:[0,"ngIf"]},null),(e()(),l.jb(0,null,null,0))],function(e,t){e(t,3,0,!t.context.last)},function(e,t){e(t,1,0,t.context.$implicit.label)})}function bl(e){return l.Qb(0,[(e()(),l.ub(0,0,null,null,3,null,null,null,null,null,null,null)),(e()(),l.Ob(-1,null,[" - "])),(e()(),l.jb(16777216,null,null,1,null,pl)),l.tb(3,278528,null,0,g.p,[l.R,l.O,l.u],{ngForOf:[0,"ngForOf"]},null),(e()(),l.jb(0,null,null,0))],function(e,t){e(t,3,0,t.component.adviseSocketCapabilityValidationErrors(t.parent.parent.parent.parent.parent.context.$implicit,t.parent.parent.parent.context.$implicit))},null)}function fl(e){return l.Qb(0,[(e()(),l.ub(0,0,null,null,6,null,null,null,null,null,null,null)),(e()(),l.ub(1,0,null,null,5,"option",[],[[8,"disabled",0]],null,null,null,null)),l.tb(2,147456,null,0,h.t,[l.k,l.G,[2,h.y]],{ngValue:[0,"ngValue"]},null),l.tb(3,147456,null,0,h.E,[l.k,l.G,[8,null]],{ngValue:[0,"ngValue"]},null),(e()(),l.Ob(4,null,[" "," "])),(e()(),l.jb(16777216,null,null,1,null,bl)),l.tb(6,16384,null,0,g.q,[l.R,l.O],{ngIf:[0,"ngIf"]},null)],function(e,t){e(t,2,0,t.parent.parent.context.$implicit),e(t,3,0,t.parent.parent.context.$implicit),e(t,6,0,!t.parent.context.ngIf.status)},function(e,t){e(t,1,0,!t.parent.context.ngIf.status),e(t,4,0,t.parent.parent.context.$implicit.topic)})}function Cl(e){return l.Qb(0,[(e()(),l.ub(0,0,null,null,2,null,null,null,null,null,null,null)),(e()(),l.jb(16777216,null,null,1,null,fl)),l.tb(2,16384,null,0,g.q,[l.R,l.O],{ngIf:[0,"ngIf"]},null),(e()(),l.jb(0,null,null,0))],function(e,t){e(t,2,0,t.component.selectedIsVerboseMode||t.context.ngIf.status)},null)}function yl(e){return l.Qb(0,[(e()(),l.ub(0,0,null,null,3,null,null,null,null,null,null,null)),(e()(),l.jb(16777216,null,null,2,null,Cl)),l.tb(2,16384,null,0,g.q,[l.R,l.O],{ngIf:[0,"ngIf"]},null),l.Jb(3,{status:0}),(e()(),l.jb(0,null,null,0))],function(e,t){var n=e(t,3,0,!t.component.checkSocketCapabilityValidationErrors(t.parent.parent.context.$implicit,t.context.$implicit));e(t,2,0,n)},null)}function vl(e){return l.Qb(0,[(e()(),l.ub(0,0,null,null,2,"optgroup",[],[[1,"label",0]],null,null,null,null)),(e()(),l.jb(16777216,null,null,1,null,yl)),l.tb(2,278528,null,0,g.p,[l.R,l.O,l.u],{ngForOf:[0,"ngForOf"]},null)],function(e,t){var n=null==t.parent.context.$implicit.link?null:t.parent.context.$implicit.link.getCollectionByType(t.parent.parent.context.opposingSocketDirectionType);e(t,2,0,n)},function(e,t){e(t,0,0,t.parent.context.$implicit.id)})}function Il(e){return l.Qb(0,[(e()(),l.ub(0,0,null,null,2,null,null,null,null,null,null,null)),(e()(),l.jb(16777216,null,null,1,null,vl)),l.tb(2,16384,null,0,g.q,[l.R,l.O],{ngIf:[0,"ngIf"]},null),(e()(),l.jb(0,null,null,0))],function(e,t){e(t,2,0,t.component.showSelectListOptionGroup(t.context.$implicit,t.parent.context.opposingSocketDirectionType))},null)}function Ol(e){return l.Qb(0,[(e()(),l.ub(0,0,null,null,18,null,null,null,null,function(e,t,n){var o=!0;return"submit"===t&&(o=!1!==l.Gb(e,1).onSubmit(n)&&o),"reset"===t&&(o=!1!==l.Gb(e,1).onReset()&&o),o},null,null)),l.tb(1,540672,null,0,h.j,[[8,null],[8,null]],{form:[0,"form"]},null),l.Lb(2048,null,h.c,null,[h.j]),l.tb(3,16384,null,0,h.p,[[4,h.c]],null,null),(e()(),l.jb(16777216,null,null,1,null,gl)),l.tb(5,16384,null,0,g.q,[l.R,l.O],{ngIf:[0,"ngIf"]},null),(e()(),l.ub(6,0,null,null,12,"select",[["class","socketSelection"]],[[1,"role",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"change"],[null,"blur"]],function(e,t,n){var o=!0;return"change"===t&&(o=!1!==l.Gb(e,7).onChange(n.target.value)&&o),"blur"===t&&(o=!1!==l.Gb(e,7).onTouched()&&o),o},null,null)),l.tb(7,16384,null,0,h.y,[l.G,l.k],null,null),l.Lb(1024,null,h.m,function(e){return[e]},[h.y]),l.tb(9,671744,null,0,h.h,[[3,h.c],[8,null],[8,null],[6,h.m],[2,h.D]],{name:[0,"name"]},null),l.Lb(2048,null,h.n,null,[h.h]),l.tb(11,16384,null,0,h.o,[[4,h.n]],null,null),(e()(),l.ub(12,0,null,null,2,"option",[],[[8,"textContent",0]],null,null,null,null)),l.tb(13,147456,null,0,h.t,[l.k,l.G,[2,h.y]],{ngValue:[0,"ngValue"]},null),l.tb(14,147456,null,0,h.E,[l.k,l.G,[8,null]],{ngValue:[0,"ngValue"]},null),(e()(),l.jb(16777216,null,null,3,null,Il)),l.tb(16,278528,null,0,g.p,[l.R,l.O,l.u],{ngForOf:[0,"ngForOf"]},null),l.Ib(131072,g.b,[l.h]),l.Kb(18,3)],function(e,t){var n=t.component;e(t,1,0,t.context.formGroupRef),e(t,5,0,t.context.socketFormControl.value),e(t,9,0,t.context.socketFormControlName),e(t,13,0,null),e(t,14,0,null);var o=l.Pb(t,16,0,e(t,18,0,l.Gb(t.parent,0),l.Pb(t,16,0,l.Gb(t,17).transform(n.nodeCollectionChange$)),t.context.selectedProducerSocket,t.context.opposingSocketDirectionType));e(t,16,0,o)},function(e,t){e(t,6,0,t.context.socketFormControlName,l.Gb(t,11).ngClassUntouched,l.Gb(t,11).ngClassTouched,l.Gb(t,11).ngClassPristine,l.Gb(t,11).ngClassDirty,l.Gb(t,11).ngClassValid,l.Gb(t,11).ngClassInvalid,l.Gb(t,11).ngClassPending),e(t,12,0,t.context.socketTypeLabel)})}function Ml(e){return l.Qb(2,[l.Ib(0,Zn,[]),(e()(),l.jb(16777216,null,null,1,null,hl)),l.tb(2,16384,null,0,g.q,[l.R,l.O],{ngIf:[0,"ngIf"]},null),(e()(),l.jb(0,[["nodeflowSocketSelection",2]],null,0,null,Ol))],function(e,t){var n=t.component;e(t,2,0,n.resolvedNodeflow&&n.resolvedNodeflow.gridStateManager.routes)},null)}class Sl{transform(e,t){return Array.isArray(e)?e.filter(e=>null===t||e.state===t):e}}class wl{constructor(){this.socketConnectorRelationCollection=new Set}}class kl{constructor(e){this.gridStateManager=e}transform(e,t){const n=[];return Array.isArray(e)?(e.forEach(e=>{const l=this.gridStateManager.findNodeBySocket(t===v.input?e.consumer:e.producer);if(l){let t=n.find(e=>e.node===l);t||(n.push(t=new wl),t.node=l),t.socketConnectorRelationCollection.add(e)}}),n):null}}class Tl{constructor(e,t,n,l){this.gridStateManager=e,this.configurationFacadeService=t,this.connectorGeometryService=n,this.connectorLoaderService=l,this.cardConfigurationPreprocessor=new Ge}removeSocketConnectorRelation$(e,t,n,l,o){return this.startRemovalProcess$(e,t,l).pipe(Object(re.a)(e=>{o()}))}startRemovalProcess$(e,t,n){const l=this.gridStateManager.routes.findRouteRelationBySocketConnectorRelation(e);return l?l.removeConnector(e)?(t&&0===l.connectors.size&&this.gridStateManager.routes.removeRouteRelation(l),Object(k.a)(l)):Object(Fe.a)(new Error("Could not remove item from message connector route relation collection")):Object(Fe.a)(new Error("Unresolved message connector route relation for connector"))}}const Pl={form:{stateType:{default:U.valid},socketConnectorType:{default:v.output},isEmptyRouteRelationModelDereference:{default:!1},socketConnectorRelation:{default:null},isVerboseMode:{default:!1}}};class xl extends Le{constructor(e,t,n,l){super(l),this.fb=e,this._cdr=t,this.nodeflowAgentService=n,this.gridStateManagerService=l}get selectedSocketConnectorRelation(){return this.toolbarNodeflowBehaviorActionForm.get("socketConnectorRelation").value}get selectedSocketConnectorType(){return this.toolbarNodeflowBehaviorActionForm.get("socketConnectorType").value}get selectedSocketConnectorRelationPerspectiveSocket(){const e=this.selectedSocketConnectorRelation;return e?this.selectedSocketConnectorType===v.input?e.consumer:e.producer:void 0}get selectedRouteRelation(){const e=this.selectedSocketConnectorRelation;return e?this.gridStateManagerService.routes.findRouteRelationBySocketConnectorRelation(e):void 0}onRemoveSocketConnectorRelationEvent(){const e=this.selectedSocketConnectorRelation,t=this.resolvedNodeflow.pageComponent.gridContainerAssemblyInstance,[n]=["isEmptyRouteRelationModelDereference"].map(e=>this.toolbarNodeflowBehaviorActionForm.get(e).value);this.nodeflowAgentService.removeSocketConnectorRelation$(e,n,this.resolvedNodeflow,t,this.resolvedNodeflow.updateViewTransition.bind(this.resolvedNodeflow)).subscribe(e=>{console.log("after connector removal, route relation collection size",e.connectors.size),this.processingErrorMessage=void 0},e=>{this.processingErrorMessage=e},()=>{this.resolvedNodeflow.onSocketConnectorRelationBeforeMovingStateChangeEvent(e,!1),this.toolbarNodeflowBehaviorActionForm.reset({stateType:this.selectedLinkStateType,socketConnectorType:this.selectedSocketConnectorType,isEmptyRouteRelationModelDereference:Pl.form.isEmptyRouteRelationModelDereference.default})})}createForm(){const e=this.fb.group({stateType:[Pl.form.stateType.default,[]],socketConnectorType:[Pl.form.socketConnectorType.default,[h.A.required]],isEmptyRouteRelationModelDereference:[Pl.form.isEmptyRouteRelationModelDereference.default,[h.A.required]],socketConnectorRelation:[Pl.form.socketConnectorRelation.default,[h.A.required]],isVerboseMode:[Pl.form.isVerboseMode.default,[]]});this.toolbarForm.addControl("removeSocketConnectorRelation",e);const t=e.get("socketConnectorRelation");return e.get("stateType").valueChanges.subscribe(e=>t.reset(Pl.form.socketConnectorRelation.default)),t.valueChanges.pipe(Object(se.a)(),st()).subscribe(e=>{e.forEach((e,t)=>{e&&this.resolvedNodeflow.onSocketConnectorRelationBeforeMovingStateChangeEvent(e,1===t)})}),t.setValue(e.get("socketConnectorRelation").value),e}}var _l=l.sb({encapsulation:0,styles:[["[_nghost-%COMP%]{display:flex;flex:0;align-items:flex-end}[_nghost-%COMP%]   [role=errorsList][_ngcontent-%COMP%]{background-color:rgba(255,2,2,.15)}[_nghost-%COMP%]   [role=processingErrorMessage][_ngcontent-%COMP%]{padding:.2rem;border-radius:.5rem;border:1px solid rgba(0,0,0,.2);background-color:rgba(255,2,2,.3)}[_nghost-%COMP%]   SELECT.socketConnectorRelationSelection[_ngcontent-%COMP%]{min-width:20ch}[_nghost-%COMP%]   SELECT[role=stateType][_ngcontent-%COMP%]   OPTION.default-state[_ngcontent-%COMP%], [_nghost-%COMP%]   SELECT[role=stateType].default-state[_ngcontent-%COMP%]{background-color:#fff}[_nghost-%COMP%]   SELECT[role=stateType][_ngcontent-%COMP%]   OPTION.invalid-state[_ngcontent-%COMP%], [_nghost-%COMP%]   SELECT[role=stateType].invalid-state[_ngcontent-%COMP%]{background-color:#f1c5c1}[_nghost-%COMP%]   SELECT[role=stateType][_ngcontent-%COMP%]   OPTION.valid-state[_ngcontent-%COMP%], [_nghost-%COMP%]   SELECT[role=stateType].valid-state[_ngcontent-%COMP%]{background-color:#c9eaa4}[_nghost-%COMP%]   SELECT[role=stateType][_ngcontent-%COMP%]   OPTION.unknown-state[_ngcontent-%COMP%], [_nghost-%COMP%]   SELECT[role=stateType].unknown-state[_ngcontent-%COMP%]{background-color:#d2d3cd}"]],data:{}});function Rl(e){return l.Qb(0,[(e()(),l.ub(0,0,null,null,1,null,null,null,null,null,null,null)),(e()(),l.Ob(1,null,[" Part of ","-way multicast set "]))],null,function(e,t){e(t,1,0,t.component.selectedRouteRelation.connectors.size)})}function El(e){return l.Qb(0,[(e()(),l.ub(0,0,null,null,1,null,null,null,null,null,null,null)),(e()(),l.Ob(-1,null,[" Single item ( last remaining ) in set "]))],null,null)}function Ll(e){return l.Qb(0,[(e()(),l.ub(0,0,null,null,6,"div",[],null,null,null,null,null)),(e()(),l.ub(1,0,null,null,1,"div",[],null,null,null,null,null)),(e()(),l.Ob(-1,null,["Producer edge:"])),(e()(),l.jb(16777216,null,null,1,null,Rl)),l.tb(4,16384,null,0,g.q,[l.R,l.O],{ngIf:[0,"ngIf"]},null),(e()(),l.jb(16777216,null,null,1,null,El)),l.tb(6,16384,null,0,g.q,[l.R,l.O],{ngIf:[0,"ngIf"]},null)],function(e,t){var n=t.component;e(t,4,0,n.selectedRouteRelation.connectors.size>1),e(t,6,0,1===n.selectedRouteRelation.connectors.size)},null)}function Gl(e){return l.Qb(0,[(e()(),l.ub(0,0,null,null,1,"div",[],null,null,null,null,null)),(e()(),l.Ob(-1,null,[" (unselected) "]))],null,null)}function Dl(e){return l.Qb(0,[(e()(),l.ub(0,0,null,null,5,"section",[],null,null,null,null,null)),(e()(),l.Ob(-1,null,[" Message Route Relation collection: "])),(e()(),l.jb(16777216,null,null,1,null,Ll)),l.tb(3,16384,null,0,g.q,[l.R,l.O],{ngIf:[0,"ngIf"]},null),(e()(),l.jb(16777216,null,null,1,null,Gl)),l.tb(5,16384,null,0,g.q,[l.R,l.O],{ngIf:[0,"ngIf"]},null)],function(e,t){var n=t.component;e(t,3,0,n.selectedRouteRelation),e(t,5,0,!n.selectedRouteRelation)},null)}function jl(e){return l.Qb(0,[(e()(),l.ub(0,0,null,null,4,"option",[],[[8,"textContent",0]],null,null,null,null)),l.Lb(512,null,g.G,g.H,[l.u,l.v,l.k,l.G]),l.tb(2,278528,null,0,g.n,[g.G],{ngClass:[0,"ngClass"]},null),l.tb(3,147456,null,0,h.t,[l.k,l.G,[2,h.y]],{ngValue:[0,"ngValue"]},null),l.tb(4,147456,null,0,h.E,[l.k,l.G,[8,null]],{ngValue:[0,"ngValue"]},null)],function(e,t){e(t,2,0,t.component.stateTypeClass(t.context.$implicit[1])),e(t,3,0,t.context.$implicit[1]),e(t,4,0,t.context.$implicit[1])},function(e,t){e(t,0,0,t.context.$implicit[0])})}function $l(e){return l.Qb(0,[(e()(),l.ub(0,0,null,null,1,null,null,null,null,null,null,null)),(e()(),l.Ob(-1,null,[", keep the empty collection"]))],null,null)}function Fl(e){return l.Qb(0,[(e()(),l.ub(0,0,null,null,1,null,null,null,null,null,null,null)),(e()(),l.Ob(-1,null,[", destroy collection and dereference"]))],null,null)}function zl(e){return l.Qb(0,[(e()(),l.ub(0,0,null,null,9,null,null,null,null,null,null,null)),(e()(),l.ub(1,0,null,null,6,"input",[["formControlName","socketConnectorType"],["type","radio"]],[[1,"id",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"],[null,"change"]],function(e,t,n){var o=!0;return"input"===t&&(o=!1!==l.Gb(e,2)._handleInput(n.target.value)&&o),"blur"===t&&(o=!1!==l.Gb(e,2).onTouched()&&o),"compositionstart"===t&&(o=!1!==l.Gb(e,2)._compositionStart()&&o),"compositionend"===t&&(o=!1!==l.Gb(e,2)._compositionEnd(n.target.value)&&o),"change"===t&&(o=!1!==l.Gb(e,3).onChange()&&o),"blur"===t&&(o=!1!==l.Gb(e,3).onTouched()&&o),o},null,null)),l.tb(2,16384,null,0,h.d,[l.G,l.k,[2,h.a]],null,null),l.tb(3,212992,null,0,h.v,[l.G,l.k,h.C,l.s],{formControlName:[0,"formControlName"],value:[1,"value"]},null),l.Lb(1024,null,h.m,function(e,t){return[e,t]},[h.d,h.v]),l.tb(5,671744,null,0,h.h,[[3,h.c],[8,null],[8,null],[6,h.m],[2,h.D]],{name:[0,"name"]},null),l.Lb(2048,null,h.n,null,[h.h]),l.tb(7,16384,null,0,h.o,[[4,h.n]],null,null),(e()(),l.ub(8,0,null,null,1,"label",[],[[1,"for",0]],null,null,null,null)),(e()(),l.Ob(9,null,[" "," "]))],function(e,t){e(t,3,0,"socketConnectorType",t.context.$implicit[1]),e(t,5,0,"socketConnectorType")},function(e,t){e(t,1,0,"socketConnectorType"+t.context.$implicit[1],l.Gb(t,7).ngClassUntouched,l.Gb(t,7).ngClassTouched,l.Gb(t,7).ngClassPristine,l.Gb(t,7).ngClassDirty,l.Gb(t,7).ngClassValid,l.Gb(t,7).ngClassInvalid,l.Gb(t,7).ngClassPending),e(t,8,0,"socketConnectorType"+t.context.$implicit[1]),e(t,9,0,t.context.$implicit[0])})}function Al(e){return l.Qb(0,[(e()(),l.ub(0,0,null,null,1,"div",[],null,null,null,null,null)),(e()(),l.Ob(1,null,[" "," "]))],null,function(e,t){e(t,1,0,t.context.ngIf.view.nodeSegmentConnector.start.card.resourceId)})}function Nl(e){return l.Qb(0,[(e()(),l.ub(0,0,null,null,1,null,null,null,null,null,null,null)),(e()(),l.Ob(1,null,[" <- "," "]))],null,function(e,t){e(t,1,0,t.parent.parent.context.$implicit.producer.view.nodeSegmentCoordinate.card.resourceId)})}function Vl(e){return l.Qb(0,[(e()(),l.ub(0,0,null,null,1,null,null,null,null,null,null,null)),(e()(),l.Ob(1,null,[" -> "," "]))],null,function(e,t){e(t,1,0,t.parent.parent.context.$implicit.consumer.view.nodeSegmentCoordinate.card.resourceId)})}function Bl(e){return l.Qb(0,[(e()(),l.ub(0,0,null,null,5,null,null,null,null,null,null,null)),(e()(),l.Ob(1,null,[" "," "])),(e()(),l.jb(16777216,null,null,1,null,Nl)),l.tb(3,16384,null,0,g.q,[l.R,l.O],{ngIf:[0,"ngIf"]},null),(e()(),l.jb(16777216,null,null,1,null,Vl)),l.tb(5,16384,null,0,g.q,[l.R,l.O],{ngIf:[0,"ngIf"]},null),(e()(),l.jb(0,null,null,0))],function(e,t){var n=t.component;e(t,3,0,n.selectedSocketConnectorType===n.types.socketConnectorTypeEnum.input),e(t,5,0,n.selectedSocketConnectorType===n.types.socketConnectorTypeEnum.output)},function(e,t){e(t,1,0,t.parent.context.$implicit.producer.topic)})}function Ql(e){return l.Qb(0,[(e()(),l.ub(0,0,null,null,1,null,null,null,null,null,null,null)),(e()(),l.Ob(1,null,[" "," <- "," "]))],null,function(e,t){e(t,1,0,t.parent.parent.context.$implicit.consumer.id,t.parent.parent.context.$implicit.producer.id)})}function Hl(e){return l.Qb(0,[(e()(),l.ub(0,0,null,null,1,null,null,null,null,null,null,null)),(e()(),l.Ob(1,null,[" "," -> "," "]))],null,function(e,t){e(t,1,0,t.parent.parent.context.$implicit.producer.id,t.parent.parent.context.$implicit.consumer.id)})}function Wl(e){return l.Qb(0,[(e()(),l.ub(0,0,null,null,5,null,null,null,null,null,null,null)),(e()(),l.jb(16777216,null,null,1,null,Ql)),l.tb(2,16384,null,0,g.q,[l.R,l.O],{ngIf:[0,"ngIf"]},null),(e()(),l.jb(16777216,null,null,1,null,Hl)),l.tb(4,16384,null,0,g.q,[l.R,l.O],{ngIf:[0,"ngIf"]},null),(e()(),l.Ob(5,null,[" : (",") "]))],function(e,t){var n=t.component;e(t,2,0,n.selectedSocketConnectorType===n.types.socketConnectorTypeEnum.input),e(t,4,0,n.selectedSocketConnectorType===n.types.socketConnectorTypeEnum.output)},function(e,t){e(t,5,0,t.component.types.stateTypeEnum[t.parent.context.$implicit.state])})}function ql(e){return l.Qb(0,[(e()(),l.ub(0,0,null,null,7,null,null,null,null,null,null,null)),(e()(),l.ub(1,0,null,null,6,"option",[],null,null,null,null,null)),l.tb(2,147456,null,0,h.t,[l.k,l.G,[2,h.y]],{ngValue:[0,"ngValue"]},null),l.tb(3,147456,null,0,h.E,[l.k,l.G,[8,null]],{ngValue:[0,"ngValue"]},null),(e()(),l.jb(16777216,null,null,1,null,Bl)),l.tb(5,16384,null,0,g.q,[l.R,l.O],{ngIf:[0,"ngIf"]},null),(e()(),l.jb(16777216,null,null,1,null,Wl)),l.tb(7,16384,null,0,g.q,[l.R,l.O],{ngIf:[0,"ngIf"]},null)],function(e,t){var n=t.component;e(t,2,0,t.context.$implicit),e(t,3,0,t.context.$implicit),e(t,5,0,!n.selectedIsVerboseMode),e(t,7,0,n.selectedIsVerboseMode)},null)}function Ul(e){return l.Qb(0,[(e()(),l.ub(0,0,null,null,3,null,null,null,null,null,null,null)),(e()(),l.ub(1,0,null,null,2,"optgroup",[],[[1,"label",0]],null,null,null,null)),(e()(),l.jb(16777216,null,null,1,null,ql)),l.tb(3,278528,null,0,g.p,[l.R,l.O,l.u],{ngForOf:[0,"ngForOf"]},null)],function(e,t){e(t,3,0,t.context.$implicit.socketConnectorRelationCollection)},function(e,t){e(t,1,0,t.context.$implicit.node.id)})}function Xl(e){return l.Qb(0,[(e()(),l.ub(0,0,null,null,1,"section",[["role","processingErrorMessage"]],null,null,null,null,null)),(e()(),l.ub(1,0,null,null,0,"div",[],[[8,"textContent",0]],null,null,null,null))],null,function(e,t){e(t,1,0,t.component.processingErrorMessage)})}function Yl(e){return l.Qb(0,[(e()(),l.ub(0,0,null,null,0,"br",[],null,null,null,null,null))],null,null)}function Kl(e){return l.Qb(0,[(e()(),l.ub(0,0,null,null,82,"div",[],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"submit"],[null,"reset"]],function(e,t,n){var o=!0;return"submit"===t&&(o=!1!==l.Gb(e,1).onSubmit(n)&&o),"reset"===t&&(o=!1!==l.Gb(e,1).onReset()&&o),o},null,null)),l.tb(1,540672,null,0,h.j,[[8,null],[8,null]],{form:[0,"form"]},null),l.Lb(2048,null,h.c,null,[h.j]),l.tb(3,16384,null,0,h.p,[[4,h.c]],null,null),(e()(),l.ub(4,0,null,null,78,"section",[["role","removeSocketConnectorForm"]],null,null,null,null,null)),(e()(),l.jb(16777216,null,null,1,null,Dl)),l.tb(6,16384,null,0,g.q,[l.R,l.O],{ngIf:[0,"ngIf"]},null),(e()(),l.ub(7,0,null,null,15,"section",[],null,null,null,null,null)),(e()(),l.Ob(-1,null,[" Link State: "])),(e()(),l.ub(9,0,null,null,13,"select",[["formControlName","stateType"],["role","stateType"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"change"],[null,"blur"]],function(e,t,n){var o=!0;return"change"===t&&(o=!1!==l.Gb(e,12).onChange(n.target.value)&&o),"blur"===t&&(o=!1!==l.Gb(e,12).onTouched()&&o),o},null,null)),l.Lb(512,null,g.G,g.H,[l.u,l.v,l.k,l.G]),l.tb(11,278528,null,0,g.n,[g.G],{ngClass:[0,"ngClass"]},null),l.tb(12,16384,null,0,h.y,[l.G,l.k],null,null),l.Lb(1024,null,h.m,function(e){return[e]},[h.y]),l.tb(14,671744,null,0,h.h,[[3,h.c],[8,null],[8,null],[6,h.m],[2,h.D]],{name:[0,"name"]},null),l.Lb(2048,null,h.n,null,[h.h]),l.tb(16,16384,null,0,h.o,[[4,h.n]],null,null),(e()(),l.ub(17,0,null,null,3,"option",[["class","default-state"]],null,null,null,null,null)),l.tb(18,147456,null,0,h.t,[l.k,l.G,[2,h.y]],{ngValue:[0,"ngValue"]},null),l.tb(19,147456,null,0,h.E,[l.k,l.G,[8,null]],{ngValue:[0,"ngValue"]},null),(e()(),l.Ob(-1,null,["any"])),(e()(),l.jb(16777216,null,null,1,null,jl)),l.tb(22,278528,null,0,g.p,[l.R,l.O,l.u],{ngForOf:[0,"ngForOf"]},null),(e()(),l.ub(23,0,null,null,19,"section",[],null,null,null,null,null)),(e()(),l.Ob(-1,null,[" Model processing (Empty route relation): "])),(e()(),l.ub(25,0,null,null,17,"select",[["formControlName","isEmptyRouteRelationModelDereference"],["role","isEmptyRouteRelationModelDereference"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"change"],[null,"blur"]],function(e,t,n){var o=!0;return"change"===t&&(o=!1!==l.Gb(e,26).onChange(n.target.value)&&o),"blur"===t&&(o=!1!==l.Gb(e,26).onTouched()&&o),o},null,null)),l.tb(26,16384,null,0,h.y,[l.G,l.k],null,null),l.Lb(1024,null,h.m,function(e){return[e]},[h.y]),l.tb(28,671744,null,0,h.h,[[3,h.c],[8,null],[8,null],[6,h.m],[2,h.D]],{name:[0,"name"]},null),l.Lb(2048,null,h.n,null,[h.h]),l.tb(30,16384,null,0,h.o,[[4,h.n]],null,null),(e()(),l.ub(31,0,null,null,5,"option",[],null,null,null,null,null)),l.tb(32,147456,null,0,h.t,[l.k,l.G,[2,h.y]],{ngValue:[0,"ngValue"]},null),l.tb(33,147456,null,0,h.E,[l.k,l.G,[8,null]],{ngValue:[0,"ngValue"]},null),(e()(),l.Ob(-1,null,["No "])),(e()(),l.jb(16777216,null,null,1,null,$l)),l.tb(36,16384,null,0,g.q,[l.R,l.O],{ngIf:[0,"ngIf"]},null),(e()(),l.ub(37,0,null,null,5,"option",[],null,null,null,null,null)),l.tb(38,147456,null,0,h.t,[l.k,l.G,[2,h.y]],{ngValue:[0,"ngValue"]},null),l.tb(39,147456,null,0,h.E,[l.k,l.G,[8,null]],{ngValue:[0,"ngValue"]},null),(e()(),l.Ob(-1,null,["Yes "])),(e()(),l.jb(16777216,null,null,1,null,Fl)),l.tb(42,16384,null,0,g.q,[l.R,l.O],{ngIf:[0,"ngIf"]},null),(e()(),l.ub(43,0,null,null,4,"section",[],null,null,null,null,null)),(e()(),l.ub(44,0,null,null,3,"div",[["role","socketConnectorType"]],null,null,null,null,null)),(e()(),l.Ob(-1,null,[" Grouped by: "])),(e()(),l.jb(16777216,null,null,1,null,zl)),l.tb(47,278528,null,0,g.p,[l.R,l.O,l.u],{ngForOf:[0,"ngForOf"]},null),(e()(),l.ub(48,0,null,null,19,"section",[],null,null,null,null,null)),(e()(),l.jb(16777216,null,null,1,null,Al)),l.tb(50,16384,null,0,g.q,[l.R,l.O],{ngIf:[0,"ngIf"]},null),(e()(),l.ub(51,0,null,null,16,"select",[["class","socketConnectorRelationSelection"],["formControlName","socketConnectorRelation"],["role","socketConnectorRelation"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"change"],[null,"blur"]],function(e,t,n){var o=!0;return"change"===t&&(o=!1!==l.Gb(e,52).onChange(n.target.value)&&o),"blur"===t&&(o=!1!==l.Gb(e,52).onTouched()&&o),o},null,null)),l.tb(52,16384,null,0,h.y,[l.G,l.k],null,null),l.Lb(1024,null,h.m,function(e){return[e]},[h.y]),l.tb(54,671744,null,0,h.h,[[3,h.c],[8,null],[8,null],[6,h.m],[2,h.D]],{name:[0,"name"]},null),l.Lb(2048,null,h.n,null,[h.h]),l.tb(56,16384,null,0,h.o,[[4,h.n]],null,null),(e()(),l.ub(57,0,null,null,5,"option",[],null,null,null,null,null)),l.tb(58,147456,null,0,h.t,[l.k,l.G,[2,h.y]],{ngValue:[0,"ngValue"]},null),l.tb(59,147456,null,0,h.E,[l.k,l.G,[8,null]],{ngValue:[0,"ngValue"]},null),(e()(),l.Ob(60,null,[" Link connector: Count ( "," ) "])),l.Ib(131072,g.b,[l.h]),l.Kb(62,2),(e()(),l.jb(16777216,null,null,4,null,Ul)),l.tb(64,278528,null,0,g.p,[l.R,l.O,l.u],{ngForOf:[0,"ngForOf"]},null),l.Ib(131072,g.b,[l.h]),l.Kb(66,2),l.Kb(67,2),(e()(),l.jb(16777216,null,null,1,null,Xl)),l.tb(69,16384,null,0,g.q,[l.R,l.O],{ngIf:[0,"ngIf"]},null),(e()(),l.ub(70,0,null,null,12,"section",[],null,null,null,null,null)),(e()(),l.ub(71,0,null,null,1,"button",[["class","btn btn-primary btn-outline-warning"],["title","Destroy a functioning link between two nodes"]],[[8,"disabled",0]],[[null,"click"]],function(e,t,n){var l=!0;return"click"===t&&(l=!1!==e.component.onRemoveSocketConnectorRelationEvent()&&l),l},null,null)),(e()(),l.Ob(-1,null,["Unlink Connector "])),(e()(),l.jb(16777216,null,null,1,null,Yl)),l.tb(74,16384,null,0,g.q,[l.R,l.O],{ngIf:[0,"ngIf"]},null),(e()(),l.ub(75,0,null,null,1,"label",[["for","removeSocketConnectionRelationIsVerboseMode"]],null,null,null,null,null)),(e()(),l.Ob(-1,null,["Verbose"])),(e()(),l.ub(77,0,null,null,5,"input",[["formControlName","isVerboseMode"],["id","removeSocketConnectionRelationIsVerboseMode"],["role","isVerboseMode"],["type","checkbox"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"change"],[null,"blur"]],function(e,t,n){var o=!0;return"change"===t&&(o=!1!==l.Gb(e,78).onChange(n.target.checked)&&o),"blur"===t&&(o=!1!==l.Gb(e,78).onTouched()&&o),o},null,null)),l.tb(78,16384,null,0,h.b,[l.G,l.k],null,null),l.Lb(1024,null,h.m,function(e){return[e]},[h.b]),l.tb(80,671744,null,0,h.h,[[3,h.c],[8,null],[8,null],[6,h.m],[2,h.D]],{name:[0,"name"]},null),l.Lb(2048,null,h.n,null,[h.h]),l.tb(82,16384,null,0,h.o,[[4,h.n]],null,null)],function(e,t){var n=t.component;e(t,1,0,n.toolbarNodeflowBehaviorActionForm),e(t,6,0,n.selectedIsVerboseMode),e(t,11,0,n.stateTypeClass(n.selectedLinkStateType)),e(t,14,0,"stateType"),e(t,18,0,null),e(t,19,0,null),e(t,22,0,n.types.stateTypeList),e(t,28,0,"isEmptyRouteRelationModelDereference"),e(t,32,0,!1),e(t,33,0,!1),e(t,36,0,n.selectedIsVerboseMode),e(t,38,0,!0),e(t,39,0,!0),e(t,42,0,n.selectedIsVerboseMode),e(t,47,0,n.types.socketConnectorTypeList),e(t,50,0,n.toolbarNodeflowBehaviorActionForm.get("socketConnectorRelation").value),e(t,54,0,"socketConnectorRelation"),e(t,58,0,null),e(t,59,0,null);var o=l.Pb(t,64,0,e(t,67,0,l.Gb(t.parent,1),l.Pb(t,64,0,e(t,66,0,l.Gb(t.parent,0),l.Pb(t,64,0,l.Gb(t,65).transform(n.socketConnectorRelationModelCollection$)),n.selectedLinkStateType)),n.selectedSocketConnectorType));e(t,64,0,o),e(t,69,0,n.processingErrorMessage),e(t,74,0,!n.selectedIsVerboseMode),e(t,80,0,"isVerboseMode")},function(e,t){var n=t.component;e(t,0,0,l.Gb(t,3).ngClassUntouched,l.Gb(t,3).ngClassTouched,l.Gb(t,3).ngClassPristine,l.Gb(t,3).ngClassDirty,l.Gb(t,3).ngClassValid,l.Gb(t,3).ngClassInvalid,l.Gb(t,3).ngClassPending),e(t,9,0,l.Gb(t,16).ngClassUntouched,l.Gb(t,16).ngClassTouched,l.Gb(t,16).ngClassPristine,l.Gb(t,16).ngClassDirty,l.Gb(t,16).ngClassValid,l.Gb(t,16).ngClassInvalid,l.Gb(t,16).ngClassPending),e(t,25,0,l.Gb(t,30).ngClassUntouched,l.Gb(t,30).ngClassTouched,l.Gb(t,30).ngClassPristine,l.Gb(t,30).ngClassDirty,l.Gb(t,30).ngClassValid,l.Gb(t,30).ngClassInvalid,l.Gb(t,30).ngClassPending),e(t,51,0,l.Gb(t,56).ngClassUntouched,l.Gb(t,56).ngClassTouched,l.Gb(t,56).ngClassPristine,l.Gb(t,56).ngClassDirty,l.Gb(t,56).ngClassValid,l.Gb(t,56).ngClassInvalid,l.Gb(t,56).ngClassPending);var o,i=null==(o=l.Pb(t,60,0,e(t,62,0,l.Gb(t.parent,0),l.Pb(t,60,0,l.Gb(t,61).transform(n.socketConnectorRelationModelCollection$)),n.selectedLinkStateType)))?null:o.length;e(t,60,0,i),e(t,71,0,n.toolbarNodeflowBehaviorActionForm.invalid),e(t,77,0,l.Gb(t,82).ngClassUntouched,l.Gb(t,82).ngClassTouched,l.Gb(t,82).ngClassPristine,l.Gb(t,82).ngClassDirty,l.Gb(t,82).ngClassValid,l.Gb(t,82).ngClassInvalid,l.Gb(t,82).ngClassPending)})}function Jl(e){return l.Qb(2,[l.Ib(0,Sl,[]),l.Ib(0,kl,[ie]),(e()(),l.jb(16777216,null,null,1,null,Kl)),l.tb(3,16384,null,0,g.q,[l.R,l.O],{ngIf:[0,"ngIf"]},null)],function(e,t){var n=t.component;e(t,3,0,n.resolvedNodeflow&&n.resolvedNodeflow.gridStateManager.routes)},null)}class Zl{constructor(){}}var eo=l.sb({encapsulation:0,styles:[["[_nghost-%COMP%]{display:flex;overflow-x:auto}[_nghost-%COMP%] > *[_ngcontent-%COMP%]{border-right:4px solid rgba(44,44,66,.1);margin-right:.2rem;transition:background-color .2s;background-color:rgba(44,44,66,.1)}[_nghost-%COMP%] > [_ngcontent-%COMP%]:hover{background-color:rgba(44,44,66,0);transition:background-color .2s}[_nghost-%COMP%] > [_ngcontent-%COMP%]:last-child{border-right:0;margin-right:0}"]],data:{}});function to(e){return l.Qb(0,[(e()(),l.ub(0,0,null,null,1,"nodeflow-toolbar-serialize-model",[["role","serializeModelForm"]],null,null,null,tt,qe)),l.tb(1,770048,null,0,We,[h.e,l.h,Qe,ie],{toolbarForm:[0,"toolbarForm"],nodeflow:[1,"nodeflow"]},null),(e()(),l.ub(2,0,null,null,1,"nodeflow-toolbar-add-nodeflow",[["role","newNodeflowAssetForm"]],null,null,null,jn,$t)),l.tb(3,770048,null,0,jt,[h.e,Rt,ie],{toolbarForm:[0,"toolbarForm"],nodeflow:[1,"nodeflow"]},null),(e()(),l.ub(4,0,null,null,1,"nodeflow-toolbar-remove-nodeflow",[["role","removeNodeflowAssetForm"]],null,null,null,Kn,An)),l.tb(5,770048,null,0,zn,[h.e,$n,ie],{toolbarForm:[0,"toolbarForm"],nodeflow:[1,"nodeflow"]},null),(e()(),l.ub(6,0,null,null,1,"nodeflow-toolbar-add-socket-connector-relation",[["role","addSocketConnectorRelationForm"]],null,null,null,Ml,ll)),l.tb(7,770048,null,0,nl,[h.e,l.h,el,ie],{toolbarForm:[0,"toolbarForm"],nodeflow:[1,"nodeflow"]},null),(e()(),l.ub(8,0,null,null,1,"nodeflow-toolbar-remove-socket-connector-relation",[["role","removeSocketConnectorRelationForm"]],null,null,null,Jl,_l)),l.tb(9,770048,null,0,xl,[h.e,l.h,Tl,ie],{toolbarForm:[0,"toolbarForm"],nodeflow:[1,"nodeflow"]},null)],function(e,t){var n=t.component;e(t,1,0,n.toolbarForm,n.nodeflow),e(t,3,0,n.toolbarForm,n.nodeflow),e(t,5,0,n.toolbarForm,n.nodeflow),e(t,7,0,n.toolbarForm,n.nodeflow),e(t,9,0,n.toolbarForm,n.nodeflow)},null)}var no=l.sb({encapsulation:0,styles:[["[_nghost-%COMP%]{display:flex;width:100%;flex:0 1 100%;flex-direction:column;margin:0}[_nghost-%COMP%]   .dashboard-strategy-container[_ngcontent-%COMP%]{flex:0 1 100%;display:flex;flex-direction:column}@media screen and (min-width:576px) and (max-width:767px){[_nghost-%COMP%]   .dashboard-strategy-container[_ngcontent-%COMP%]{width:inherit;padding:.5rem 1rem}}@media screen and (min-width:768px) and (max-width:991px){[_nghost-%COMP%]   .dashboard-strategy-container[_ngcontent-%COMP%]{width:inherit;padding:.5rem 1rem}}@media screen and (min-width:992px){[_nghost-%COMP%]   .dashboard-strategy-container[_ngcontent-%COMP%]{width:inherit;padding:.5rem 1rem}}@media screen and (min-width:376px) and (max-width:575px){[_nghost-%COMP%]   .dashboard-strategy-container[_ngcontent-%COMP%]{width:inherit;padding:0 1rem}}@media screen and (max-width:375px){[_nghost-%COMP%]   .dashboard-strategy-container[_ngcontent-%COMP%]{width:inherit;padding:0 1rem}}"]],data:{}});function lo(e){return l.Qb(0,[(e()(),l.ub(0,0,null,null,0,null,null,null,null,null,null,null))],null,null)}function oo(e){return l.Qb(0,[(e()(),l.ub(0,0,null,null,2,"div",[["class","dashboard-strategy-container"]],null,null,null,null,null)),(e()(),l.jb(16777216,null,null,1,null,lo)),l.tb(2,671744,null,0,g.o,[l.R],{ngComponentOutlet:[0,"ngComponentOutlet"],ngComponentOutletInjector:[1,"ngComponentOutletInjector"],ngComponentOutletContent:[2,"ngComponentOutletContent"]},null)],function(e,t){var n=t.component;e(t,2,0,n.producedAssemblyStrategyComponent,n.producedAssemblyStrategyProviderInjector,n.projectables)},null)}function io(e){return l.Qb(0,[(e()(),l.ub(0,0,null,null,2,null,null,null,null,null,null,null)),(e()(),l.jb(16777216,null,null,1,null,oo)),l.tb(2,16384,null,0,g.q,[l.R,l.O],{ngIf:[0,"ngIf"]},null),(e()(),l.jb(0,null,null,0))],function(e,t){e(t,2,0,t.component.producedAssemblyStrategyProviderInjector)},null)}function ro(e){return l.Qb(0,[(e()(),l.ub(0,0,null,null,3,null,null,null,null,null,null,null)),(e()(),l.jb(16777216,null,null,2,null,io)),l.tb(2,16384,null,0,g.q,[l.R,l.O],{ngIf:[0,"ngIf"],ngIfElse:[1,"ngIfElse"]},null),l.Ib(131072,g.b,[l.h]),(e()(),l.jb(0,null,null,0))],function(e,t){var n=t.component;e(t,2,0,!0===l.Pb(t,2,0,l.Gb(t,3).transform(n.isConfigurationReadySubject$)),l.Gb(t.parent,8))},null)}function so(e){return l.Qb(0,[(e()(),l.ub(0,0,null,null,5,"div",[["class","card"]],null,null,null,null,null)),(e()(),l.ub(1,0,null,null,1,"div",[["class","card-header"]],null,null,null,null,null)),(e()(),l.Ob(-1,null,[" Awaiting valid configuration parameter or context "])),(e()(),l.ub(3,0,null,null,0,"div",[["class","card-block"]],null,null,null,null,null)),(e()(),l.ub(4,0,null,null,1,"div",[["class","card-footer"]],null,null,null,null,null)),(e()(),l.Ob(-1,null,[" Please correct validation error. "]))],null,null)}function ao(e){return l.Qb(0,[(e()(),l.ub(0,0,null,null,0,null,null,null,null,null,null,null))],null,null)}function uo(e){return l.Qb(0,[(e()(),l.ub(0,0,null,null,5,"div",[["class","card"]],null,null,null,null,null)),(e()(),l.ub(1,0,null,null,1,"div",[["class","card-header"]],null,null,null,null,null)),(e()(),l.Ob(-1,null,[" Configuration Error "])),(e()(),l.ub(3,0,null,null,0,"div",[["class","card-block"]],null,null,null,null,null)),(e()(),l.ub(4,0,null,null,1,"div",[["class","card-footer"]],null,null,null,null,null)),(e()(),l.Ob(-1,null,[" Please correct configuration error. "]))],null,null)}function co(e){return l.Qb(0,[(e()(),l.jb(16777216,null,null,2,null,ao)),l.tb(1,16384,null,0,g.q,[l.R,l.O],{ngIf:[0,"ngIf"],ngIfElse:[1,"ngIfElse"]},null),l.Ib(131072,g.b,[l.h]),(e()(),l.jb(0,[["configurationErrorState",2]],null,0,null,uo))],function(e,t){var n=t.component;e(t,1,0,!l.Pb(t,1,0,l.Gb(t,2).transform(n.isConfigurationErrorSubject$)),l.Gb(t,3))},null)}function ho(e){return l.Qb(0,[l.Fb(null,0),(e()(),l.jb(0,null,null,0))],null,null)}function go(e){return l.Qb(0,[l.Fb(null,1),(e()(),l.jb(0,null,null,0))],null,null)}function mo(e){return l.Qb(0,[l.Fb(null,2),(e()(),l.jb(0,null,null,0))],null,null)}function po(e){return l.Qb(0,[l.Fb(null,3),(e()(),l.jb(0,null,null,0))],null,null)}function bo(e){return l.Qb(0,[l.Mb(402653184,1,{headerTemplateRef:0}),l.Mb(402653184,2,{footerTemplateRef:0}),l.Mb(402653184,3,{gridWidgetUnderlayTemplateRef:0}),l.Mb(402653184,4,{gridWidgetOverlayTemplateRef:0}),(e()(),l.jb(16777216,null,null,2,null,ro)),l.tb(5,16384,null,0,g.q,[l.R,l.O],{ngIf:[0,"ngIf"],ngIfElse:[1,"ngIfElse"]},null),l.Ib(131072,g.b,[l.h]),(e()(),l.jb(0,[["notValidState",2]],null,0,null,so)),(e()(),l.jb(0,[["notReadyState",2]],null,0,null,co)),(e()(),l.jb(0,[[1,2],["header",2]],null,0,null,ho)),(e()(),l.jb(0,[[3,2],["gridWidgetUnderlay",2]],null,0,null,go)),(e()(),l.jb(0,[[4,2],["gridWidgetOverlay",2]],null,0,null,mo)),(e()(),l.jb(0,[[2,2],["footer",2]],null,0,null,po))],function(e,t){var n=t.component;e(t,5,0,!0===l.Pb(t,5,0,l.Gb(t,6).transform(n.isConfigurationValidSubject$)),l.Gb(t,7))},null)}class fo{constructor(e,t,n,l,o){this.element=e,this.vcr=t,this.renderer=n,this.zone=l,this.cdr=o}ngOnInit(){}ngAfterViewInit(){}}var Co=l.sb({encapsulation:0,styles:[["[_nghost-%COMP%]{display:block;position:absolute;background:#fff;border:1px solid #038;border-radius:5px;padding:.5rem;left:1rem;top:1rem;width:10rem;height:10rem}"]],data:{}});function yo(e){return l.Qb(0,[(e()(),l.ub(0,0,null,null,1,"div",[],null,null,null,null,null)),(e()(),l.Ob(-1,null,[" Grid Item Menu"])),(e()(),l.ub(2,0,null,null,1,"div",[],null,null,null,null,null)),(e()(),l.Ob(-1,null,[" Node/Grid Item name: ........ "]))],null,null)}function vo(e){return l.Qb(0,[(e()(),l.ub(0,0,null,null,1,"div",[],null,null,null,null,null)),(e()(),l.Ob(-1,null,[" Node Connector Menu"])),(e()(),l.ub(2,0,null,null,1,"div",[],null,null,null,null,null)),(e()(),l.Ob(-1,null,[" node path info: ........ "]))],null,null)}function Io(e){return l.Qb(0,[(e()(),l.ub(0,0,null,null,1,"div",[],null,null,null,null,null)),(e()(),l.Ob(-1,null,[" Socket Menu"])),(e()(),l.ub(2,0,null,null,1,"div",[],null,null,null,null,null)),(e()(),l.Ob(-1,null,[" socket info: ... "]))],null,null)}function Oo(e){return l.Qb(2,[(e()(),l.Ob(-1,null,["App Menu items "])),l.Fb(null,0),l.Fb(null,1),(e()(),l.jb(0,[["gridItemMenuOverlayTemplate",2]],null,0,null,yo)),(e()(),l.jb(0,[["segmentConnectorMenuOverlayTemplate",2]],null,0,null,vo)),(e()(),l.jb(0,[["socketConnectorMenuOverlayTemplate",2]],null,0,null,Io))],null,null)}const Mo={layout:{offsetFromTrigger:10,showingClass:"show",triggerShowingDelay:40,width:50,maxWidth:100,height:20,maxHeight:40}};class So{constructor(e,t,n,l,o){this.config=e,this.element=t,this.renderer=n,this.canvasLayoutService=l,this.gridStateManager=o}ngAfterViewInit(){const e=this.node.view.gridItem.gridster.el,t=this.node.view.gridItem.gridster.el.getBoundingClientRect(),n=e.scrollLeft,l=e.scrollTop,o=this.triggerElement.getBoundingClientRect();this.contentBoundingBox=this.element.nativeElement.getBoundingClientRect();const i=o.top-t.top-this.contentBoundingBox.height+l-Mo.layout.offsetFromTrigger;this.renderer.setStyle(this.element.nativeElement,"left",o.left+(this.socket.type===v.input?o.width:0)-t.left-this.contentBoundingBox.width/2+n+"px"),this.renderer.setStyle(this.element.nativeElement,"top",i+"px"),setTimeout(()=>{this.renderer.addClass(this.element.nativeElement,Mo.layout.showingClass)},Mo.layout.triggerShowingDelay)}displaySocketConnectorType(e){return{[v.input]:"Input",[v.output]:"Output"}[e]}get isSocketConnectorEstablished(){return this.gridStateManager.routes.isSocketConnected(this.socket)}ngOnDestroy(){}}const wo=new l.r("Compositor Configuration Properties");var ko=l.sb({encapsulation:0,styles:[['[_nghost-%COMP%]{display:block;position:absolute;background:#fff;color:#000;border:1px solid #567;border-radius:.5rem;box-shadow:0 5px 4px 2px rgba(0,0,0,.3);padding:.5rem;white-space:nowrap;transition:opacity .2s;opacity:0}.show[_nghost-%COMP%]{opacity:1}[_nghost-%COMP%]::before{content:"";position:absolute;left:50%;width:.7rem;height:.7rem;bottom:-.35rem;clip-path:polygon(100% 20%,100% 100%,20% 100%);background:#fff;border:1px solid #2b333c;padding:3px;transform:rotate(45deg);transform-origin:top;pointer-events:none}UL[_ngcontent-%COMP%]{padding:0;margin:0 1rem}UL[_ngcontent-%COMP%]   LI[_ngcontent-%COMP%]{font-size:10pt}']],data:{}});function To(e){return l.Qb(0,[(e()(),l.ub(0,0,null,null,20,"section",[],null,null,null,null,null)),(e()(),l.ub(1,0,null,null,18,"ul",[],null,null,null,null,null)),(e()(),l.ub(2,0,null,null,2,"li",[],null,null,null,null,null)),(e()(),l.Ob(-1,null,["Type: "])),(e()(),l.ub(4,0,null,null,0,"span",[],[[8,"textContent",0]],null,null,null,null)),(e()(),l.ub(5,0,null,null,2,"li",[],null,null,null,null,null)),(e()(),l.Ob(-1,null,["Topic: "])),(e()(),l.ub(7,0,null,null,0,"span",[],[[8,"textContent",0]],null,null,null,null)),(e()(),l.ub(8,0,null,null,2,"li",[],null,null,null,null,null)),(e()(),l.Ob(-1,null,["Node: "])),(e()(),l.ub(10,0,null,null,0,"span",[],[[8,"textContent",0]],null,null,null,null)),(e()(),l.ub(11,0,null,null,2,"li",[],null,null,null,null,null)),(e()(),l.Ob(-1,null,["Socket: "])),(e()(),l.ub(13,0,null,null,0,"span",[],[[8,"textContent",0]],null,null,null,null)),(e()(),l.ub(14,0,null,null,2,"li",[],null,null,null,null,null)),(e()(),l.Ob(-1,null,["Multicast: "])),(e()(),l.ub(16,0,null,null,0,"span",[],[[8,"textContent",0]],null,null,null,null)),(e()(),l.ub(17,0,null,null,2,"li",[],null,null,null,null,null)),(e()(),l.Ob(-1,null,["Connected: "])),(e()(),l.ub(19,0,null,null,0,"span",[],[[8,"textContent",0]],null,null,null,null)),l.Fb(null,0)],null,function(e,t){var n=t.component;e(t,4,0,n.displaySocketConnectorType(null==n.socket?null:n.socket.type)),e(t,7,0,n.socket.topic),e(t,10,0,n.socket.view.nodeSegmentCoordinate.card.resourceId),e(t,13,0,n.socket.id),e(t,16,0,n.socket.multicast),e(t,19,0,n.isSocketConnectorEstablished)})}const Po={layout:{offsetFromTrigger:5,showingClass:"show",triggerShowingDelay:100,width:50,maxWidth:100,height:20,maxHeight:40}};class xo{constructor(e,t){this.element=e,this.renderer=t}ngAfterViewInit(){this.contentBoundingBox=this.element.nativeElement.getBoundingClientRect(),setTimeout(()=>{this.renderer.addClass(this.element.nativeElement,Po.layout.showingClass)},Po.layout.triggerShowingDelay)}ngOnDestroy(){}}var _o=l.sb({encapsulation:0,styles:[["[_nghost-%COMP%]{display:block;position:absolute;background:#fff;color:#333;border:1px solid #333;border-radius:.5rem;box-shadow:0 5px 4px 2px rgba(0,0,0,.3);padding:.5rem;transition:opacity .2s;opacity:0;bottom:0;right:0;max-width:50%;max-height:80%;overflow-y:auto}.show[_nghost-%COMP%]{opacity:1}.warning[_nghost-%COMP%]{background:#fcf6f0}.error[_nghost-%COMP%]{background:#f7e5e5}.info[_nghost-%COMP%]{background:#dff}[_nghost-%COMP%]   [role=overlayHeader][_ngcontent-%COMP%]{background:#ddd;width:100%;display:flex;padding:.5rem}[_nghost-%COMP%]   [role=overlayHeader][_ngcontent-%COMP%] >   :first-child{flex:1}[_nghost-%COMP%]   [role=overlayHeader][_ngcontent-%COMP%] > [_ngcontent-%COMP%]:last-child{cursor:pointer;padding:0 .2rem;background:#bbb;border:1px solid #777;color:#eee;border-radius:1rem}[_nghost-%COMP%]   [role=overlayHeader][_ngcontent-%COMP%] > [_ngcontent-%COMP%]:last-child:hover{color:#fff;background:#aaa}[_nghost-%COMP%]   OL[_ngcontent-%COMP%]{font-size:10pt}[_nghost-%COMP%]   OL[_ngcontent-%COMP%]   LI[_ngcontent-%COMP%]{padding:.2rem;border-radius:.5rem}[_nghost-%COMP%]   OL[_ngcontent-%COMP%]   LI[_ngcontent-%COMP%]:nth-child(even){background-color:#fafafa}[_nghost-%COMP%]   OL[_ngcontent-%COMP%]   LI[_ngcontent-%COMP%]:nth-child(odd){background-color:#e8e8e8}"]],data:{}});function Ro(e){return l.Qb(0,[(e()(),l.ub(0,0,null,null,1,"li",[],null,null,null,null,null)),(e()(),l.Ob(1,null,[" "," "]))],null,function(e,t){e(t,1,0,t.context.$implicit)})}function Eo(e){return l.Qb(0,[(e()(),l.ub(0,0,null,null,8,"section",[],null,null,null,null,null)),(e()(),l.ub(1,0,null,null,3,"div",[["role","overlayHeader"]],null,null,null,null,null)),l.Fb(null,0),(e()(),l.ub(3,0,null,null,1,"div",[],null,[[null,"click"]],function(e,t,n){var l=!0;return"click"===t&&(l=!1!==e.component.overlayCommand.close()&&l),l},null,null)),(e()(),l.Ob(-1,null,["X"])),(e()(),l.ub(5,0,null,null,0,"hr",[],null,null,null,null,null)),(e()(),l.ub(6,0,null,null,2,"ol",[],null,null,null,null,null)),(e()(),l.jb(16777216,null,null,1,null,Ro)),l.tb(8,278528,null,0,g.p,[l.R,l.O,l.u],{ngForOf:[0,"ngForOf"]},null)],function(e,t){e(t,8,0,t.component.messages)},null)}class Lo{transform(e){return E.sortCollection(e)}}var Go=l.sb({encapsulation:0,styles:[["@namespace svg url(http://www.w3.org/2000/svg);[_nghost-%COMP%]{display:block;position:absolute;width:100%;height:100%}[role=canvas][_ngcontent-%COMP%]{background-image:linear-gradient(rgba(12,12,12,.2),rgba(255,255,255,.2));position:absolute;top:0;left:0;bottom:0;right:0;width:inherit;height:inherit}.segmentConnectorEdgeSocket[_ngcontent-%COMP%]{stroke-width:3px;paint-order:stroke}.segmentConnectorEdgeSocket[_ngcontent-%COMP%]:hover{cursor:move;stroke:rgba(0,0,0,.5)}.segmentConnectorEdgeSocket.segmentConnectorOutput[_ngcontent-%COMP%]{fill:#9e4e3a}.segmentConnectorEdgeSocket.segmentConnectorOutput[_ngcontent-%COMP%]:hover{fill:#be644d}.segmentConnectorEdgeSocket.segmentConnectorInput[_ngcontent-%COMP%]{fill:#3ab29e}.segmentConnectorEdgeSocket.segmentConnectorInput[_ngcontent-%COMP%]:hover{fill:#57c8b5}.segmentConnectorButton[_ngcontent-%COMP%]{stroke-width:2px;stroke:rgba(94,12,2,.8);fill:rgba(244,182,22,.5);cursor:pointer}.segmentConnectorButton[_ngcontent-%COMP%]:hover{fill:rgba(244,182,22,.9)}.segmentConnectorButton[_ngcontent-%COMP%]:active{fill:rgba(0,0,0,.4)}[role=segmentConnectorPathGroup][_ngcontent-%COMP%] > svg|path[_ngcontent-%COMP%]{stroke:#fff;fill:none}[role=segmentConnectorPathGroup][_ngcontent-%COMP%] > svg|path.stroked[_ngcontent-%COMP%]{stroke:#000}[role=segmentConnectorPathGroup].messaging-connect[_ngcontent-%COMP%] > svg|path[_ngcontent-%COMP%]{stroke:rgba(255,255,255,.2);stroke-width:3px}[role=segmentConnectorPathGroup].messaging-connect[_ngcontent-%COMP%]   [role=segmentConnectorArrowVectorGroup][_ngcontent-%COMP%]{display:none}[role=segmentConnectorPathGroup].messaging-transmit[_ngcontent-%COMP%] > svg|path[_ngcontent-%COMP%]{stroke-dasharray:20;stroke-dashoffset:20;stroke:rgba(255,255,255,.8);animation:20s linear infinite reverse segmentConnectorPathGroup-path-messaging-complete}@keyframes segmentConnectorPathGroup-path-messaging-complete{from{stroke-dashoffset:1000}to{stroke-dashoffset:0}}[role=segmentConnectorPathGroup].messaging-transmit[_ngcontent-%COMP%]   [role=segmentConnectorArrowVectorGroup][_ngcontent-%COMP%]{display:none}[role=segmentConnectorPathGroup].moving-before[_ngcontent-%COMP%] > svg|path[_ngcontent-%COMP%]{stroke:rgba(255,255,255,.5);animation:3s linear infinite alternate segmentConnectorPathGroup-path-moving-before}@keyframes segmentConnectorPathGroup-path-moving-before{to{stroke-width:7px}}[role=segmentConnectorPathGroup].link-valid[_ngcontent-%COMP%] > svg|path[_ngcontent-%COMP%]:last-of-type{stroke:#0c0}[role=segmentConnectorPathGroup].link-valid[_ngcontent-%COMP%]   [role=segmentConnectorArrowVectorGroup][_ngcontent-%COMP%] > svg|polygon[_ngcontent-%COMP%]:last-of-type{fill:#0c0}[role=segmentConnectorPathGroup].link-invalid[_ngcontent-%COMP%] > svg|path[_ngcontent-%COMP%]:last-of-type{stroke:#f33}[role=segmentConnectorPathGroup].link-invalid[_ngcontent-%COMP%]   [role=segmentConnectorArrowVectorGroup][_ngcontent-%COMP%] > svg|polygon[_ngcontent-%COMP%]:last-of-type{fill:#f33}[role=segmentConnectorPathGroup].link-unknown[_ngcontent-%COMP%] > svg|path[_ngcontent-%COMP%]:first-of-type{stroke:#a0a070}[role=segmentConnectorPathGroup].link-unknown[_ngcontent-%COMP%] > svg|path[_ngcontent-%COMP%]:last-of-type{stroke:#ddc;stroke-dasharray:10,10}[role=segmentConnectorPathGroup].link-unknown[_ngcontent-%COMP%]   [role=segmentConnectorArrowVectorGroup][_ngcontent-%COMP%] > svg|polygon[_ngcontent-%COMP%]:last-of-type{fill:#ddc}[role=segmentConnectorPathGroup].link-unknown.moving-before[_ngcontent-%COMP%] > svg|path[_ngcontent-%COMP%]:first-of-type{stroke:rgba(255,255,255,.2)}[role=segmentConnectorPathGroup].link-unknown.moving-before[_ngcontent-%COMP%] > svg|path[_ngcontent-%COMP%]:last-of-type{stroke:#ddc}[role=segmentConnectorArrowVectorGroup][_ngcontent-%COMP%]   .segmentConnectorArrow[_ngcontent-%COMP%]{fill:#fff;stroke:#000}.smallZoomLevel[_ngcontent-%COMP%]   [role=segmentConnectorArrowVectorGroup][_ngcontent-%COMP%]   .segmentConnectorArrow[_ngcontent-%COMP%]{display:none}[role=segmentConnectorPathGroup][_ngcontent-%COMP%]   [role=segmentConnectorArrowVectorGroup][_ngcontent-%COMP%]:hover > svg|polygon[_ngcontent-%COMP%]:last-of-type{fill:gold;cursor:pointer;stroke-width:2px}@keyframes dash{from{stroke-dashoffset:1000}to{stroke-dashoffset:0}}[role=nodeSocket][_ngcontent-%COMP%]{paint-order:stroke}[role=nodeSocket].nodeSocketProducer[_ngcontent-%COMP%]{fill:#0a8;stroke:#000}[role=nodeSocket].nodeSocketProducer.nodeSocketFocusedAction[_ngcontent-%COMP%]{fill:#00c49c}[role=nodeSocket].nodeSocketConsumer[_ngcontent-%COMP%]{fill:#0a8;stroke:#000}[role=nodeSocket].nodeSocketConsumer.nodeSocketFocusedAction[_ngcontent-%COMP%]{fill:#00c49c}[role=nodeSocket].nodeSocketDisabled[_ngcontent-%COMP%]{fill:#777}[role=nodeSocket].nodeSocketEmpty[_ngcontent-%COMP%]{stroke-opacity:.4;stroke:#fff;fill-opacity:.2}[role=nodeSocket][_ngcontent-%COMP%]:not(.nodeSocketEmpty){stroke-opacity:1}[role=nodeSocket].nodeSocketFocusedAction[_ngcontent-%COMP%]{stroke-opacity:1;stroke-width:3px;stroke:#fff;animation:2s infinite glowingFadeInOut}[role=nodeSocket][_ngcontent-%COMP%]:hover{stroke-opacity:1;stroke:#222333}@keyframes glowingFadeInOut{0%{stroke-width:1px;stroke-opacity:1}100%,50%{stroke-width:10px;stroke-opacity:0}}"]],data:{}});function Do(e){return l.Qb(0,[(e()(),l.ub(0,0,null,null,3,":svg:g",[],null,null,null,null,null)),(e()(),l.ub(1,16777216,null,null,2,null,null,null,null,null,null,null)),l.tb(2,540672,null,0,g.v,[l.R],{ngTemplateOutletContext:[0,"ngTemplateOutletContext"],ngTemplateOutlet:[1,"ngTemplateOutlet"]},null),l.Jb(3,{$implicit:0})],function(e,t){var n=e(t,3,0,t.context.$implicit);e(t,2,0,n,l.Gb(t.parent.parent,12))},null)}function jo(e){return l.Qb(0,[(e()(),l.ub(0,0,null,null,3,":svg:g",[],null,null,null,null,null)),(e()(),l.ub(1,16777216,null,null,2,null,null,null,null,null,null,null)),l.tb(2,540672,null,0,g.v,[l.R],{ngTemplateOutletContext:[0,"ngTemplateOutletContext"],ngTemplateOutlet:[1,"ngTemplateOutlet"]},null),l.Jb(3,{$implicit:0})],function(e,t){var n=e(t,3,0,t.context.$implicit);e(t,2,0,n,l.Gb(t.parent.parent,13))},null)}function $o(e){return l.Qb(0,[(e()(),l.ub(0,0,null,null,6,null,null,null,null,null,null,null)),(e()(),l.ub(1,0,null,null,2,":svg:g",[["class","links"]],null,null,null,null,null)),(e()(),l.jb(16777216,null,null,1,null,Do)),l.tb(3,278528,null,0,g.p,[l.R,l.O,l.u],{ngForOf:[0,"ngForOf"],ngForTrackBy:[1,"ngForTrackBy"]},null),(e()(),l.ub(4,0,null,null,2,":svg:g",[["class","sockets"]],null,null,null,null,null)),(e()(),l.jb(16777216,null,null,1,null,jo)),l.tb(6,278528,null,0,g.p,[l.R,l.O,l.u],{ngForOf:[0,"ngForOf"],ngForTrackBy:[1,"ngForTrackBy"]},null)],function(e,t){var n=t.component;e(t,3,0,n.gridStateManager.routes.socketConnectorRelationList,n.trackConnectorBy),e(t,6,0,n.gridStateManager.nodeList,n.trackNodeBy)},null)}function Fo(e){return l.Qb(0,[(e()(),l.ub(0,0,null,null,6,":svg:g",[["role","segmentConnectorPathGroup"]],null,[[null,"click"]],function(e,t,n){var l=!0;return"click"===t&&(l=!1!==e.component.onConnectorRelationPathClickEvent(e.context.$implicit)&&l),l},null,null)),l.Lb(512,null,g.G,g.H,[l.u,l.v,l.k,l.G]),l.tb(2,278528,null,0,g.n,[g.G],{ngClass:[0,"ngClass"]},null),(e()(),l.ub(3,0,[["linkPathSVG",1]],null,0,":svg:path",[["class","stroked"]],[[1,"d",0],[1,"stroke-width",0]],null,null,null,null)),(e()(),l.ub(4,0,null,null,1,":svg:g",[["role","segmentConnectorArrowVectorGroup"]],[[1,"transform",0]],[[null,"click"]],function(e,t,n){var l=!0;return"click"===t&&(l=!1!==e.component.onConnectorRelationArrowClickEvent(e.context.$implicit)&&l),l},null,null)),(e()(),l.ub(5,0,null,null,0,":svg:polygon",[["class","segmentConnectorArrow"]],[[1,"points",0],[1,"transform",0],[1,"stroke-width",0]],[[null,"mouseenter"],[null,"mouseleave"]],function(e,t,n){var l=!0,o=e.component;return"mouseenter"===t&&(l=!1!==o.onConnectorRelationArrowMouseEnterEvent(e.context.$implicit,n)&&l),"mouseleave"===t&&(l=!1!==o.onConnectorRelationArrowMouseLeaveEvent(e.context.$implicit,n)&&l),l},null,null)),(e()(),l.ub(6,0,null,null,0,":svg:path",[],[[1,"d",0],[1,"stroke-width",0]],null,null,null,null))],function(e,t){e(t,2,0,t.component.styleConnectorRelationClasses(t.context.$implicit))},function(e,t){var n=t.component;e(t,3,0,t.context.$implicit.view.nodeSegmentConnector.geometry.path,n.filterScalarPoint(5,!1)),e(t,4,0,n.shapeLibrary.transformConnectorArrowCentroid(t.context.$implicit.view.nodeSegmentConnector,l.Gb(t,3))),e(t,5,0,n.shapeLibrary.drawConnectorArrowPoints(),n.shapeLibrary.transformConnectorArrowRotation(t.context.$implicit.view.nodeSegmentConnector,l.Gb(t,3)),n.filterScalarPoint(1,!1)),e(t,6,0,t.context.$implicit.view.nodeSegmentConnector.geometry.path,n.filterScalarPoint(3,!1))})}function zo(e){return l.Qb(0,[(e()(),l.ub(0,0,null,null,2,":svg:path",[["role","nodeSocket"]],[[1,"d",0]],[[null,"mousedown"],[null,"mouseenter"],[null,"mouseleave"]],function(e,t,n){var l=!0,o=e.component;return"mousedown"===t&&(l=!1!==o.onSocketConnectorDragStartEvent(e.context.$implicit,e.parent.parent.parent.context.$implicit,n)&&l),"mouseenter"===t&&(l=!1!==o.onSocketConnectorMouseEnterEvent(e.context.$implicit,e.parent.parent.parent.context.$implicit,n)&&l),"mouseleave"===t&&(l=!1!==o.onSocketConnectorMouseLeaveEvent(e.context.$implicit,e.parent.parent.parent.context.$implicit,n)&&l),l},null,null)),l.Lb(512,null,g.G,g.H,[l.u,l.v,l.k,l.G]),l.tb(2,278528,null,0,g.n,[g.G],{ngClass:[0,"ngClass"]},null)],function(e,t){e(t,2,0,t.component.styleNodeSocketClasses(t.context.$implicit,t.parent.parent.parent.context.$implicit))},function(e,t){e(t,0,0,t.component.drawNodeSocketPath(t.context.$implicit,t.parent.parent.parent.context.$implicit,t.context.index,t.context.count))})}function Ao(e){return l.Qb(0,[(e()(),l.ub(0,0,null,null,3,":svg:g",[],null,null,null,null,null)),(e()(),l.jb(16777216,null,null,2,null,zo)),l.tb(2,278528,null,0,g.p,[l.R,l.O,l.u],{ngForOf:[0,"ngForOf"],ngForTrackBy:[1,"ngForTrackBy"]},null),l.Kb(3,1)],function(e,t){var n=t.component,o=l.Pb(t,2,0,e(t,3,0,l.Gb(t.parent.parent.parent,0),t.context.$implicit));e(t,2,0,o,n.trackSocketBy)},null)}function No(e){return l.Qb(0,[(e()(),l.ub(0,0,null,null,2,null,null,null,null,null,null,null)),(e()(),l.jb(16777216,null,null,1,null,Ao)),l.tb(2,278528,null,0,g.p,[l.R,l.O,l.u],{ngForOf:[0,"ngForOf"]},null),(e()(),l.jb(0,null,null,0))],function(e,t){e(t,2,0,t.parent.context.$implicit.link.managedCollections)},null)}function Vo(e){return l.Qb(0,[(e()(),l.jb(16777216,null,null,1,null,No)),l.tb(1,16384,null,0,g.q,[l.R,l.O],{ngIf:[0,"ngIf"]},null),(e()(),l.jb(0,null,null,0))],function(e,t){e(t,1,0,t.context.$implicit.link)},null)}function Bo(e){return l.Qb(0,[(e()(),l.ub(0,16777216,null,null,1,"nodeflow-studio-menu-overlay",[],null,null,null,Oo,Co)),l.tb(1,4308992,null,0,fo,[l.k,l.R,l.G,l.B,l.h],null,null),(e()(),l.jb(0,null,null,0))],function(e,t){e(t,1,0)},null)}function Qo(e){return l.Qb(0,[(e()(),l.ub(0,16777216,null,null,1,"nodeflow-studio-menu-overlay",[],null,null,null,Oo,Co)),l.tb(1,4308992,null,0,fo,[l.k,l.R,l.G,l.B,l.h],null,null),(e()(),l.jb(0,null,null,0))],function(e,t){e(t,1,0)},null)}function Ho(e){return l.Qb(0,[(e()(),l.jb(0,null,null,0))],null,null)}function Wo(e){return l.Qb(0,[(e()(),l.ub(0,0,null,null,1,"nodeflow-studio-tooltip-overlay",[],null,null,null,To,ko)),l.tb(1,4374528,null,0,So,[wo,l.k,l.G,N,ie],{node:[0,"node"],socket:[1,"socket"],triggerElement:[2,"triggerElement"],overlayCommand:[3,"overlayCommand"]},null)],function(e,t){var n=t.component;e(t,1,0,n.visibleTooltipContext.node,n.visibleTooltipContext.socket,n.visibleTooltipContext.triggerElement,n.visibleNotificationContext.overlayCommand)},null)}function qo(e){return l.Qb(0,[(e()(),l.ub(0,0,null,null,3,"nodeflow-studio-notification-overlay",[],null,null,null,Eo,_o)),l.tb(1,4374528,null,0,xo,[l.k,l.G],{messages:[0,"messages"],overlayCommand:[1,"overlayCommand"]},null),(e()(),l.ub(2,0,null,0,1,"div",[["role","title"]],null,null,null,null,null)),(e()(),l.Ob(-1,null,["Card Parse Exceptions"]))],function(e,t){var n=t.component;e(t,1,0,n.visibleNotificationContext.messages,n.visibleNotificationContext.overlayCommand)},null)}function Uo(e){return l.Qb(2,[l.Ib(0,Lo,[]),l.Mb(671088640,1,{gridItemMenuOverlayTemplate:0}),l.Mb(671088640,2,{segmentConnectorMenuOverlayTemplate:0}),l.Mb(671088640,3,{socketConnectorTooltipTemplate:0}),l.Mb(671088640,4,{canvasCardParseErrorOverlayTemplate:0}),l.Mb(671088640,5,{svgCanvasHandle:0}),l.Mb(671088640,6,{svgCanvasTransformerGroup:0}),(e()(),l.ub(7,0,[[5,0],["svgCanvasHandle",1]],null,4,":svg:svg",[["role","canvas"],["xmlns","http://www.w3.org/2000/svg"]],null,null,null,null,null)),(e()(),l.ub(8,0,[[6,0],["svgCanvasTransformerGroup",1]],null,3,":svg:g",[["role","canvasTransformerGroup"]],[[1,"transform",0],[2,"smallZoomLevel",null]],null,null,null,null)),(e()(),l.jb(16777216,null,null,2,null,$o)),l.tb(10,16384,null,0,g.q,[l.R,l.O],{ngIf:[0,"ngIf"]},null),l.Ib(131072,g.b,[l.h]),(e()(),l.jb(0,[["linkConnectorTemplate",2]],null,0,null,Fo)),(e()(),l.jb(0,[["nodeTemplate",2]],null,0,null,Vo)),(e()(),l.jb(0,[[1,2],["gridItemMenuOverlayTemplate",2]],null,0,null,Bo)),(e()(),l.jb(0,[[2,2],["segmentConnectorMenuOverlayTemplate",2]],null,0,null,Qo)),(e()(),l.jb(0,[["socketConnectorMenuOverlayTemplate",2]],null,0,null,Ho)),(e()(),l.jb(0,[[3,2],["socketConnectorTooltipTemplate",2]],null,0,null,Wo)),(e()(),l.jb(0,[[4,2],["canvasCardParseErrorOverlayTemplate",2]],null,0,null,qo))],function(e,t){var n=t.component;e(t,10,0,l.Pb(t,10,0,l.Gb(t,11).transform(n.pageComponent.gridLayoutItemsInitialize$)))},function(e,t){var n=t.component;e(t,8,0,n.deriveViewportOffsetTransform(),n.zoomLevel<=.5)})}var Xo=n("fhqt"),Yo=l.sb({encapsulation:0,styles:[[".standard-light-theme[_nghost-%COMP%], .standard-light-theme   [_nghost-%COMP%]{background-color:#dde}.standard-dark-theme[_nghost-%COMP%], .standard-dark-theme   [_nghost-%COMP%]{background-color:#34444b}[_nghost-%COMP%]{display:flex;flex-direction:column;flex:0 1;flex-basis:100%;width:100%;height:100%}FORM[_ngcontent-%COMP%]{padding:0}FORM[_ngcontent-%COMP%] > [role=actionsContainer][_ngcontent-%COMP%]{display:flex;flex:1;flex-direction:row}FORM[_ngcontent-%COMP%] > [role=actionsContainer][_ngcontent-%COMP%] >   *{padding:.5rem}FORM[_ngcontent-%COMP%] > [role=actionsContainer][_ngcontent-%COMP%] >   :hover{background-color:rgba(255,255,255,.2);box-shadow:inset 0 -5px 19px 0 rgba(0,0,0,.15)}FORM[_ngcontent-%COMP%] > [role=actionsContainer][_ngcontent-%COMP%]   [role=zoomRange][_ngcontent-%COMP%]{width:2rem;height:.5rem;border-radius:.4rem;border:1px solid rgba(0,0,0,.2)}FORM[_ngcontent-%COMP%] > [role=actionsContainer][_ngcontent-%COMP%]   [role=zoomRange][type=range][_ngcontent-%COMP%]{-webkit-appearance:none;background-color:rgba(0,0,0,.2)}FORM[_ngcontent-%COMP%] > [role=actionsContainer][_ngcontent-%COMP%]   [role=zoomRange][_ngcontent-%COMP%] + span[_ngcontent-%COMP%]{width:3ch;padding-left:1ch}FORM[_ngcontent-%COMP%] > [role=actionsContainer][_ngcontent-%COMP%]   SELECT.socketSelection[_ngcontent-%COMP%]{min-width:20ch}FORM[_ngcontent-%COMP%] > [role=actionsContainer].compactMode[_ngcontent-%COMP%]{height:1.8rem;overflow:hidden}BUTTON.btn[_ngcontent-%COMP%]{height:auto;line-height:1;background-color:#ccc;color:#333}SECTION[role=demoLayoutItemsCoordinateContainer][_ngcontent-%COMP%]{height:4rem;overflow-y:auto}SECTION[role=demoLayoutItemsCoordinateContainer][_ngcontent-%COMP%]   SECTION[role=demoLayoutAccountingEntry][_ngcontent-%COMP%]{background-color:#bfbfbf;border:1px solid #a6a6a6}SECTION[role=demoLayoutItemsCoordinateContainer][_ngcontent-%COMP%]   SECTION[role=demoLayoutAccountingEntry][_ngcontent-%COMP%]   TABLE[role=demoLayoutItemsCoordinateTable][_ngcontent-%COMP%]{background-color:#f2f2f2;padding:0 .5rem;border-collapse:separate;width:100%}SECTION[role=demoLayoutItemsCoordinateContainer][_ngcontent-%COMP%]   SECTION[role=demoLayoutAccountingEntry][_ngcontent-%COMP%]   TABLE[role=demoLayoutItemsCoordinateTable][_ngcontent-%COMP%]   TD[_ngcontent-%COMP%]{padding-right:.5rem}SECTION[role=demoLayoutItemsCoordinateContainer][_ngcontent-%COMP%]   SECTION[role=demoLayoutAccountingEntry][_ngcontent-%COMP%]   TABLE[role=demoLayoutItemsCoordinateTable][_ngcontent-%COMP%]   TD.highlight[_ngcontent-%COMP%]{background-color:#d9d9d9;font-weight:700}.standard-light-theme[_nghost-%COMP%]   NGX-CARD-DECK[_ngcontent-%COMP%]   [dashboard-container-header][_ngcontent-%COMP%], .standard-light-theme   [_nghost-%COMP%]   NGX-CARD-DECK[_ngcontent-%COMP%]   [dashboard-container-header][_ngcontent-%COMP%]{background-color:rgba(255,255,255,.4)}.standard-dark-theme[_nghost-%COMP%]   NGX-CARD-DECK[_ngcontent-%COMP%]   [dashboard-container-header][_ngcontent-%COMP%], .standard-dark-theme   [_nghost-%COMP%]   NGX-CARD-DECK[_ngcontent-%COMP%]   [dashboard-container-header][_ngcontent-%COMP%]{background-color:rgba(25,55,55,.4)}SECTION[role=dashboard-outlet][_ngcontent-%COMP%]{display:flex;flex-direction:column;flex:0 1;flex-basis:100%;width:100%;height:100%;overflow:auto;position:relative}SECTION[role=dashboard-outlet][_ngcontent-%COMP%]   NGX-CARD-DECK[_ngcontent-%COMP%]{will-change:background-color}SECTION[role=dashboard-outlet][_ngcontent-%COMP%]   NGX-CARD-DECK.dragging[_ngcontent-%COMP%]{cursor:grabbing;background-color:rgba(255,255,255,.4);transform:translate(0,0)}SECTION[role=dashboard-outlet][_ngcontent-%COMP%]   NGX-CARD-DECK[_ngcontent-%COMP%]   [dashboard-container-header][_ngcontent-%COMP%]{text-align:center}SECTION[role=dashboard-outlet][_ngcontent-%COMP%]   NGX-CARD-DECK[_ngcontent-%COMP%]   [dashboard-container-footer][_ngcontent-%COMP%]{font-size:10pt;color:#038}SECTION[role=dashboard-outlet][_ngcontent-%COMP%]   NGX-CARD-DECK[_ngcontent-%COMP%]   [dashboard-container-grid-widget-overlay][_ngcontent-%COMP%]   [role=overlayLayoutContainer][_ngcontent-%COMP%]{position:fixed;background-color:rgba(255,255,255,.9)}SECTION[role=dashboard-outlet][_ngcontent-%COMP%]   NGX-CARD-DECK[_ngcontent-%COMP%]   [dashboard-container-grid-widget-overlay][_ngcontent-%COMP%]   [role=overlayLayoutContainer][_ngcontent-%COMP%]   [role=overlayTitle][_ngcontent-%COMP%]{background-color:rgba(4,229,196,.2);border:1px solid rgba(2,79,68,.3);padding:.5rem}SECTION[role=dashboard-outlet][_ngcontent-%COMP%]   NGX-CARD-DECK[_ngcontent-%COMP%]   [dashboard-container-grid-widget-overlay][_ngcontent-%COMP%]   [role=overlayLayoutContainer][_ngcontent-%COMP%] > i.overlay-icon[_ngcontent-%COMP%]{color:rgba(2,79,68,.8);padding:.8rem;display:inline-block;width:100px;height:100px;border:1px solid rgba(2,79,68,.3);background-image:url(//cdnjs.cloudflare.com/ajax/libs/foundicons/3.0.0/svgs/fi-map.svg);background-size:cover}SECTION[role=dashboard-outlet][_ngcontent-%COMP%]   NGX-CARD-DECK[_ngcontent-%COMP%]   [dashboard-container-grid-widget-overlay][_ngcontent-%COMP%]   [role=overlayLayoutContainer].minimized[_ngcontent-%COMP%]   [role=overlayTitle][_ngcontent-%COMP%]{display:none}SECTION[role=dashboard-outlet][_ngcontent-%COMP%]   NGX-CARD-DECK[_ngcontent-%COMP%]   [dashboard-container-grid-widget-overlay][_ngcontent-%COMP%]   [role=overlayLayoutContainer].minimized[_ngcontent-%COMP%] > i.overlay-icon[_ngcontent-%COMP%]{width:50px;height:50px}SECTION[role=dashboard-outlet][_ngcontent-%COMP%]   NGX-CARD-DECK[_ngcontent-%COMP%]   [dashboard-container-grid-widget-overlay][_ngcontent-%COMP%]   [role=overlayLayoutContainer].hidden[_ngcontent-%COMP%]{border:12px solid red;display:none}[class^=icon][_ngcontent-%COMP%]{background-repeat:no-repeat;display:inline-block}.standard-dark-theme[_nghost-%COMP%]     I.headerIcon, .standard-dark-theme   [_nghost-%COMP%]     I.headerIcon{filter:invert(1)}  I.headerIcon{background-size:cover;flex-shrink:0}  I.headerIcon.datastore{background-image:url(//cdnjs.cloudflare.com/ajax/libs/foundicons/3.0.0/svgs/fi-skull.svg)}  I.headerIcon.book-bookmark{background-image:url(//cdnjs.cloudflare.com/ajax/libs/foundicons/3.0.0/svgs/fi-book-bookmark.svg)}  I.headerIcon.lightbulb{background-image:url(//cdnjs.cloudflare.com/ajax/libs/foundicons/3.0.0/svgs/fi-lightbulb.svg)}  I.headerIcon.social-treehouse{background-image:url(//cdnjs.cloudflare.com/ajax/libs/foundicons/3.0.0/svgs/fi-social-treehouse.svg)}  I.headerIcon.loading{background-image:url(//cdnjs.cloudflare.com/ajax/libs/foundicons/3.0.0/svgs/fi-sheriff-badge.svg)}  I.headerIcon.mountain{background-image:url(//cdnjs.cloudflare.com/ajax/libs/foundicons/3.0.0/svgs/fi-mountains.svg)}  I.headerIcon.map{background-image:url(//cdnjs.cloudflare.com/ajax/libs/foundicons/3.0.0/svgs/fi-map.svg)}"],[""]],data:{}});function Ko(e){return l.Qb(0,[(e()(),l.ub(0,0,null,null,1,null,null,null,null,null,null,null)),(e()(),l.Ob(-1,null,["Compact"]))],null,null)}function Jo(e){return l.Qb(0,[(e()(),l.Ob(-1,null,["Expand"]))],null,null)}function Zo(e){return l.Qb(0,[(e()(),l.ub(0,0,null,null,1,"button",[["class","btn btn-primary-outline"]],null,[[null,"click"]],function(e,t,n){var l=!0,o=e.component;return"click"===t&&(l=!1!==o.demoTransaction.onShowVisibleCardsInfo(o.layoutItemList,n)&&l),l},null,null)),(e()(),l.Ob(1,null,["Items (",") "]))],null,function(e,t){e(t,1,0,t.component.layoutItemList.length)})}function ei(e){return l.Qb(0,[(e()(),l.ub(0,0,null,null,2,null,null,null,null,null,null,null)),(e()(),l.ub(1,0,null,null,1,"nodeflow-toolbar-tabs-container",[],null,null,null,to,eo)),l.tb(2,49152,null,0,Zl,[],{nodeflow:[0,"nodeflow"],toolbarForm:[1,"toolbarForm"]},null)],function(e,t){var n=t.component;e(t,2,0,n.canvasWidgetViewContainerRef,n.debugForm)},null)}function ti(e){return l.Qb(0,[(e()(),l.ub(0,0,null,null,1,"td",[["class","highlight"]],[[1,"rowspan",0]],null,null,null,null)),(e()(),l.Ob(1,null,[" "," "]))],null,function(e,t){e(t,0,0,t.parent.parent.parent.context.$implicit.length),e(t,1,0,t.parent.context.$implicit.tracking)})}function ni(e){return l.Qb(0,[(e()(),l.ub(0,0,null,null,2,"td",[["class","highlight"]],[[1,"rowspan",0]],null,null,null,null)),(e()(),l.Ob(1,null,[" "," "])),l.Kb(2,2)],null,function(e,t){e(t,0,0,t.parent.parent.parent.context.$implicit.length);var n=l.Pb(t,1,0,e(t,2,0,l.Gb(t.parent.parent.parent.parent.parent.parent,1),t.parent.context.$implicit.receivedDate,"HH:mm:ss"));e(t,1,0,n)})}function li(e){return l.Qb(0,[(e()(),l.ub(0,0,null,null,8,"tr",[],null,null,null,null,null)),(e()(),l.jb(16777216,null,null,1,null,ti)),l.tb(2,16384,null,0,g.q,[l.R,l.O],{ngIf:[0,"ngIf"]},null),(e()(),l.jb(16777216,null,null,1,null,ni)),l.tb(4,16384,null,0,g.q,[l.R,l.O],{ngIf:[0,"ngIf"]},null),(e()(),l.ub(5,0,null,null,1,"td",[],null,null,null,null,null)),(e()(),l.Ob(6,null,[" "," "])),(e()(),l.ub(7,0,null,null,1,"td",[],null,null,null,null,null)),(e()(),l.Ob(8,null,[" ",","," "]))],function(e,t){e(t,2,0,0==t.context.index),e(t,4,0,0==t.context.index)},function(e,t){e(t,6,0,t.context.$implicit.layoutItem.resourceId),e(t,8,0,t.context.$implicit.layoutItem.layout.x,t.context.$implicit.layoutItem.layout.y)})}function oi(e){return l.Qb(0,[(e()(),l.ub(0,0,null,null,2,"table",[["role","demoLayoutItemsCoordinateTable"]],null,null,null,null,null)),(e()(),l.jb(16777216,null,null,1,null,li)),l.tb(2,278528,null,0,g.p,[l.R,l.O,l.u],{ngForOf:[0,"ngForOf"]},null)],function(e,t){e(t,2,0,t.parent.context.$implicit)},null)}function ii(e){return l.Qb(0,[(e()(),l.ub(0,0,null,null,2,"section",[["role","demoLayoutAccountingEntry"]],null,null,null,null,null)),(e()(),l.jb(16777216,null,null,1,null,oi)),l.tb(2,16384,null,0,g.q,[l.R,l.O],{ngIf:[0,"ngIf"]},null)],function(e,t){e(t,2,0,t.context.$implicit)},null)}function ri(e){return l.Qb(0,[(e()(),l.ub(0,0,null,null,2,"section",[["role","demoLayoutItemsCoordinateTable"]],null,null,null,null,null)),(e()(),l.jb(16777216,null,null,1,null,ii)),l.tb(2,278528,null,0,g.p,[l.R,l.O,l.u],{ngForOf:[0,"ngForOf"]},null)],function(e,t){e(t,2,0,t.component.accountingJournalLayoutItemsChangeList)},null)}function si(e){return l.Qb(0,[(e()(),l.ub(0,0,null,null,7,"section",[["style","margin: 0 auto"]],null,null,null,null,null)),(e()(),l.ub(1,0,null,null,3,"div",[],null,null,null,null,null)),(e()(),l.ub(2,0,null,null,2,"div",[],null,null,null,null,null)),(e()(),l.Ob(-1,null,[" Layout Items Coordinate Stream "])),(e()(),l.ub(4,0,null,null,0,"button",[["class","btn btn-link"]],[[2,"btn-primary",null]],[[null,"click"]],function(e,t,n){var l=!0;return"click"===t&&(l=!1!==e.component.onReset()&&l),l},null,null)),(e()(),l.ub(5,0,null,null,2,"section",[["role","demoLayoutItemsCoordinateContainer"]],null,null,null,null,null)),(e()(),l.jb(16777216,null,null,1,null,ri)),l.tb(7,16384,null,0,g.q,[l.R,l.O],{ngIf:[0,"ngIf"]},null)],function(e,t){e(t,7,0,t.component.accountingJournalLayoutItemsChangeList.length)},function(e,t){e(t,4,0,t.component.isDebugMode)})}function ai(e){return l.Qb(0,[(e()(),l.jb(0,null,null,0))],null,null)}function ui(e){return l.Qb(0,[(e()(),l.jb(16777216,null,null,1,null,ai)),l.tb(1,540672,null,0,g.v,[l.R],{ngTemplateOutlet:[0,"ngTemplateOutlet"]},null),(e()(),l.jb(0,null,null,0))],function(e,t){e(t,1,0,l.Gb(t.parent,52))},null)}function ci(e){return l.Qb(0,[(e()(),l.jb(0,null,null,0))],null,null)}function di(e){return l.Qb(0,[(e()(),l.jb(16777216,null,null,1,null,ci)),l.tb(1,540672,null,0,g.v,[l.R],{ngTemplateOutlet:[0,"ngTemplateOutlet"]},null),(e()(),l.jb(0,null,null,0))],function(e,t){e(t,1,0,l.Gb(t.parent,53))},null)}function hi(e){return l.Qb(0,[(e()(),l.jb(0,null,null,0))],null,null)}function gi(e){return l.Qb(0,[(e()(),l.jb(16777216,null,null,1,null,hi)),l.tb(1,540672,null,0,g.v,[l.R],{ngTemplateOutlet:[0,"ngTemplateOutlet"]},null),(e()(),l.jb(0,null,null,0))],function(e,t){e(t,1,0,l.Gb(t.parent,51))},null)}function mi(e){return l.Qb(0,[(e()(),l.jb(0,null,null,0))],null,null)}function pi(e){return l.Qb(0,[(e()(),l.jb(0,null,null,0))],null,null)}function bi(e){return l.Qb(0,[(e()(),l.jb(0,null,null,0))],null,null)}function fi(e){return l.Qb(0,[(e()(),l.ub(0,16777216,[[3,3]],null,22,"ngx-card-deck",[],[[2,"dragging",null],[1,"dashboardId",0]],[[null,"layoutItemInitialize"],[null,"layoutItemStartMovementInteraction"],[null,"layoutItemEndMovementInteraction"],[null,"layoutItemDestroy"],[null,"producedAssemblyStrategy"],[null,"layoutItemsChangeList"]],function(e,t,n){var l=!0,o=e.component;return"layoutItemInitialize"===t&&(l=!1!==o.onLayoutItemInitialize(n)&&l),"layoutItemStartMovementInteraction"===t&&(l=!1!==o.onLayoutItemStartMovementInteraction(n)&&l),"layoutItemEndMovementInteraction"===t&&(l=!1!==o.onLayoutItemEndMovementInteraction(n)&&l),"layoutItemDestroy"===t&&(l=!1!==o.onLayoutItemDestroy(n)&&l),"producedAssemblyStrategy"===t&&(l=!1!==o.onGridContainerCreated(n)&&l),"layoutItemsChangeList"===t&&(l=!1!==o.onLayoutItemsChange(n)&&l),l},bo,no)),l.tb(1,770048,[[2,4],["dashboardInstance",4]],0,dt.a,[ct.a,$e.a,l.s],{configurationMetadata:[0,"configurationMetadata"],zoomFactor:[1,"zoomFactor"]},{layoutItemsChangeList:"layoutItemsChangeList",layoutItemInitialize:"layoutItemInitialize",layoutItemStartMovementInteraction:"layoutItemStartMovementInteraction",layoutItemEndMovementInteraction:"layoutItemEndMovementInteraction",layoutItemDestroy:"layoutItemDestroy",producedAssemblyStrategy:"producedAssemblyStrategy"}),(e()(),l.ub(2,0,null,0,1,"div",[["dashboard-container-header",""]],null,null,null,null,null)),(e()(),l.Ob(3,null,['Project: "','"'])),(e()(),l.ub(4,16777216,[[4,3]],1,1,"nodeflow-studio-compositor",[["dashboard-container-grid-widget-underlay",""]],[[4,"width","px"],[4,"height","px"]],null,null,Uo,Go)),l.tb(5,4440064,[["canvasWidget",4]],0,Re,[be,B,ie,_e,j,Me,we,N,xe,r.a,r.l,l.k,l.R,l.G,l.B,l.h],{zoomLevel:[0,"zoomLevel"]},null),(e()(),l.ub(6,0,null,2,11,"div",[["dashboard-container-grid-widget-overlay",""]],null,null,null,null,null)),(e()(),l.ub(7,0,null,null,6,"div",[["role","overlayMenuContainer"]],null,null,null,null,null)),(e()(),l.jb(16777216,null,null,1,null,mi)),l.tb(9,540672,null,0,g.v,[l.R],{ngTemplateOutlet:[0,"ngTemplateOutlet"]},null),(e()(),l.jb(16777216,null,null,1,null,pi)),l.tb(11,540672,null,0,g.v,[l.R],{ngTemplateOutlet:[0,"ngTemplateOutlet"]},null),(e()(),l.jb(16777216,null,null,1,null,bi)),l.tb(13,540672,null,0,g.v,[l.R],{ngTemplateOutlet:[0,"ngTemplateOutlet"]},null),(e()(),l.ub(14,0,[["pinnedOverlayLayout",1]],null,3,"div",[["role","overlayLayoutContainer"]],[[4,"left","px"],[4,"top","px"],[2,"minimized",null],[2,"old-hidden",null],[2,"hidden",null]],null,null,null,null)),(e()(),l.ub(15,0,null,null,1,"div",[["role","overlayTitle"]],null,null,null,null,null)),(e()(),l.Ob(-1,null,["Project Map"])),(e()(),l.ub(17,0,[["overlayShape",1]],null,0,"i",[["class","overlay-icon"]],null,null,null,null,null)),(e()(),l.ub(18,0,null,3,4,"div",[["dashboard-container-footer",""]],null,null,null,null,null)),(e()(),l.Ob(-1,null,["Status: Nodes ("])),(e()(),l.ub(20,0,null,null,1,"span",[],[[8,"textContent",0]],null,null,null,null)),l.Ib(131072,g.b,[l.h]),(e()(),l.Ob(-1,null,[") "])),(e()(),l.jb(0,null,null,0))],function(e,t){var n=t.component;e(t,1,0,n.componentConfiguration,n.debugForm.get("zoom").value),e(t,5,0,n.debugForm.get("zoom").value),e(t,9,0,l.Gb(t,5).visibleOverlayTemplate),e(t,11,0,l.Gb(t,5).visibleTooltipTemplate),e(t,13,0,l.Gb(t,5).visibleNotificationTemplate)},function(e,t){var n,o=t.component;e(t,0,0,o.isDragging,l.Gb(t,1).dashboardId),e(t,3,0,o.componentConfiguration.id),e(t,4,0,l.Gb(t,5).calculatedLayoutWidth,l.Gb(t,5).calculatedLayoutHeight),e(t,14,0,o.gridWidgetBoundingClientRect.right-l.Gb(t,14).offsetWidth-20,o.gridWidgetBoundingClientRect.bottom-l.Gb(t,14).offsetHeight-20,o.gridWidgetBoundingClientRect.width<150||o.gridWidgetBoundingClientRect.height<150,(null==o.gridWidgetElement?null:o.gridWidgetElement.clientHeight)<50,!0),e(t,20,0,null==(n=l.Pb(t,20,0,l.Gb(t,21).transform(o.gridLayoutItemsInitialize$)))?null:n.length)})}function Ci(e){return l.Qb(0,[(e()(),l.ub(0,16777216,[[3,3]],null,3,"ngx-card-deck",[],[[2,"dragging",null],[1,"dashboardId",0]],[[null,"layoutItemInitialize"],[null,"layoutItemStartMovementInteraction"],[null,"layoutItemEndMovementInteraction"],[null,"layoutItemDestroy"],[null,"producedAssemblyStrategy"],[null,"layoutItemsChangeList"]],function(e,t,n){var l=!0,o=e.component;return"layoutItemInitialize"===t&&(l=!1!==o.onLayoutItemInitialize(n)&&l),"layoutItemStartMovementInteraction"===t&&(l=!1!==o.onLayoutItemStartMovementInteraction(n)&&l),"layoutItemEndMovementInteraction"===t&&(l=!1!==o.onLayoutItemEndMovementInteraction(n)&&l),"layoutItemDestroy"===t&&(l=!1!==o.onLayoutItemDestroy(n)&&l),"producedAssemblyStrategy"===t&&(l=!1!==o.onGridContainerCreated(n)&&l),"layoutItemsChangeList"===t&&(l=!1!==o.onLayoutItemsChange(n)&&l),l},bo,no)),l.tb(1,770048,[[2,4],["dashboardInstance",4]],0,dt.a,[ct.a,$e.a,l.s],{configurationMetadata:[0,"configurationMetadata"],zoomFactor:[1,"zoomFactor"]},{layoutItemsChangeList:"layoutItemsChangeList",layoutItemInitialize:"layoutItemInitialize",layoutItemStartMovementInteraction:"layoutItemStartMovementInteraction",layoutItemEndMovementInteraction:"layoutItemEndMovementInteraction",layoutItemDestroy:"layoutItemDestroy",producedAssemblyStrategy:"producedAssemblyStrategy"}),(e()(),l.ub(2,0,null,0,1,"div",[["dashboard-container-header",""]],null,null,null,null,null)),(e()(),l.Ob(3,null,['Card Project: "','"'])),(e()(),l.jb(0,null,null,0))],function(e,t){var n=t.component;e(t,1,0,n.componentConfiguration,n.debugForm.get("zoom").value)},function(e,t){var n=t.component;e(t,0,0,n.isDragging,l.Gb(t,1).dashboardId),e(t,3,0,n.componentConfiguration.id)})}function yi(e){return l.Qb(0,[(e()(),l.ub(0,16777216,[[3,3]],null,3,"ngx-card-deck",[],[[2,"dragging",null],[1,"dashboardId",0]],[[null,"layoutItemInitialize"],[null,"layoutItemStartMovementInteraction"],[null,"layoutItemEndMovementInteraction"],[null,"layoutItemDestroy"],[null,"producedAssemblyStrategy"],[null,"layoutItemsChangeList"]],function(e,t,n){var l=!0,o=e.component;return"layoutItemInitialize"===t&&(l=!1!==o.onLayoutItemInitialize(n)&&l),"layoutItemStartMovementInteraction"===t&&(l=!1!==o.onLayoutItemStartMovementInteraction(n)&&l),"layoutItemEndMovementInteraction"===t&&(l=!1!==o.onLayoutItemEndMovementInteraction(n)&&l),"layoutItemDestroy"===t&&(l=!1!==o.onLayoutItemDestroy(n)&&l),"producedAssemblyStrategy"===t&&(l=!1!==o.onGridContainerCreated(n)&&l),"layoutItemsChangeList"===t&&(l=!1!==o.onLayoutItemsChange(n)&&l),l},bo,no)),l.tb(1,770048,[[2,4],["dashboardInstance",4]],0,dt.a,[ct.a,$e.a,l.s],{configurationMetadata:[0,"configurationMetadata"],zoomFactor:[1,"zoomFactor"]},{layoutItemsChangeList:"layoutItemsChangeList",layoutItemInitialize:"layoutItemInitialize",layoutItemStartMovementInteraction:"layoutItemStartMovementInteraction",layoutItemEndMovementInteraction:"layoutItemEndMovementInteraction",layoutItemDestroy:"layoutItemDestroy",producedAssemblyStrategy:"producedAssemblyStrategy"}),(e()(),l.ub(2,0,null,0,1,"div",[["dashboard-container-header",""]],null,null,null,null,null)),(e()(),l.Ob(3,null,['Preprocessed Project: "','" ('," cards)"])),(e()(),l.jb(0,null,null,0))],function(e,t){var n=t.component;e(t,1,0,n.componentConfiguration,n.debugForm.get("zoom").value)},function(e,t){var n=t.component;e(t,0,0,n.isDragging,l.Gb(t,1).dashboardId),e(t,3,0,n.componentConfiguration.id,n.componentConfiguration.resources.cardsList.length)})}function vi(e){return l.Qb(2,[l.Ib(0,g.f,[l.w]),l.Ib(0,g.e,[l.w]),l.Mb(671088640,1,{svgContainerHandle:0}),l.Mb(671088640,2,{dashboardInstance:0}),l.Mb(671088640,3,{dashboardInstanceViewContainerRef:0}),l.Mb(671088640,4,{canvasWidgetViewContainerRef:0}),(e()(),l.ub(6,0,null,null,33,"form",[["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"submit"],[null,"reset"]],function(e,t,n){var o=!0;return"submit"===t&&(o=!1!==l.Gb(e,8).onSubmit(n)&&o),"reset"===t&&(o=!1!==l.Gb(e,8).onReset()&&o),o},null,null)),l.tb(7,16384,null,0,h.F,[],null,null),l.tb(8,540672,null,0,h.j,[[8,null],[8,null]],{form:[0,"form"]},null),l.Lb(2048,null,h.c,null,[h.j]),l.tb(10,16384,null,0,h.p,[[4,h.c]],null,null),(e()(),l.ub(11,0,null,null,28,"div",[["role","actionsContainer"]],[[2,"compactMode",null]],null,null,null,null)),(e()(),l.ub(12,0,null,null,10,"section",[],null,null,null,null,null)),(e()(),l.Ob(-1,null,[" Zoom: "])),(e()(),l.ub(14,0,null,null,6,"input",[["formControlName","zoom"],["role","zoomRange"],["step","0.1"],["type","range"]],[[1,"min",0],[1,"max",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"],[null,"change"]],function(e,t,n){var o=!0;return"input"===t&&(o=!1!==l.Gb(e,15)._handleInput(n.target.value)&&o),"blur"===t&&(o=!1!==l.Gb(e,15).onTouched()&&o),"compositionstart"===t&&(o=!1!==l.Gb(e,15)._compositionStart()&&o),"compositionend"===t&&(o=!1!==l.Gb(e,15)._compositionEnd(n.target.value)&&o),"change"===t&&(o=!1!==l.Gb(e,16).onChange(n.target.value)&&o),"input"===t&&(o=!1!==l.Gb(e,16).onChange(n.target.value)&&o),"blur"===t&&(o=!1!==l.Gb(e,16).onTouched()&&o),o},null,null)),l.tb(15,16384,null,0,h.d,[l.G,l.k,[2,h.a]],null,null),l.tb(16,16384,null,0,h.w,[l.G,l.k],null,null),l.Lb(1024,null,h.m,function(e,t){return[e,t]},[h.d,h.w]),l.tb(18,671744,null,0,h.h,[[3,h.c],[8,null],[8,null],[6,h.m],[2,h.D]],{name:[0,"name"]},null),l.Lb(2048,null,h.n,null,[h.h]),l.tb(20,16384,null,0,h.o,[[4,h.n]],null,null),(e()(),l.ub(21,0,null,null,1,"span",[],[[8,"textContent",0]],null,null,null,null)),l.Kb(22,2),(e()(),l.ub(23,0,null,null,14,"section",[],null,null,null,null,null)),(e()(),l.ub(24,0,null,null,3,"button",[["class","btn btn-primary-outline"],["title","Toggle compact mode for toolbar"]],[[2,"btn-primary",null]],[[null,"click"]],function(e,t,n){var l=!0,o=e.component;return"click"===t&&(l=0!=(o.isActionToolbarMinimized=!o.isActionToolbarMinimized)&&l),l},null,null)),(e()(),l.jb(16777216,null,null,1,null,Ko)),l.tb(26,16384,null,0,g.q,[l.R,l.O],{ngIf:[0,"ngIf"],ngIfElse:[1,"ngIfElse"]},null),(e()(),l.jb(0,[["actionToolbarExpanded",2]],null,0,null,Jo)),(e()(),l.ub(28,0,null,null,0,"br",[],null,null,null,null,null)),(e()(),l.ub(29,0,null,null,1,"button",[["class","btn btn-primary-outline"],["title","Show list of layout changes over time"]],[[2,"btn-primary",null]],[[null,"click"]],function(e,t,n){var l=!0,o=e.component;return"click"===t&&(l=0!=(o.isDebugMode=!o.isDebugMode)&&l),l},null,null)),(e()(),l.Ob(-1,null,[" Debug "])),(e()(),l.ub(31,0,null,null,0,"br",[],null,null,null,null,null)),(e()(),l.ub(32,0,null,null,2,"button",[["class","btn btn-primary-outline"]],null,[[null,"click"]],function(e,t,n){var l=!0;return"click"===t&&(l=!1!==e.component.onToggleTheme(n)&&l),l},null,null)),(e()(),l.Ob(33,null,["Theme ",""])),l.Ib(131072,g.b,[l.h]),(e()(),l.ub(35,0,null,null,0,"br",[],null,null,null,null,null)),(e()(),l.jb(16777216,null,null,1,null,Zo)),l.tb(37,16384,null,0,g.q,[l.R,l.O],{ngIf:[0,"ngIf"]},null),(e()(),l.jb(16777216,null,null,1,null,ei)),l.tb(39,16384,null,0,g.q,[l.R,l.O],{ngIf:[0,"ngIf"]},null),(e()(),l.jb(16777216,null,null,1,null,si)),l.tb(41,16384,null,0,g.q,[l.R,l.O],{ngIf:[0,"ngIf"]},null),(e()(),l.ub(42,0,null,null,8,"section",[["role","dashboard-outlet"]],null,null,null,null,null)),(e()(),l.ub(43,0,null,null,7,null,null,null,null,null,null,null)),l.tb(44,16384,null,0,g.t,[],{ngSwitch:[0,"ngSwitch"]},null),(e()(),l.jb(16777216,null,null,1,null,ui)),l.tb(46,278528,null,0,g.u,[l.R,l.O,g.t],{ngSwitchCase:[0,"ngSwitchCase"]},null),(e()(),l.jb(16777216,null,null,1,null,di)),l.tb(48,278528,null,0,g.u,[l.R,l.O,g.t],{ngSwitchCase:[0,"ngSwitchCase"]},null),(e()(),l.jb(16777216,null,null,1,null,gi)),l.tb(50,278528,null,0,g.u,[l.R,l.O,g.t],{ngSwitchCase:[0,"ngSwitchCase"]},null),(e()(),l.jb(0,[["nodeflowTemplate",2]],null,0,null,fi)),(e()(),l.jb(0,[["comCompanySample2Template",2]],null,0,null,Ci)),(e()(),l.jb(0,[["comCompanySample3Template",2]],null,0,null,yi))],function(e,t){var n=t.component;e(t,8,0,n.debugForm),e(t,18,0,"zoom"),e(t,26,0,!n.isActionToolbarMinimized,l.Gb(t,27)),e(t,37,0,n.layoutItemList),e(t,39,0,n.canvasWidgetViewContainerRef),e(t,41,0,n.isDebugMode),e(t,44,0,n.routeOrganizerKey),e(t,46,0,"com_company_sample2"),e(t,48,0,"com_company_sample3"),e(t,50,0,"nodeflow")},function(e,t){var n=t.component;e(t,6,0,l.Gb(t,10).ngClassUntouched,l.Gb(t,10).ngClassTouched,l.Gb(t,10).ngClassPristine,l.Gb(t,10).ngClassDirty,l.Gb(t,10).ngClassValid,l.Gb(t,10).ngClassInvalid,l.Gb(t,10).ngClassPending),e(t,11,0,n.isActionToolbarMinimized),e(t,14,0,n.zoomConfiguration.validation.minimum,n.zoomConfiguration.validation.maximum,l.Gb(t,20).ngClassUntouched,l.Gb(t,20).ngClassTouched,l.Gb(t,20).ngClassPristine,l.Gb(t,20).ngClassDirty,l.Gb(t,20).ngClassValid,l.Gb(t,20).ngClassInvalid,l.Gb(t,20).ngClassPending);var o=l.Pb(t,21,0,e(t,22,0,l.Gb(t,0),n.debugForm.get("zoom").value,"1.1"));e(t,21,0,o),e(t,24,0,n.isActionToolbarMinimized),e(t,29,0,n.isDebugMode),e(t,33,0,l.Pb(t,33,0,l.Gb(t,34).transform(n.themeChanges$))?"dark":"light")})}function Ii(e){return l.Qb(0,[(e()(),l.ub(0,0,null,null,1,"demo-dashboard-page",[],null,null,null,vi,Yo)),l.tb(1,4440064,null,0,be,[h.e,ce.a,r.a,r.l,l.k,ae,l.h,me.a,ge,Xo.a],null,null)],function(e,t){e(t,1,0)},null)}var Oi=l.qb("demo-dashboard-page",be,Ii,{},{zoomLevelChangeTransitionEnd$:"zoomLevelChange",dashboardConfiguration$:"dashboardConfiguration"},[]),Mi=n("zl1X"),Si=n("T3We"),wi=n("oVuv"),ki=(n("1qcj"),n("w1tV"));class Ti extends wi.a{constructor(e,t,n,l){super(l),this.staticConfigurationList=e,this._templateTransporter=t,this.compResolver=n,this._injector=l,this.initialize()}streamInitialDataModel(e,t){const n=e.resolver.injectorInstance.state().findConfigurationResourceByType("modulesList","service");return this._templateTransporter.awaitingResourceStream(n).pipe(Object(f.a)(e=>({response:{entity:n.resolver.getSnapshotData()}})),Object(ki.a)())}initialize(){this.internalOrganizersList=[de.c.internal];const e=e=>this.internalOrganizersList.indexOf(e.organizerPackage)>=0;this.staticConfigurationList.filter(t=>!e(t)).forEach(e=>this.templatableClassesListMap.set(e.identifier,e.resolveTemplatableClassesList))}}class Pi{constructor(e){this._library=e}deriveVisibleModelItemsList(e){const t=this._library.alias.cardI18n,n=[];return e.forEach(e=>{{const l={model:e,view:{},message:t[e.label],data:parseInt(e.value,10)};n.push(l)}}),n}}class xi extends wi.c{constructor(e,t,n,l,o,i,r,s,a){super(e,o,t,l),this.resourceToken=e,this._outlet=t,this.library=n,this._globalState=l,this._cd=o,this._dashboardComponent=i,this._element=r,this._parser=s,this._service=a,this.isTemplatePhaseReady=!1,this.isComponentPhaseReady=!1,this.setupHeaderSection(),this.positionBasedTemplateMap={header:{},body:{},footer:{}},this.layout={}}show(e){console.log("show",e)}setupHeaderSection(){setTimeout(()=>this._outlet.isHeaderVisible=!0),this._outlet.title=this.library.alias.cardI18n["card.title"],this._outlet.titleIconClasses=this.library.alias.parameters["card.iconClassesList"]}setupHeaderTemplateView(){}ngAfterViewInit(){}ngAfterContentInit(){}ngOnInit(){super.ngOnInit(),this.initialize()}prepareDataStream(){const e=this._service.streamInitialDataModel(this.resourceToken.card,this._dashboardComponent);return this.assemblySubscriptionList.push(e.subscribe(e=>{this.billboardEntity=e.response.entity;const t=Array.prototype.slice.call(this.billboardEntity.dashboardData);this.numericTransformedValueItemsList=this._parser.deriveVisibleModelItemsList(t),this.fieldMetadataList=[{id:"inventory_entity_name",type:{classifier:"string"},text:{header:{key:"inventory_entity_name"}},layout:{alignment:"left",dimensions:{width:{initial:{value:50,metric:"%"}}}},view:{body:{organization:"project1",template:"inventorySummaryNameItem",context:{schema:"",variables:{color:"blue"}}}}},{id:"inventory_entity_count_graph",type:{classifier:"number"},text:{header:{key:"inventory_entity_count"}},layout:{alignment:"left",dimensions:{width:{initial:{value:20,metric:"%"}}}},view:{body:{organization:"project1",template:"inventorySummaryCountGraphItem",context:{schema:"",variables:{"bar-foreground-color":"#fd8c7f"}}}}},{id:"inventory_entity_count",type:{classifier:"number"},text:{header:{key:""}},layout:{alignment:"right",dimensions:{width:{initial:{value:20,metric:"%"}}}},view:{body:{organization:"project1",template:"inventorySummaryCountItem",context:{schema:"",variables:{}}}}},{id:"inventory_entity_percentage",type:{classifier:"number"},text:{header:{key:"inventory_entity_percentage"}},layout:{alignment:"left",dimensions:{width:{initial:{value:0,metric:"%"}}}},view:{body:{organization:"project1",template:"inventorySummaryPercentageItem"}}}],this.fieldMetadataList&&(this.fieldMetadataList.map(e=>e.id),this.numericTransformedValueItemsList=this._parser.deriveVisibleModelItemsList(t)),this.loadedFlag=!0,this.updateCardCountView(),this.forceViewRelayout()})),e}initialize(){this.assemblyLayout=this.resourceToken.card.resolver.injectorInstance,this.initialDataModelResponse$=this.prepareDataStream(),this.startInteractionEvents();const e=this.assemblyLayout.classificationMetadata(),t=this.assemblyLayout.state(),n=t.findConfigurationResourceByType(e.layoutResourceType,e.layoutMetadataKey);n?this._service.loadingDashboardCardTemplatableClass(this.resourceToken.card,n).then(e=>{e&&(this.derivedTemplatableClass=e,this.isTemplatePhaseReady=!0,this._cd.markForCheck(),this.isComponentPhaseReady=!0,this._cd.markForCheck())},e=>{}):console.error("unresolvable",Object.getPrototypeOf(this).constructor.name,"configuration resource",t,e.layoutMetadataKey),this.fieldMetadataList=this._service.prepareFieldMetadataList(this.resourceToken.card),this.fieldMetadataList.forEach(e=>{this.positionBasedTemplateMap.header[e.id]=this.defaultHeaderTemplate,this.positionBasedTemplateMap.body[e.id]=this.defaultBodyTemplate})}calculateAvailableScrollHeightMetric(e){return e-this._outlet.sumSectionsHeightExcept([this._element])}updateCardCountView(){const e=parseInt(this.getDashboardEntityValueByField(this.library.alias.parameters["card.subtitleFieldIdentifier"]),0);e>=1&&(this._outlet.subtitle=e.toString()),this.resourceToken.outlet.forceViewRelayout()}getDashboardEntityValueByField(e){const t=this.billboardEntity.dashboardData.filter(t=>t.label===e);return t.length&&t[0].value||""}}var _i=n("1qRs");const Ri={organizerPackage:Si.a.com_company_sample1,organization:"project2",description:"Sample 1: Summary Billboard Template"},Ei=(()=>{class e extends wi.b{constructor(t,n,l,o,i){super(t,n,l,o,i),this.resourceToken=t,this.cardAssemblyPlugin=n,this.templateOrganization=e.classification.organization,this.viewClassification=new _i.b("billboard","data billboard template container")}ngOnInit(){super.ngOnInit()}validateRenderTemplateMetadata(e){return e&&e.organization===this.templateOrganization.classification.organization}}return e.classification={organization:new _i.a(Ri,"placeholder organization")},e})();var Li=l.sb({encapsulation:2,styles:[[":host{width:100%;display:block;background-color:#f2f2f2}:host SECTION[role=chart-widget]{display:flex;flex-direction:row;justify-content:center;align-content:flex-start;align-items:baseline;flex-wrap:wrap}:host SECTION[role=chart-widget] [role=chart-summary]:first-child{border:0}:host SECTION[role=chart-widget] [role=chart-summary]{display:flex;flex-direction:column;flex:0 1;padding:0 1rem}:host SECTION[role=chart-widget] [role=chart-summary] [role=chart-summary-title]{align-content:flex-start;display:flex;flex-direction:row;align-items:flex-start}:host SECTION[role=chart-widget] [role=chart-summary] [role=chart-summary-title] H4{margin:0;padding:0 1rem}:host SECTION[role=chart-widget] [role=chart-summary] [role=chart-summary-label]{display:flex;flex-direction:row;flex:0 1;justify-content:center;align-items:baseline;margin:0}:host SECTION[role=chart-widget] [role=chart-summary] [role=chart-summary-label] [role=chart-summary-attribute-unit]{padding-left:.3rem;margin:0;white-space:nowrap;text-overflow:clip;overflow-x:hidden}@media screen and (min-width:376px) and (max-width:575px){:host SECTION[role=chart-widget] [role=chart-summary] [role=chart-summary-label] [role=chart-summary-attribute-unit]{padding-left:.36rem}}:host SECTION[role=chart-widget] [role=chart-summary] [role=chart-summary-label] [role=chart-summary-attribute-value]{margin:0}:host SECTION[role=chart-widget] [role=chart-summary] [role=chart-render-container]{width:100%;padding:0 20%;position:relative}:host SECTION[role=chart-widget] [role=chart-summary] [role=chart-render-container] [role=chart-render-bar]{height:.5rem}:host SECTION[role=chart-widget] [role=chart-summary] [role=chart-summary-informational]{display:flex;justify-content:center;align-items:stretch;font-size:12px;line-height:1.5;padding-top:.5rem}:host SECTION[role=chart-widget] [role=chart-summary] [role=chart-summary-informational]>:nth-of-type(1){text-align:right;margin-right:.5rem;padding-right:.5rem;border-right:1px solid #cecece}:host SECTION[role=chart-widget] [role=chart-summary] [role=chart-summary-informational]>:nth-of-type(2){text-align:left}@media screen and (min-width:576px) and (max-width:767px){:host SECTION[role=chart-widget] [role=chart-summary] [role=chart-summary-label] [role=chart-summary-attribute-unit]{padding-left:.42rem}:host SECTION[role=chart-widget] [role=chart-summary]{flex-basis:33.33333333%;border-left:1px solid #cecece}}@media screen and (min-width:768px) and (max-width:991px){:host SECTION[role=chart-widget] [role=chart-summary] [role=chart-summary-label] [role=chart-summary-attribute-unit]{padding-left:.48rem}:host SECTION[role=chart-widget] [role=chart-summary]{flex-basis:33.33333333%;border-left:1px solid #cecece}}@media screen and (min-width:992px){:host SECTION[role=chart-widget] [role=chart-summary] [role=chart-summary-label] [role=chart-summary-attribute-unit]{padding-left:.54rem}:host SECTION[role=chart-widget] [role=chart-summary]{flex-basis:33.33333333%;border-left:1px solid #cecece}}@media screen and (max-width:375px){:host SECTION[role=chart-widget] [role=chart-summary]{flex-basis:100%;border-top:1px solid #cecece;padding:1rem 0}}@media screen and (min-width:376px) and (max-width:575px){:host SECTION[role=chart-widget] [role=chart-summary]{flex-basis:100%;border-top:1px solid #cecece;padding:1rem 0}}@media screen and (min-width:576px) and (max-width:767px){:host SECTION[role=chart-widget]{flex-wrap:nowrap}}@media screen and (min-width:768px) and (max-width:991px){:host SECTION[role=chart-widget]{flex-wrap:nowrap}}@media screen and (min-width:992px){:host SECTION[role=chart-widget]{flex-wrap:nowrap}}::ng-deep .dashboard-strategy-container GRIDSTER-ITEM[style] ::ng-deep [cardComponentType=card-summary-billboard]>article[data-layoutItemAspect=card]>[data-layoutItemAspect=header]{background:linear-gradient(to right,rgba(173,4,18,.2),rgba(73,74,81,0))}::ng-deep .dashboard-strategy-container GRIDSTER-ITEM[style] ::ng-deep [cardComponentType=card-summary-billboard]>article[data-layoutItemAspect=card]>[data-layoutItemAspect=header] ::ng-deep I.headerIcon{background-size:cover}::ng-deep .dashboard-strategy-container GRIDSTER-ITEM[style] ::ng-deep [cardComponentType=card-summary-billboard]>article[data-layoutItemAspect=card]>[data-layoutItemAspect=header] ::ng-deep I.headerIcon.mountains{background-image:url(//cdnjs.cloudflare.com/ajax/libs/foundicons/3.0.0/svgs/fi-mountains.svg)}"]],data:{}});function Gi(e){return l.Qb(0,[(e()(),l.Ob(0,null,["",""]))],null,function(e,t){e(t,0,0,t.context.summaryEntity)})}function Di(e){return l.Qb(0,[l.Mb(671088640,1,{customTemplatesQueryList:1}),l.Mb(671088640,2,{customerTemplateInstancesQueryList:1}),(e()(),l.ub(2,0,[["templates",1]],null,4,null,null,null,null,null,null,null)),(e()(),l.ub(3,0,[["billboard",1]],null,3,null,null,null,null,null,null,null)),(e()(),l.ub(4,0,[["header",1]],null,0,null,null,null,null,null,null,null)),(e()(),l.ub(5,0,[["body",1]],null,1,null,null,null,null,null,null,null)),(e()(),l.jb(16777216,[[1,3],[2,2],["main",2]],null,0,null,Gi))],null,null)}function ji(e){return l.Qb(0,[(e()(),l.ub(0,0,null,null,1,"demo-sample1-summary-billboard-template",[],null,null,null,Di,Li)),l.tb(1,4440064,null,0,Ei,[xt.a,xi,dt.a,ct.a,l.k],null,null)],function(e,t){e(t,1,0)},null)}var $i=l.qb("demo-sample1-summary-billboard-template",Ei,ji,{},{},[]),Fi=n("X69f"),zi=n("Rty2"),Ai=n("bdgK"),Ni=n("3E0/");class Vi{prepare(e,t,n){this.card=e,this.fieldMetadataList=t,this.libraryStateManager=n}}class Bi{constructor(e){this.strategyTransformerMap={},this.applyInjection(e)}applyInjection(e){Array.prototype.slice.call(e).filter(e=>{e instanceof Vi&&(this.strategyTransformerMap[e.getStrategyIdentifier()]=e)})}}class Qi extends Vi{getStrategyIdentifier(){return"InventorySummaryTransformerService"}extract(e){return e.response.entity.breakdownData}transform(e){return e.map(e=>({inventory_entity_name:e.name,inventory_entity_count:e.necount,inventory_entity_percentage:e.precentage}))}}const Hi={dashboardServiceAllocatedCollectionName:"ParsedResponseTransformable"};class Wi extends Bi{constructor(e){super(arguments),this.transformer1=e}register(e,t,n){const l=t.alias.parameters.DashboardParserService[Hi.dashboardServiceAllocatedCollectionName];let o;return l&&(o=this.strategyTransformerMap[l])&&o.prepare(e,n,t),o}}class qi extends wi.a{constructor(e,t,n,l){super(l),this.staticConfigurationList=e,this._templateTransporter=t,this.compResolver=n,this._injector=l,this.initialize()}streamInitialDataModel(e,t){const n=e.resolver.injectorInstance.state().findConfigurationResourceByType("modulesList","service");return this._templateTransporter.awaitingResourceStream(n).pipe(Object(f.a)(()=>({response:{entity:n.resolver.getSnapshotData()}})),Object(ki.a)())}initialize(){this.internalOrganizersList=[de.c.internal];const e=e=>this.internalOrganizersList.indexOf(e.organizerPackage)>=0;this.staticConfigurationList.filter(t=>!e(t)).forEach(e=>this.templatableClassesListMap.set(e.identifier,e.resolveTemplatableClassesList))}}class Ui extends wi.c{constructor(e,t,n,l,o,i,r,s,a,u,c){super(e,o,t,l),this.resourceToken=e,this._outlet=t,this.library=n,this._globalState=l,this._cd=o,this._zone=i,this._dashboardComponent=r,this._element=s,this._parser=a,this._renderer=u,this._service=c,this.scrollbarTrackerDimension=0,this.gridVerticalScrollChange$=new m.a(!1),this.gridHorizontalScrollChange$=new m.a(!1),this.syncDatagridOverflowDimension=0,this.syncDatagridTableWidth=-1,this.syncDatagridTableHeight=-1,this.syncDatagridTableScrollLeft=0,this.isTemplatePhaseReady=!1,this.isComponentPhaseReady=!1,this.resizeObserverList=[],this.scrollDatagridEvent=e=>{this.syncDatagridTableScrollLeft=e.target.scrollLeft,this._cd.detectChanges()},this.setupHeaderSection(),this.positionBasedTemplateMap={header:{},body:{},footer:{}},this.layout={}}get gridColumnsService(){return this.gridComponent&&this.gridFooterComponent.columnsService}setupHeaderSection(){setTimeout(()=>this._outlet.isHeaderVisible=!0),this._outlet.title=this.library.alias.cardI18n["card.title"],this._outlet.titleIconClasses=this.library.alias.parameters["card.iconClassesList"]}setupHeaderTemplateView(){}ngOnInit(){super.ngOnInit(),this.initialize()}ngAfterContentInit(){this.layout.allocatedRowObjectsCount=100,this.layout.availableScrollHeightMetric=this.layout.availableWidthMetric=-1,this.assemblySubscriptionList.push(this.streamCardLayoutDimension("height").pipe(te(100)).subscribe(e=>{const t=this.calculateAvailableScrollHeightMetric(e);t>0&&(this.layout.availableScrollHeightMetric=t),this._cd.markForCheck()})),this.assemblySubscriptionList.push(this.streamCardLayoutDimension("width").pipe(te(200)).subscribe(e=>{this.layout.availableWidthMetric=e+0,this.gridComponent&&(this.gridComponent.resize(),this._cd.markForCheck())}))}ngAfterViewInit(){Object.keys(this.positionBasedTemplateMap).length||(this.initializeGridViewTimer=setTimeout(()=>this.initializeGridView(),0))}ngOnDestroy(){clearTimeout(this.initializeGridViewTimer),this.resizeObserverList.forEach(e=>e.disconnect()),this.datagridLayoutElement&&this.datagridLayoutElement.removeEventListener("scroll",this.scrollDatagridEvent),super.ngOnDestroy()}onRefreshEvent(e){}deriveSynchronizedColumnWidth(e,t){if(this.gridComponent&&this.gridComponent.items.displayed.length){const e=this.gridColumnsService.columnStates[t];return e&&e.width||-1}return-1}generateResourcePositionLayoutColumnClassCSS(e){return["body","footer"].map(t=>this.generateResourceAbstractColumnClassStyle(e,t)).join("")}generateResourceAbstractColumnClassName(e,t){return[this.resourceToken.card.resourceId,this.resourceToken.card.component,e.id,t].join("_")}prepareDataStream(){const e=this._service.streamInitialDataModel(this.resourceToken.card,this._dashboardComponent).pipe(Object(Ni.a)(0));return this.assemblySubscriptionList.push(e.subscribe(e=>{const t=this._parser.register(this.resourceToken.card,this.library,this.fieldMetadataList);t?(this.simpleGridRecords=t.extract(e),this.transformedSimpleGridRecords=t.transform(this.simpleGridRecords)):console.error("no transformer linkage supported for",this.resourceToken.card),this.initialDataModelResponseModel=e,this.loadedFlag=!0,this.updateCardCountView(),this.gridComponent.resize(),this.forceViewRelayout()})),e}initializeGridView(){this.gridComponent&&(this.updateGridLayoutClasses(),this.updateGridHeaderView())}initialize(){this.assemblyLayout=this.resourceToken.card.resolver.injectorInstance,this.initialDataModelResponse$=this.prepareDataStream(),this.startInteractionEvents();const e=this.assemblyLayout.classificationMetadata(),t=this.assemblyLayout.state(),n=t.findConfigurationResourceByType(e.layoutResourceType,e.layoutMetadataKey);n?this._service.loadingDashboardCardTemplatableClass(this.resourceToken.card,n).then(e=>{e&&(this.derivedTemplatableClass=e,this.isTemplatePhaseReady=!0,this._cd.markForCheck(),this.isComponentPhaseReady=!0,this._cd.markForCheck(),this.fieldMetadataList.forEach(e=>{this.positionBasedTemplateMap.header[e.id]||(this.positionBasedTemplateMap.header[e.id]=this.defaultHeaderTemplate),this.positionBasedTemplateMap.body[e.id]||(this.positionBasedTemplateMap.body[e.id]=this.defaultBodyTemplate)}),this._cd.detectChanges(),this.gridComponent.resize())},e=>{console.error("simple grid card template association failure",this.resourceToken.card.resourceId)}):console.error("unresolvable simple grid configuration resource",t,e.layoutMetadataKey),this.fieldMetadataList=this._service.prepareFieldMetadataList(this.resourceToken.card)}calculateAvailableScrollHeightMetric(e){return e-this._outlet.sumSectionsHeightExcept([this._element])}updateGridLayoutClasses(){const e=this.componentSection.nativeElement.ownerDocument.createElement("style");if(this.scrollbarTrackerDimension=this.calculateScrollbarDimension(),this._renderer.appendChild(this.componentSection.nativeElement,e),e.textContent=this.fieldMetadataList.filter(e=>!!e.layout).map(e=>this.generateResourcePositionLayoutColumnClassCSS(e)).join("\n"),this.datagridLayoutElement=this.gridComponentViewContainerRef.element.nativeElement.querySelector(".datagrid"),this.datagridLayoutElement){const e=new Ai.a((e,t)=>{const n=this.datagridLayoutElement.scrollWidth>this.datagridLayoutElement.clientWidth;this.gridHorizontalScrollChange$.getValue()!==n&&this.gridHorizontalScrollChange$.next(n);const l=this.datagridLayoutElement.scrollHeight>this.datagridLayoutElement.clientHeight;this.gridVerticalScrollChange$.getValue()!==l&&this.gridVerticalScrollChange$.next(l)});e.observe(this.datagridLayoutElement),this.resizeObserverList.push(e),this._zone.runOutsideAngular(()=>this.datagridLayoutElement.addEventListener("scroll",this.scrollDatagridEvent))}this.assemblySubscriptionList.push(this.gridVerticalScrollChange$.pipe(te(1e3)).subscribe(e=>{this.syncDatagridOverflowDimension=e?this.scrollbarTrackerDimension:-1}));const t=new Ai.a((e,t)=>{this.syncDatagridTableWidth=e[0].contentRect.width,this.syncDatagridTableHeight=e[0].contentRect.height,this._cd.detectChanges()});t.observe(this.gridComponent.datagridTable.nativeElement),this.resizeObserverList.push(t)}calculateScrollbarDimension(){const e=document.createElement("div");e.style.visibility="hidden",e.style.overflow="scroll",document.body.appendChild(e);const t=document.createElement("div");e.appendChild(t);const n=e.offsetWidth-t.offsetWidth;return e.parentElement.removeChild(e),n}updateGridHeaderView(){const e=this.gridHeaderQueryList.first.element.nativeElement.parentNode,t=e.parentNode;this.library.alias.parameters.SimpleGridCard.isHeaderVisible||(this._renderer.setStyle(e,"height","0"),this._renderer.setStyle(e,"visibility","hidden"),this._renderer.setStyle(t,"height","0"),this._renderer.setStyle(t,"border","none"),this.gridComponent.resize())}updateCardCountView(){const e=this.transformedSimpleGridRecords&&this.transformedSimpleGridRecords.length;this._outlet.subtitle=e>=1?e.toString():"",this.resourceToken.outlet.forceViewRelayout()}generateResourceAbstractColumnClassStyle(e,t){const n=new Map;n.set("text-align",e.layout.alignment),e.layout.dimensions&&e.layout.dimensions.width&&e.layout.dimensions.width.initial.clipping&&(n.set("white-space","nowrap"),n.set("overflow-x","hidden"),n.set("text-overflow","ellipsis"));let l="";n.forEach((e,t)=>{null!=e&&(l+=`${t}: ${e};\n`)});const o=this.gridComponentViewContainerRef.element.nativeElement.tagName;let i,r;switch(t){case"header":i="datagrid-column",r=".datagrid-column-title";break;default:i="datagrid-cell",r=null}const s=[o,`.${i}.${this.generateResourceAbstractColumnClassName(e,t)}`,r].filter(Boolean).join(" ");return l?`${s}  { ${l} }`:""}}const Xi=(()=>{class e extends wi.b{constructor(t,n,l,o,i){super(t,n,l,o,i),this.resourceToken=t,this.cardAssemblyPlugin=n,this.templateOrganization=e.classification.organization,this.viewClassification=new _i.b("grid","data grid template container")}ngOnInit(){super.ngOnInit()}ngAfterViewInit(){super.ngAfterViewInit(),setTimeout(()=>{this.cardAssemblyPlugin.initializeGridView()},0)}validateRenderTemplateMetadata(e){return e&&e.organization===this.templateOrganization.classification.organization}navigateToManagedObject(e,t){}}return e.classification={organization:new _i.a(zi.a[1],"grid card template")},e})();var Yi=l.sb({encapsulation:2,styles:[],data:{}});function Ki(e){return l.Qb(0,[(e()(),l.ub(0,0,null,null,0,"span",[["style","font-style:italic;"]],[[8,"textContent",0],[8,"title",0]],null,null,null,null))],null,function(e,t){e(t,0,0,t.context.library.alias.cardI18n[t.context.fieldMetadata.text.header.key],t.context.library.alias.cardI18n[t.context.fieldMetadata.text.header.key])})}function Ji(e){return l.Qb(0,[(e()(),l.ub(0,0,null,null,0,"span",[],[[8,"textContent",0]],null,null,null,null))],null,function(e,t){e(t,0,0,t.context.library.alias.cardI18n[t.context.fieldMetadata.text.header.key])})}function Zi(e){return l.Qb(0,[(e()(),l.ub(0,0,null,null,0,"span",[],[[8,"textContent",0]],null,null,null,null))],null,function(e,t){e(t,0,0,t.context.library.alias.cardI18n[t.context.fieldMetadata.text.header.key])})}function er(e){return l.Qb(0,[(e()(),l.jb(0,null,null,0))],null,null)}function tr(e){return l.Qb(0,[(e()(),l.ub(0,0,null,null,1,"div",[["role","bar-graph-widget"]],null,null,null,null,null)),(e()(),l.ub(1,0,null,null,0,"div",[["role","bar-graph"]],[[1,"title",0],[4,"background",null],[4,"width","px"]],null,null,null,null))],null,function(e,t){e(t,1,0,t.context.rowData.inventory_entity_percentage,t.context.fieldMetadata.view.body.context.variables["bar-foreground-color"],t.context.rowData.inventory_entity_percentage)})}function nr(e){return l.Qb(0,[(e()(),l.ub(0,0,null,null,0,"a",[["href","javascript:"],["role","item-title-link"]],[[8,"textContent",0]],[[null,"click"]],function(e,t,n){var l=!0;return"click"===t&&(l=!1!==e.component.navigateToManagedObject(e.context.rowData,e.context.fieldMetadata)&&l),l},null,null))],null,function(e,t){e(t,0,0,t.context.rowData[t.context.fieldMetadata.id])})}function lr(e){return l.Qb(0,[(e()(),l.jb(0,null,null,0))],null,null)}function or(e){return l.Qb(0,[(e()(),l.ub(0,0,null,null,0,"strong",[],[[8,"textContent",0]],null,null,null,null)),(e()(),l.ub(1,0,null,null,1,"clr-icon",[["class","is-success"],["shape","check"],["size","16"]],null,null,null,null,null)),l.tb(2,16384,null,0,Fi.cb,[],null,null)],null,function(e,t){e(t,0,0,t.context.library.alias.cardI18n[t.context.fieldMetadata.text.footer.key])})}function ir(e){return l.Qb(0,[(e()(),l.ub(0,0,null,null,0,"span",[],[[8,"textContent",0]],null,null,null,null))],null,function(e,t){e(t,0,0,t.context.model.response.entity.breakdownTotal.neCountTotal)})}function rr(e){return l.Qb(0,[(e()(),l.ub(0,0,null,null,0,"span",[],[[8,"textContent",0]],null,null,null,null))],null,function(e,t){e(t,0,0,t.context.model.response.entity.breakdownTotal.nePercentAverage)})}function sr(e){return l.Qb(0,[l.Mb(671088640,1,{customTemplatesQueryList:1}),l.Mb(671088640,2,{customerTemplateInstancesQueryList:1}),(e()(),l.ub(2,0,[["templates",1]],null,14,null,null,null,null,null,null,null)),(e()(),l.ub(3,0,[["grid",1]],null,13,null,null,null,null,null,null,null)),(e()(),l.ub(4,0,[["header",1]],null,3,null,null,null,null,null,null,null)),(e()(),l.jb(16777216,[[1,3],[2,2],["experiment_header1",2]],null,0,null,Ki)),(e()(),l.jb(16777216,[[1,3],[2,2],["headerIcon",2]],null,0,null,Ji)),(e()(),l.jb(16777216,[[1,3],[2,2],["inventorySummaryCountItem",2]],null,0,null,Zi)),(e()(),l.ub(8,0,[["body",1]],null,4,null,null,null,null,null,null,null)),(e()(),l.jb(16777216,[[1,3],[2,2],["standard",2]],null,0,null,er)),(e()(),l.jb(16777216,[[1,3],[2,2],["inventorySummaryCountGraphItem",2]],null,0,null,tr)),(e()(),l.jb(16777216,[[1,3],[2,2],["inventorySummaryCountItem",2]],null,0,null,nr)),(e()(),l.jb(16777216,[[1,3],[2,2],["installedPluginsItemName",2]],null,0,null,lr)),(e()(),l.ub(13,0,[["footer",1]],null,3,null,null,null,null,null,null,null)),(e()(),l.jb(16777216,[[1,3],[2,2],["inventorySummaryNameItem",2]],null,0,null,or)),(e()(),l.jb(16777216,[[1,3],[2,2],["inventorySummaryCountItem",2]],null,0,null,ir)),(e()(),l.jb(16777216,[[1,3],[2,2],["inventorySummaryPercentageItem",2]],null,0,null,rr))],null,null)}function ar(e){return l.Qb(0,[(e()(),l.ub(0,0,null,null,1,"dash-demo-client-grid-card-template",[],null,null,null,sr,Yi)),l.tb(1,4440064,null,0,Xi,[xt.a,Ui,dt.a,ct.a,l.k],null,null)],function(e,t){e(t,1,0)},null)}var ur=l.qb("dash-demo-client-grid-card-template",Xi,ar,{},{},[]);class cr extends wi.b{validateRenderTemplateMetadata(e){return e&&0===e.organization.indexOf(this.templateOrganization.classification.organization)}}var dr=n("GDen"),hr=n("8Ig9"),gr=n("AszD");const mr={providers:{introductionKey:"introduction"}};class pr{constructor(e){this.providers={},this.model={},this.model.messageHistoryList=[],this.providers.introduction=e.alias.parameters[gr.a+mr.providers.introductionKey]}}var br=n("xP/X"),fr=n("PeX2");const Cr=(()=>{class e extends br.a{constructor(e,t,n,l){super(l),this.staticConfigurationList=e,this._templateTransporter=t,this.compResolver=n,this._injector=l,super.initialize()}streamInitialDataModel(e,t){const n=e.resolver.injectorInstance.state().findConfigurationResourceByType("modulesList","service");return this._templateTransporter.awaitingResourceStream(n).pipe(Object(b.a)(e=>e),Object(f.a)(()=>({response:{entity:n.resolver.getSnapshotData()}})),Object(ki.a)())}}return e.ngInjectableDef=l.Tb({factory:function(){return new e(l.Ub(xt.e),l.Ub(fr.a),l.Ub(l.j),l.Ub(l.p))},token:e,providedIn:"root"}),e})();var yr=n("9oXZ");const vr=(()=>{class e extends yr.a{constructor(){super()}getStrategyIdentifier(){return"IntroductionListTransformerService"}extract(e){return e.collections}transform(e){const t=e=>Object.assign({iconClass:["icon",e.id].join("-")},e),n=new Map(e.categories.map(e=>[e.id,t(e)]));return e.devices.map(e=>({itemIdentifier:e.id,label:e.name,category:n.get(e.categoryId)}))}}return e.ngInjectableDef=l.Tb({factory:function(){return new e},token:e,providedIn:"root"}),e})(),Ir=(()=>{class e{constructor(e){this.transformer1=e}register(e,t,n){return this.transformer1}}return e.ngInjectableDef=l.Tb({factory:function(){return new e(l.Ub(vr))},token:e,providedIn:"root"}),e})(),Or={assetTypeIconClassPrefix:"introduction-icon",assetTypeList:hr};class Mr extends dr.a{constructor(e,t,n,l,o,i,r,s){super(e,o,t,l),this.resourceToken=e,this._outlet=t,this.library=n,this._globalState=l,this._cd=o,this._service=i,this._parser=r,this._dashboardComponent=s,this.cardModel=new pr(this.library),this.prepareTemplate(),this.setupHeaderSection()}ngOnInit(){super.ngOnInit(),this.initialize()}ngOnDestroy(){super.ngOnDestroy()}setupHeaderSection(){super.setupHeaderSection()}setupHeaderTemplateView(){this.headerSection&&this._outlet.headerAfterBlockTemplateContainerRef&&(this.headerEmbeddedViewRef=this._outlet.headerAfterBlockTemplateContainerRef.createEmbeddedView(this.headerSection,{},0))}prepareDataStream(){const e=this._service.streamInitialDataModel(this.resourceToken.card,this._dashboardComponent).pipe(Object(f.a)(e=>e));return this.assemblySubscriptionList.push(e.subscribe(e=>{const t=this._parser.register(this.resourceToken.card,this.library,this.fieldMetadataList);this.cardModel.model.devices=t.transform(t.extract(e.response.entity)),this.cardModel.model.title=e.response.entity.name,this.cardModel.model.product=e.response.entity.product,this._outlet.subtitle=e.response.entity.organization,e.response&&(this.widgetDataEntity=e.response.entity),this.loadedFlag=!0,this._cd.markForCheck(),this.resourceToken.outlet.forceViewRelayout()})),e}onBroadcastCardMessage(e){this._outlet.broadcastMessageDeliveryTopic(this.cardModel.providers.introduction.channelTopic,{message:e,name:this.resourceToken.card.resourceId,icon:this.cardModel.model.viewAssetIconClass})}initialize(){this.importCardModelMetadata(),this.subscribeMessageEvents()}importCardModelMetadata(){const e=Or.assetTypeList.find(e=>e.assetTypeId===this.cardModel.providers.introduction.assetTypeId);e&&(this.cardModel.model.assetType=e,this.cardModel.model.viewAssetIconClass=[Or.assetTypeIconClassPrefix,this.cardModel.model.assetType.iconDecoratorClass].join("-"))}subscribeMessageEvents(){this.resourceToken.outlet.provisionMessageDeliveryTopic(this.cardModel.providers.introduction.channelTopic).subscribe(e=>{this.onReceiveCardMessage(e.name,e.icon,e.message)})}onReceiveCardMessage(e,t,n){const l={senderName:e,senderIcon:t,message:n};this.cardModel.model.messageHistoryList.push(l),requestAnimationFrame(()=>{l.receivedDate=new Date,this._cd.markForCheck()})}}const Sr=(()=>{class e extends cr{constructor(t,n,l,o,i,r){super(t,n,l,o,r),this.resourceToken=t,this.cardAssemblyPlugin=n,this.viewState={detailsPane:{visible:!0}},this.templateOrganization=e.classification.organization,this.viewClassification=new _i.b("presentation","presentational layer")}ngOnInit(){super.ngOnInit(),this.initialize()}onToggleViewPane(e){e.visible=!e.visible,console.log("click!!")}onSendMessage(e,t){e.value.length>1&&(this.cardAssemblyPlugin.onBroadcastCardMessage(e.value),e.value="")}initialize(){}}return e.classification={organization:new _i.a(zi.a.custom_sample,"custom sample presentation template")},e})();var wr=l.sb({encapsulation:2,styles:[],data:{}});function kr(e){return l.Qb(0,[(e()(),l.ub(0,0,null,null,1,null,null,null,null,null,null,null)),(e()(),l.Ob(1,null,[" (",") "]))],null,function(e,t){e(t,1,0,t.parent.context.cardModel.model.devices.length)})}function Tr(e){return l.Qb(0,[(e()(),l.jb(0,null,null,0))],null,null)}function Pr(e){return l.Qb(0,[(e()(),l.ub(0,0,null,null,5,"clr-tab-content",[],null,null,null,Mi.z,Mi.q)),l.tb(1,180224,[[5,4]],0,Fi.Ob,[Fi.xe,Fi.ve,Fi.Ud,Fi.Vd],null,null),l.tb(2,2244608,null,0,Fi.Zd,[l.h,[2,Fi.Yd],Fi.ve,Fi.xe],null,null),(e()(),l.jb(16777216,[[1,3],[2,2]],0,2,null,Tr)),l.tb(4,540672,null,0,g.v,[l.R],{ngTemplateOutletContext:[0,"ngTemplateOutletContext"],ngTemplateOutlet:[1,"ngTemplateOutlet"]},null),l.Jb(5,{$implicit:0})],function(e,t){var n=e(t,5,0,t.parent.context.cardModel.model.devices);e(t,4,0,n,l.Gb(t.parent,43))},null)}function xr(e){return l.Qb(0,[(e()(),l.ub(0,0,null,null,1,null,null,null,null,null,null,null)),(e()(),l.Ob(1,null,[" (",") "]))],null,function(e,t){e(t,1,0,t.parent.context.cardModel.model.messageHistoryList.length)})}function _r(e){return l.Qb(0,[(e()(),l.jb(0,null,null,0))],null,null)}function Rr(e){return l.Qb(0,[(e()(),l.ub(0,0,null,null,4,"clr-tab-content",[],null,null,null,Mi.z,Mi.q)),l.tb(1,180224,[[7,4]],0,Fi.Ob,[Fi.xe,Fi.ve,Fi.Ud,Fi.Vd],null,null),l.tb(2,2244608,null,0,Fi.Zd,[l.h,[2,Fi.Yd],Fi.ve,Fi.xe],null,null),(e()(),l.jb(16777216,[[1,3],[2,2]],0,1,null,_r)),l.tb(4,540672,null,0,g.v,[l.R],{ngTemplateOutlet:[0,"ngTemplateOutlet"]},null)],function(e,t){e(t,4,0,l.Gb(t.parent,44))},null)}function Er(e){return l.Qb(0,[(e()(),l.ub(0,0,null,null,6,"tr",[],null,null,null,null,null)),(e()(),l.ub(1,0,null,null,2,"td",[],null,null,null,null,null)),(e()(),l.ub(2,0,null,null,1,"div",[],null,null,null,null,null)),(e()(),l.Ob(3,null,["",""])),(e()(),l.ub(4,0,null,null,2,"td",[],null,null,null,null,null)),(e()(),l.ub(5,0,null,null,1,"div",[],null,null,null,null,null)),(e()(),l.Ob(6,null,["",""]))],null,function(e,t){e(t,3,0,t.context.$implicit.label),e(t,6,0,t.context.$implicit.category.name)})}function Lr(e){return l.Qb(0,[(e()(),l.ub(0,0,null,null,14,"section",[["class","devicesList"]],null,null,null,null,null)),(e()(),l.ub(1,0,null,null,1,"b",[],null,null,null,null,null)),(e()(),l.Ob(2,null,["",""])),(e()(),l.Ob(-1,null,[" :: "])),(e()(),l.ub(4,0,null,null,1,"span",[],null,null,null,null,null)),(e()(),l.Ob(5,null,["",""])),(e()(),l.ub(6,0,null,null,8,"table",[],null,null,null,null,null)),(e()(),l.ub(7,0,null,null,4,"thead",[],null,null,null,null,null)),(e()(),l.ub(8,0,null,null,1,"th",[],null,null,null,null,null)),(e()(),l.Ob(-1,null,["Device"])),(e()(),l.ub(10,0,null,null,1,"th",[],null,null,null,null,null)),(e()(),l.Ob(-1,null,["Category"])),(e()(),l.ub(12,0,null,null,2,"tbody",[],null,null,null,null,null)),(e()(),l.jb(16777216,[[1,3],[2,2]],null,1,null,Er)),l.tb(14,278528,null,0,g.p,[l.R,l.O,l.u],{ngForOf:[0,"ngForOf"]},null)],function(e,t){e(t,14,0,t.context.$implicit)},function(e,t){e(t,2,0,t.parent.context.cardModel.model.title),e(t,5,0,t.parent.context.cardModel.model.product)})}function Gr(e){return l.Qb(0,[(e()(),l.ub(0,0,null,null,11,"li",[],[[2,"published",null]],null,null,null,null)),(e()(),l.ub(1,0,null,null,4,"div",[["class","icon"]],null,null,null,null,null)),(e()(),l.ub(2,0,null,null,3,"div",[["class","iconButtonShape"]],[[1,"title",0]],null,null,null,null)),(e()(),l.ub(3,0,null,null,2,"i",[],null,null,null,null,null)),l.Lb(512,null,g.G,g.H,[l.u,l.v,l.k,l.G]),l.tb(5,278528,null,0,g.n,[g.G],{ngClass:[0,"ngClass"]},null),(e()(),l.ub(6,0,null,null,3,"div",[["class","envelope"]],null,null,null,null,null)),(e()(),l.ub(7,0,null,null,2,"div",[],null,null,null,null,null)),(e()(),l.Ob(8,null,["",""])),l.Kb(9,2),(e()(),l.ub(10,0,null,null,1,"div",[["class","message"]],null,null,null,null,null)),(e()(),l.Ob(11,null,["",""]))],function(e,t){e(t,5,0,t.context.$implicit.senderIcon)},function(e,t){e(t,0,0,!!t.context.$implicit.receivedDate),e(t,2,0,t.context.$implicit.senderName);var n=l.Pb(t,8,0,e(t,9,0,l.Gb(t.parent.parent.parent,0),t.context.$implicit.receivedDate,"h:mm"));e(t,8,0,n),e(t,11,0,t.context.$implicit.message)})}function Dr(e){return l.Qb(0,[(e()(),l.ub(0,0,null,null,8,"section",[["class","discussionsList"]],null,null,null,null,null)),(e()(),l.ub(1,0,null,null,3,"div",[["class","messageHistoryView"]],null,null,null,null,null)),(e()(),l.ub(2,0,null,null,2,"ul",[],null,null,null,null,null)),(e()(),l.jb(16777216,[[1,3],[2,2]],null,1,null,Gr)),l.tb(4,278528,null,0,g.p,[l.R,l.O,l.u],{ngForOf:[0,"ngForOf"]},null),(e()(),l.ub(5,0,null,null,3,"div",[["class","newMessageView"]],null,null,null,null,null)),(e()(),l.ub(6,0,[["messageField",1]],null,0,"input",[["placeholder","Type message..."],["type","text"]],null,[[null,"keydown.enter"]],function(e,t,n){var o=!0;return"keydown.enter"===t&&(o=!1!==e.component.onSendMessage(l.Gb(e,6),n)&&o),o},null,null)),(e()(),l.ub(7,0,null,null,1,"button",[["class","btn btn-primary btn-sm"]],null,[[null,"click"]],function(e,t,n){var o=!0;return"click"===t&&(o=!1!==e.component.onSendMessage(l.Gb(e,6),n)&&o),o},null,null)),(e()(),l.Ob(-1,null,["Send"]))],function(e,t){e(t,4,0,t.parent.context.cardModel.model.messageHistoryList)},null)}function jr(e){return l.Qb(0,[(e()(),l.Ob(-1,null,[" Loading.... "]))],null,null)}function $r(e){return l.Qb(0,[(e()(),l.ub(0,0,null,null,42,"section",[["role","container"]],null,null,null,null,null)),(e()(),l.ub(1,0,null,null,36,"section",[["class","details"]],null,null,null,null,null)),(e()(),l.ub(2,0,null,null,35,"clr-tabs",[],[[2,"tabs-vertical",null]],null,null,Mi.B,Mi.r)),l.Lb(512,null,Fi.xe,Fi.xe,[]),l.Lb(512,null,Fi.td,Fi.td,[]),l.Lb(512,null,Fi.Vd,Fi.Vd,[]),l.Lb(1024,null,Fi.Wd,Fi.Xd,[]),l.tb(7,1228800,null,1,Fi.Rb,[Fi.xe,Fi.td,Fi.Vd,Fi.Wd,Fi.v],null,null),l.Mb(603979776,3,{tabs:1}),l.tb(9,8404992,null,0,Fi.Yd,[],null,null),(e()(),l.ub(10,0,null,null,13,"clr-tab",[],null,null,null,Mi.A,Mi.p)),l.Lb(1024,null,Fi.ve,Fi.we,[]),l.tb(12,180224,[[3,4]],2,Fi.Nb,[Fi.xe,Fi.ve,Fi.Vd],null,null),l.Mb(335544320,4,{tabLink:0}),l.Mb(335544320,5,{tabContent:0}),l.Lb(512,null,Fi.Ud,Fi.Ud,[]),(e()(),l.ub(16,16777216,null,0,5,"button",[["clrTabLink",""],["role","tab"],["type","button"]],[[1,"aria-hidden",0],[2,"btn",null],[2,"btn-link",null],[2,"nav-link",null],[1,"aria-controls",0],[8,"id",0],[2,"active",null],[1,"aria-selected",0]],[[null,"click"]],function(e,t,n){var o=!0;return"click"===t&&(o=!1!==l.Gb(e,17).activate()&&o),o},null,null)),l.tb(17,16384,[[4,4]],0,Fi.Pb,[Fi.xe,Fi.ve,Fi.Ud,l.k,l.j,l.R,Fi.Vd,Fi.Wd],null,null),l.tb(18,2244608,null,0,Fi.Zd,[l.h,[2,Fi.Yd],Fi.ve,Fi.xe],null,null),(e()(),l.Ob(-1,null,["Inventory "])),(e()(),l.jb(16777216,[[1,3],[2,2]],null,1,null,kr)),l.tb(21,16384,null,0,g.q,[l.R,l.O],{ngIf:[0,"ngIf"]},null),(e()(),l.jb(16777216,[[1,3],[2,2]],0,1,null,Pr)),l.tb(23,147456,null,0,Fi.eb,[Fi.xe,Fi.ve,l.O,l.R],{active:[0,"active"]},null),(e()(),l.ub(24,0,null,null,13,"clr-tab",[],null,null,null,Mi.A,Mi.p)),l.Lb(1024,null,Fi.ve,Fi.we,[]),l.tb(26,180224,[[3,4]],2,Fi.Nb,[Fi.xe,Fi.ve,Fi.Vd],null,null),l.Mb(335544320,6,{tabLink:0}),l.Mb(335544320,7,{tabContent:0}),l.Lb(512,null,Fi.Ud,Fi.Ud,[]),(e()(),l.ub(30,16777216,null,0,5,"button",[["clrTabLink",""],["role","tab"],["type","button"]],[[1,"aria-hidden",0],[2,"btn",null],[2,"btn-link",null],[2,"nav-link",null],[1,"aria-controls",0],[8,"id",0],[2,"active",null],[1,"aria-selected",0]],[[null,"click"]],function(e,t,n){var o=!0;return"click"===t&&(o=!1!==l.Gb(e,31).activate()&&o),o},null,null)),l.tb(31,16384,[[6,4]],0,Fi.Pb,[Fi.xe,Fi.ve,Fi.Ud,l.k,l.j,l.R,Fi.Vd,Fi.Wd],null,null),l.tb(32,2244608,null,0,Fi.Zd,[l.h,[2,Fi.Yd],Fi.ve,Fi.xe],null,null),(e()(),l.Ob(-1,null,["Messages "])),(e()(),l.jb(16777216,[[1,3],[2,2]],null,1,null,xr)),l.tb(35,16384,null,0,g.q,[l.R,l.O],{ngIf:[0,"ngIf"]},null),(e()(),l.jb(16777216,[[1,3],[2,2]],0,1,null,Rr)),l.tb(37,147456,null,0,Fi.eb,[Fi.xe,Fi.ve,l.O,l.R],{active:[0,"active"]},null),(e()(),l.ub(38,0,null,null,4,"section",[["class","icon"]],null,null,null,null,null)),(e()(),l.ub(39,0,null,null,3,"div",[["class","iconButtonShape"]],[[2,"active",null]],[[null,"click"]],function(e,t,n){var l=!0,o=e.component;return"click"===t&&(l=!1!==o.onToggleViewPane(o.viewState.detailsPane)&&l),l},null,null)),(e()(),l.ub(40,0,null,null,2,"i",[],null,null,null,null,null)),l.Lb(512,null,g.G,g.H,[l.u,l.v,l.k,l.G]),l.tb(42,278528,null,0,g.n,[g.G],{ngClass:[0,"ngClass"]},null),(e()(),l.jb(16777216,[[1,3],[2,2],["devicesList",2]],null,0,null,Lr)),(e()(),l.jb(16777216,[[1,3],[2,2],["discussionsList",2]],null,0,null,Dr)),(e()(),l.jb(16777216,[[1,3],[2,2],["notReady",2]],null,0,null,jr)),(e()(),l.jb(0,null,null,0))],function(e,t){e(t,21,0,t.context.cardModel.model.devices.length),e(t,23,0,null),e(t,35,0,t.context.cardModel.model.messageHistoryList.length),e(t,37,0,null),e(t,42,0,t.context.cardModel.model.viewAssetIconClass)},function(e,t){var n=t.component;e(t,2,0,l.Gb(t,7).isVertical),e(t,16,0,!1,!0,l.Gb(t,17).addLinkClasses,l.Gb(t,17).addLinkClasses,l.Gb(t,17).ariaControls,l.Gb(t,17).tabLinkId,l.Gb(t,17).active,l.Gb(t,17).active),e(t,30,0,!1,!0,l.Gb(t,31).addLinkClasses,l.Gb(t,31).addLinkClasses,l.Gb(t,31).ariaControls,l.Gb(t,31).tabLinkId,l.Gb(t,31).active,l.Gb(t,31).active),e(t,39,0,n.viewState.detailsPane.visible)})}function Fr(e){return l.Qb(0,[l.Ib(0,g.e,[l.w]),l.Mb(671088640,1,{customTemplatesQueryList:1}),l.Mb(671088640,2,{customerTemplateInstancesQueryList:1}),(e()(),l.ub(3,0,[["templates",1]],null,5,null,null,null,null,null,null,null)),(e()(),l.ub(4,0,[["presentation",1]],null,4,null,null,null,null,null,null,null)),(e()(),l.ub(5,0,[["header",1]],null,0,null,null,null,null,null,null,null)),(e()(),l.ub(6,0,[["body",1]],null,1,null,null,null,null,null,null,null)),(e()(),l.jb(16777216,[[1,3],[2,2],["introductionView",2]],null,0,null,$r)),(e()(),l.ub(8,0,[["footer",1]],null,0,null,null,null,null,null,null,null))],null,null)}function zr(e){return l.Qb(0,[(e()(),l.ub(0,0,null,null,1,"ng-component",[],null,null,null,Fr,wr)),l.tb(1,4440064,null,0,Sr,[xt.a,Mr,dt.a,ct.a,l.G,l.k],null,null)],function(e,t){e(t,1,0)},null)}var Ar=l.qb("ng-component",Sr,zr,{},{},[]);class Nr{transform(e){return Object.keys(e).map(t=>[t,e[t]])}}const Vr=new l.r("project 1 Topic Consumer Component State"),Br=new l.r("project 1 Topic Producer Component State"),Qr=new l.r("project1 extension consumer topic component"),Hr=new l.r("project1 extension producer topic component");class Wr{constructor(e,t){this.resourceState=e,this._cdr=t,this.initialize()}ngOnInit(){}initialize(){}}var qr=l.sb({encapsulation:0,styles:[["[role=messagesConsumerFieldsGrid][_ngcontent-%COMP%]{background-color:rgba(32,22,22,.1);padding:.2rem;width:100%;margin:10px 0}[role=messagesConsumerFieldsGrid][_ngcontent-%COMP%]   THEAD[_ngcontent-%COMP%] > TR[_ngcontent-%COMP%]{background-color:rgba(83,43,43,.15)}[role=messagesConsumerFieldsGrid][_ngcontent-%COMP%]   TBODY[_ngcontent-%COMP%] > TR[_ngcontent-%COMP%] > TD[_ngcontent-%COMP%]{width:50%}[role=messagesConsumerFieldsGrid][_ngcontent-%COMP%]   TBODY[_ngcontent-%COMP%] > TR[_ngcontent-%COMP%] > TD[_ngcontent-%COMP%]   INPUT[_ngcontent-%COMP%]{width:90%;background-color:rgba(255,255,255,.2);border:none}"]],data:{}});function Ur(e){return l.Qb(0,[(e()(),l.ub(0,0,null,null,5,"tr",[],null,null,null,null,null)),(e()(),l.ub(1,0,null,null,2,"td",[],null,null,null,null,null)),(e()(),l.ub(2,0,null,null,1,"label",[],null,null,null,null,null)),(e()(),l.Ob(3,null,[" "," "])),(e()(),l.ub(4,0,null,null,1,"td",[],null,null,null,null,null)),(e()(),l.ub(5,0,null,null,0,"input",[["readonly",""],["type","text"]],[[8,"value",0]],null,null,null,null))],null,function(e,t){e(t,3,0,t.context.$implicit[0]),e(t,5,0,t.context.$implicit[1])})}function Xr(e){return l.Qb(0,[(e()(),l.ub(0,0,null,null,3,null,null,null,null,null,null,null)),(e()(),l.jb(16777216,null,null,2,null,Ur)),l.tb(2,278528,null,0,g.p,[l.R,l.O,l.u],{ngForOf:[0,"ngForOf"]},null),l.Kb(3,1),(e()(),l.jb(0,null,null,0))],function(e,t){var n=l.Pb(t,2,0,e(t,3,0,l.Gb(t.parent.parent,0),t.context.$implicit.payload.data));e(t,2,0,n)},null)}function Yr(e){return l.Qb(0,[(e()(),l.ub(0,0,null,null,10,null,null,null,null,null,null,null)),(e()(),l.ub(1,0,null,null,9,"table",[["role","messagesConsumerFieldsGrid"]],[[1,"data-messageFormComponent",0],[1,"data-messageStateClassifier",0]],null,null,null,null)),(e()(),l.ub(2,0,null,null,4,"thead",[],null,null,null,null,null)),(e()(),l.ub(3,0,null,null,3,"tr",[],null,null,null,null,null)),(e()(),l.ub(4,0,null,null,1,"th",[["role","messageModelTopicLabel"]],null,null,null,null,null)),(e()(),l.Ob(5,null,["",""])),(e()(),l.ub(6,0,null,null,0,"th",[["role","messageModelStateClassifier"]],[[8,"textContent",0]],null,null,null,null)),(e()(),l.ub(7,0,null,null,3,"tbody",[],null,null,null,null,null)),(e()(),l.jb(16777216,null,null,2,null,Xr)),l.tb(9,16384,null,0,g.q,[l.R,l.O],{ngIf:[0,"ngIf"]},null),l.Ib(131072,g.b,[l.h])],function(e,t){var n=t.component;e(t,9,0,l.Pb(t,9,0,l.Gb(t,10).transform(n.resourceState.socketConnectorRelation.deliveryMessagePublished$)))},function(e,t){var n=t.component;e(t,1,0,n.resourceState.message.form.component,n.resourceState.message.state.classifier),e(t,5,0,n.resourceState.message.topic),e(t,6,0,n.resourceState.message.state.classifier)})}function Kr(e){return l.Qb(2,[l.Ib(0,Nr,[]),(e()(),l.jb(16777216,null,null,2,null,Yr)),l.tb(2,16384,null,0,g.q,[l.R,l.O],{ngIf:[0,"ngIf"]},null),l.Ib(131072,g.b,[l.h])],function(e,t){var n=t.component;e(t,2,0,l.Pb(t,2,0,l.Gb(t,3).transform(n.resourceState.socketConnectorRelation.deliveryMessagePublished$)))},null)}function Jr(e){return l.Qb(0,[(e()(),l.ub(0,0,null,null,1,"nodeflow-asset-default-consumer",[],null,null,null,Kr,qr)),l.tb(1,114688,null,0,Wr,[Vr,l.h],null,null)],function(e,t){e(t,1,0)},null)}var Zr=l.qb("nodeflow-asset-default-consumer",Wr,Jr,{},{},[]),es=n("VRyK"),ts=function(e){return e[e.none=0]="none",e[e.focused=1]="focused",e}({});class ns extends br.a{constructor(e,t,n,l){super(l),this.staticConfigurationList=e,this._templateTransporter=t,this.compResolver=n,this._injector=l,super.initialize()}getSummaryData$(e){return Object(k.a)({response:{entity:{name:"testing"}}})}}const ls={temporalHeightProperty:"tempRowsProp"};class os{constructor(){this.cardWindowRollupState=!1,this.cardWindowRollupStateChange$=new p.a}setViewModel(e){this.linkedViewModel=e}onToggleCardRollup(e){if(this.linkedViewModel){const e=1,t=this.linkedViewModel.nodeModel.view.gridItem;if(t){if(this.cardWindowRollupState=!this.cardWindowRollupState,t.$item.rows===e&&this.cardWindowRollupState)return;this.cardWindowRollupStateChange$.next(this.cardWindowRollupState),this.cardWindowRollupState?(t.$item[ls.temporalHeightProperty]=t.$item.rows,t.$item.rows=e):(t.$item.rows=t.$item[ls.temporalHeightProperty],delete t.$item[ls.temporalHeightProperty]),t.checkItemChanges(t.$item,t.item),t.setSize(!1),t.gridster.calculateLayoutDebounce(),t.itemChanged(),this.linkedViewModel.compositor.updateViewTransition()}}}get isIconVisible(){let e=!1;if(this.linkedViewModel){const t=1,n=this.linkedViewModel.nodeModel.view.gridItem;n.canBeResized()&&(n.$item.rows!==t||n.$item.hasOwnProperty(ls.temporalHeightProperty))&&(e=!0)}return e}}const is={assetTypeIconClassPrefix:"nodeflow-studio-canvas-icon",assetTypeList:n("H89Z"),layout:{selectingClass:{[ts.none]:"selectingState-none",[ts.focused]:"selectingState-focused"},responsiveBreakpoint:{compact:{width:200,height:100}}}};class rs extends dr.a{constructor(e,t,n,l,o,i,r,s,a,u){super(e,i,t,o),this.resourceToken=e,this._outlet=t,this.library=n,this.collapsibleCardWindowProvider=l,this._globalState=o,this._cd=i,this._renderer=r,this._service=s,this._dashboardComponent=a,this._element=u,this.outletMessageDeliveryTopicMap={onLayoutChange:"onRequestCompositorViewLayout"},this.cardMetadata={derived:{}},this.interaction={selecting:ts.none},this._compositorNodeChange$=new p.a,this.prepareTemplate(),this.setupHeaderSection()}get viewModel(){return this._nodeflowCompositorViewModel}get onCompositorNodeChange$(){return this._compositorNodeChange$.asObservable()}get onCardDimensionCompactViewChange$(){return this._cardDimensionCompactResponsiveViewChange$}attachViewModel(e){this._nodeflowCompositorViewModel=e,this._compositorNodeChange$.next(e.nodeModel),this.collapsibleCardWindowProvider.setViewModel(e),this._cd.markForCheck(),this.assemblySubscriptionList.push(Object(es.a)(e.onNodeConsumerRelationsChange$,e.messageConnectivityDelegate.onSocketConnectorRelationCollectionChange()).pipe(te(0)).subscribe(e=>{this.forceViewRelayout()}))}ngOnInit(){super.ngOnInit(),this.initialize()}ngOnDestroy(){this.detachViewModel(),super.ngOnDestroy()}setupHeaderSection(){this._outlet.isHeaderVisible=Boolean(this.library.alias.parameters["card.isHeaderVisible"])||!1,this._outlet.title=this.library.alias.cardI18n["card.title"],this._outlet.titleIconClasses=this.library.alias.parameters["card.iconClassesList"]}onSelectingStateChangeEvent(e){this.interaction.selecting=e?ts.focused:ts.none,this.resourceToken.outlet.activateEnumeratedClass(this.resourceToken.outlet.layoutItemContainerElement,this.interaction.selecting,is.layout.selectingClass)}prepareDataStream(){const e=this._service.streamInitialDataModel(this.resourceToken.card,this._dashboardComponent).pipe(Object(f.a)(e=>e));return this.assemblySubscriptionList.push(e.subscribe(e=>{e.response&&(this.widgetDataEntity=e.response.entity),this.loadedFlag=!0,this.forceViewRelayout(),this.resourceToken.outlet.forceViewRelayout()})),e}setupHeaderTemplateView(){this.headerSection&&this._outlet.headerAfterBlockTemplateContainerRef&&(this.headerEmbeddedViewRef=this._outlet.headerAfterBlockTemplateContainerRef.createEmbeddedView(this.headerSection,{},0))}detachViewModel(){this._compositorNodeChange$.complete()}initialize(){this.initializeSummaryData(),this.importCardMetadata(),this.onSelectingStateChangeEvent(!1),this._cardDimensionCompactResponsiveViewChange$=Object(es.a)(this.collapsibleCardWindowProvider.cardWindowRollupStateChange$,this.createCompactResponsiveViewListener())}initializeSummaryData(){}importCardMetadata(){this.cardMetadata.schema=this.library.alias.parameters.model,this.cardMetadata.businessProvider=this.library.alias.parameters.provider.business;const e=is.assetTypeList.find(e=>e.assetTypeId===this.cardMetadata.businessProvider.assetTypeId);e&&(this.cardMetadata.assetType=e,this.cardMetadata.derived.assetTypeIconClass=[is.assetTypeIconClassPrefix,this.cardMetadata.assetType.iconDecoratorClass].join("-"))}createCompactResponsiveViewListener(){return Object(rt.a)(this.streamCardLayoutDimension("width").pipe(Object(se.a)()),this.streamCardLayoutDimension("height").pipe(Object(se.a)())).pipe(Object(f.a)(e=>e[0]<is.layout.responsiveBreakpoint.compact.width||e[1]<is.layout.responsiveBreakpoint.compact.height),Object(se.a)())}}const ss={types:{stateTypeMap:new Map([["invalid",U.invalid],["valid",U.valid],["unknown",U.unknown]]),stateTypeList:[],stateTypeListChange$:null,stateTypeEnum:U}};class as{constructor(e){this.fb=e,this.types=ss.types,this.messagesForm=this.fb.group({}),this.types.stateTypeList=Array.from(this.types.stateTypeMap),this.types.stateTypeListChange$=new m.a(this.types.stateTypeList),this.refreshInternalModel()}stateTypeClass(e){return{"invalid-state":e===U.invalid,"unknown-state":e===U.unknown,"valid-state":e===U.valid}}findRouteRelationByMessage(e){const t=this._messageConnectivityDelegate.getRouteRelationListByMessage(e);return t.length>1&&console.error("yielded multiple route relations for message. Consider as *inconsistent* form",e.topic,e,t),t.length?t[0]:void 0}isRouteRelationSubscribed(e){return e&&e.connectors.size>0}isRouteRelationDisabled(e){return this.isRouteRelationSubscribed(e)?null:""}setMessageConnectivityDelegate(e){this._messageConnectivityDelegate=e}onSocketConnectorRelationCollectionChange(){this.refreshInternalModel()}refreshInternalModel(){this.types.stateTypeList=Array.from(this.types.stateTypeList),this.types.stateTypeListChange$.next(this.types.stateTypeList)}}const us={form:{privateFieldPrefix:"__",privateFieldPropertyToken:"/",socketConnectorRelationStateTypeControlName:"stateType"}};class cs extends as{constructor(e){super(e),this.fb=e}createViewForm(e){e.producer&&e.producer.messageCollection.size&&e.producer.messageCollection.forEach(t=>{this.messagesForm.addControl(t.form.component,this.createMessagesForm(t,e))})}submitSubform(e,t,n,l){if(l.producer){const o=t.broadcastMessageState$(n,this.buildImmutableState(e,n,l),M.update,this.findStateTypeControl(e,n).value);this.onBroadcastMessage(t,n,l,o,new Date)}e.markAsPristine()}isSubformDisabled(e,t){return!(t.connectors&&t.connectors.size>0&&e.dirty)}isSubformSubmissible(e,t){return t.connectors&&t.connectors.size>0}resetSubform(e,t,n){e.reset(t.state.data)}findStateTypeControl(e,t){return e.get(this.generateSubformInteralControlName("stateType",t))}onBroadcastMessage(e,t,n,l,o){return this.messageBroadcastHistory={publishedDate:o,matchedRouteRelation:e,messageRecord:t,ownerNode:n,deliveryStatus$:l,receivedDate:null},l.subscribe(()=>this.messageBroadcastHistory.receivedDate=new Date),this.messageBroadcastHistory}createMessagesForm(e,t){const n=this.fb.group({});return Object.keys(e.state.data).forEach(t=>{const l=e.state.data[t];n.addControl(t,new h.f(l,null!==l?h.A.required:void 0))}),this.findRouteRelationByMessage(e)||n.disable(),n.addControl(this.generateSubformInteralControlName(us.form.socketConnectorRelationStateTypeControlName,e),new h.f(null,h.A.required)),n}buildImmutableState(e,t,n){const l=t.state.classifier,o=Object.assign({},t.state.data);return Object.keys(o).forEach(t=>{if(e.contains(t)){const n=e.get(t);o[t]=n.value}}),{classifier:l,data:o}}generateSubformInteralControlName(e,t){return us.form.privateFieldPrefix+btoa([t.form.component,e].join(us.form.privateFieldPropertyToken))}}class ds extends as{constructor(e){super(e),this.fb=e}createViewForm(e){e.link&&e.link.consumerSocketCollection.size&&e.link.consumerSocketCollection.forEach(t=>{this.messagesForm.addControl(t.id,this.createSocketRouteRelationReceivableForm(t,e))})}createSocketRouteRelationReceivableForm(e,t){const n=this.fb.group({});return this._messageConnectivityDelegate.getRouteRelationListBySocket(e),n}}var hs=function(e){return e[e.unknown=0]="unknown",e[e.invalid=1]="invalid",e[e.valid=2]="valid",e[e.busy=3]="busy",e}({});const gs={layout:{statusIndicatorClass:{[hs.unknown]:"statusFlag-unknown",[hs.invalid]:"statusFlag-invalid",[hs.valid]:"statusFlag-valid",[hs.busy]:"statusFlag-busy"}},types:{socketConnectorTypeMap:new Map([["input",v.input],["output",v.output]]),socketConnectorTypeList:[],socketConnectorTypeEnum:v}},ms=(()=>{class e extends cr{constructor(t,n,l,o,i,r,s,a){super(t,n,i,r,a),this.resourceToken=t,this.cardAssemblyPlugin=n,this.simulatorProducerFormView=l,this.simulatorConsumerFormView=o,this.types=gs.types,this.viewState={detailsPane:{visible:!0},socketCollectionPane:{visible:!1},messagesFormCollectionPane:{visible:!1},messagesConsumerCollectionPane:{visible:!1}},this.currentStatus=hs.unknown,this.templateOrganization=e.classification.organization,this.viewClassification=new _i.b("presentation","node presentational code")}ngOnInit(){super.ngOnInit(),this.initialize()}onToggleViewPane(e){e.visible=!e.visible}styleNodeSocketClasses(e,t){return{nodeSocketConsumer:e.type===v.input,nodeSocketProducer:e.type===v.output,nodeSocketDisabled:!e.enabled,nodeSocketEmpty:!this.cardAssemblyPlugin.viewModel.messageConnectivityDelegate.isSocketConnected(e),nodeSocketFocusedAction:e.view.state.interaction.selecting===C.focused}}onTogglePreviewSocketConnectorRelationList(e,t,n,l=!0){(null!==n?e.getSocketConnectorRelationListByStateType(n):Array.from(e.connectors)).forEach(e=>this.cardAssemblyPlugin.viewModel.compositor.onSocketConnectorRelationBeforeMovingStateChangeEvent(e,l))}onTogglePreviewSocket(e,t=!0){this.cardAssemblyPlugin.viewModel.compositor.onSocketViewSelectingStateChangeEvent(e,t)}onAnimateSubmitSocketConnectorRelationList(e,t,n){const l=null!==n?e.getSocketConnectorRelationListByStateType(n):Array.from(e.connectors),o=(e,t)=>{l.forEach(t=>{this.cardAssemblyPlugin.viewModel.compositor.onSocketConnectorRelationMessagingStateChangeEvent(t,e)})};[[0,$.none,!1],[50,$.connect,!1],[100,$.transmit,!1],[900,$.none,!0]].forEach(e=>{setTimeout(()=>{o(e[1])},e[0])}),this.onTogglePreviewSocketConnectorRelationList(e,t,n,!1)}updateStatusIndicatorClass(e){this.resourceToken.outlet.activateEnumeratedClass(this.cardAssemblyPlugin.resourceToken.outlet.cardElement,e,gs.layout.statusIndicatorClass)}initialize(){this.types.socketConnectorTypeList=Array.from(this.types.socketConnectorTypeMap),this.templateSubscriptionList.push(this.cardAssemblyPlugin.onCompositorNodeChange$.subscribe(e=>{[this.simulatorProducerFormView,this.simulatorConsumerFormView].map(t=>{t.setMessageConnectivityDelegate(this.cardAssemblyPlugin.viewModel.messageConnectivityDelegate),t.createViewForm(e)})})),this.templateSubscriptionList.push(this.cardAssemblyPlugin.onCardDimensionCompactViewChange$.subscribe(e=>{this.viewState.detailsPane.visible=!e}));const e=[hs.unknown,hs.invalid,hs.valid,hs.busy];this.currentStatus=e[Math.random()*e.length>>0],this.updateStatusIndicatorClass(this.currentStatus)}}return e.classification={organization:new _i.a(zi.a.nodeflow_sample,"nodeflow presentation template")},e})(),ps={validation:{color:{minimum:0,maximum:255}}};class bs{constructor(e,t,n){this.resourceState=e,this.integrator=t,this._cdr=n}ngOnInit(){this.initialize()}showMessageData(e){return this.calculateFillColor(e)}validateMessageData(e){return![e.red,e.green,e.blue].map(e=>Number.isInteger(e)&&e>=ps.validation.color.minimum&&e<=ps.validation.color.maximum).includes(!1)}calculateFillColor(e){return this.toSVGColor(e.red,e.green,e.blue)}calculateStrokeColor(e){return this.toSVGColor(.7*e.red,.7*e.green,.7*e.blue)}toSVGColor(e,t,n,l=1){return[e,t,n]=[e,t,n].map(e=>this.constrain8Bit(e)),1!==l?`rgba( ${e>>0},${t>>0},${n>>0},${l})`:`rgb( ${e>>0},${t>>0},${n>>0})`}constrain8Bit(e){return Math.max(0,Math.min(255,e))}initialize(){this.integrator.cardAssemblyPlugin.viewModel.onNodeConsumerRelationsChange$.subscribe(e=>{})}}var fs=l.sb({encapsulation:0,styles:[["[_nghost-%COMP%]{display:block}[role=canvas][_ngcontent-%COMP%]{width:100px;height:100px;padding:2px;margin:0 auto;display:block}[role=invalidMessageData][_ngcontent-%COMP%]{background:rgba(255,1,1,.2)}"]],data:{}});function Cs(e){return l.Qb(0,[(e()(),l.ub(0,0,null,null,10,null,null,null,null,null,null,null)),(e()(),l.ub(1,0,null,null,0,"b",[],[[8,"textContent",0]],null,null,null,null)),(e()(),l.ub(2,0,null,null,1,":svg:svg",[["role","canvas"],["xmlns","http://www.w3.org/2000/svg"]],null,null,null,null,null)),(e()(),l.ub(3,0,null,null,0,":svg:circle",[["cx","50"],["cy","50"],["r","50"],["stroke-width","3"]],[[1,"fill",0],[1,"stroke",0]],null,null,null,null)),(e()(),l.ub(4,0,null,null,6,"section",[],null,null,null,null,null)),(e()(),l.ub(5,0,null,null,5,"table",[],null,null,null,null,null)),(e()(),l.ub(6,0,null,null,4,"tr",[],null,null,null,null,null)),(e()(),l.ub(7,0,null,null,1,"td",[],null,null,null,null,null)),(e()(),l.Ob(-1,null,[" color "])),(e()(),l.ub(9,0,null,null,1,"td",[],null,null,null,null,null)),(e()(),l.Ob(10,null,[" "," "]))],null,function(e,t){var n=t.component;e(t,1,0,t.parent.context.$implicit.payload.classifier),e(t,3,0,n.calculateFillColor(t.parent.context.$implicit.payload.data),n.calculateStrokeColor(t.parent.context.$implicit.payload.data)),e(t,10,0,n.showMessageData(t.parent.context.$implicit.payload.data))})}function ys(e){return l.Qb(0,[(e()(),l.ub(0,0,null,null,2,"section",[["role","invalidMessageData"]],null,null,null,null,null)),(e()(),l.Ob(1,null,[" Invalid color: "," "])),l.Ib(0,g.j,[])],null,function(e,t){e(t,1,0,l.Pb(t,1,0,l.Gb(t,2).transform(t.parent.context.$implicit.payload.data)))})}function vs(e){return l.Qb(0,[(e()(),l.ub(0,0,null,null,4,null,null,null,null,null,null,null)),(e()(),l.Ob(-1,null,[" Color Streaming "])),(e()(),l.jb(16777216,null,null,1,null,Cs)),l.tb(3,16384,null,0,g.q,[l.R,l.O],{ngIf:[0,"ngIf"],ngIfElse:[1,"ngIfElse"]},null),(e()(),l.jb(0,[["invalidMessageData",2]],null,0,null,ys))],function(e,t){e(t,3,0,t.component.validateMessageData(t.context.$implicit.payload.data),l.Gb(t,4))},null)}function Is(e){return l.Qb(2,[(e()(),l.jb(16777216,null,null,2,null,vs)),l.tb(1,16384,null,0,g.q,[l.R,l.O],{ngIf:[0,"ngIf"]},null),l.Ib(131072,g.b,[l.h])],function(e,t){var n=t.component;e(t,1,0,l.Pb(t,1,0,l.Gb(t,2).transform(n.resourceState.socketConnectorRelation.deliveryMessagePublished$)))},null)}function Os(e){return l.Qb(0,[(e()(),l.ub(0,0,null,null,1,"nodeflow-asset-topics-color-consumer",[],null,null,null,Is,fs)),l.tb(1,114688,null,0,bs,[Vr,ms,l.h],null,null)],function(e,t){e(t,1,0)},null)}var Ms=l.qb("nodeflow-asset-topics-color-consumer",bs,Os,{},{},[]);class Ss{constructor(e,t){this.resourceState=e,this._cdr=t}ngOnInit(){this.initialize()}calculateLinkStateTypeBundledSocketConnectorRelationCount(e,t){return e.getSocketConnectorRelationListByStateType(t).length}initialize(){this.resourceState.integrator.cardAssemblyPlugin.viewModel.onNodeConsumerRelationsChange$.subscribe(e=>{this._cdr.detectChanges()})}}var ws=l.sb({encapsulation:0,styles:[["[_nghost-%COMP%]{display:block}[role=messagesFormFieldsGrid][_ngcontent-%COMP%]{background-color:rgba(32,22,22,.1);padding:.2rem;width:100%}[role=messagesFormFieldsGrid][_ngcontent-%COMP%]   THEAD[_ngcontent-%COMP%] > TR[_ngcontent-%COMP%]{background-color:rgba(83,43,43,.15)}[role=messagesFormFieldsGrid][_ngcontent-%COMP%]   TBODY[_ngcontent-%COMP%] > TR[_ngcontent-%COMP%] > TD[_ngcontent-%COMP%]{width:50%}[role=messagesFormFieldsGrid][_ngcontent-%COMP%]   TBODY[_ngcontent-%COMP%] > TR[_ngcontent-%COMP%] > TD[_ngcontent-%COMP%]   INPUT[_ngcontent-%COMP%]{width:90%;background-color:rgba(255,255,255,.3);border:none;border-bottom:2px solid rgba(0,0,0,.3)}[role=messagesFormFieldsFooter][_ngcontent-%COMP%]{display:flex;padding:1px}[role=messagesFormFieldsFooter][_ngcontent-%COMP%]   SELECT[role=stateType][_ngcontent-%COMP%]   OPTION.default-state[_ngcontent-%COMP%], [role=messagesFormFieldsFooter][_ngcontent-%COMP%]   SELECT[role=stateType].default-state[_ngcontent-%COMP%]{background-color:#fff}[role=messagesFormFieldsFooter][_ngcontent-%COMP%]   SELECT[role=stateType][_ngcontent-%COMP%]   OPTION.invalid-state[_ngcontent-%COMP%], [role=messagesFormFieldsFooter][_ngcontent-%COMP%]   SELECT[role=stateType].invalid-state[_ngcontent-%COMP%]{background-color:#f1c5c1}[role=messagesFormFieldsFooter][_ngcontent-%COMP%]   SELECT[role=stateType][_ngcontent-%COMP%]   OPTION.valid-state[_ngcontent-%COMP%], [role=messagesFormFieldsFooter][_ngcontent-%COMP%]   SELECT[role=stateType].valid-state[_ngcontent-%COMP%]{background-color:#c9eaa4}[role=messagesFormFieldsFooter][_ngcontent-%COMP%]   SELECT[role=stateType][_ngcontent-%COMP%]   OPTION.unknown-state[_ngcontent-%COMP%], [role=messagesFormFieldsFooter][_ngcontent-%COMP%]   SELECT[role=stateType].unknown-state[_ngcontent-%COMP%]{background-color:#d2d3cd}[role=messagesFormFieldsFooter][_ngcontent-%COMP%]   [role=subformActionButtonContainer][_ngcontent-%COMP%]{display:flex;justify-content:flex-end;flex:1}[role=messagesFormFieldsFooter][_ngcontent-%COMP%]   [role=subformActionButtonContainer][_ngcontent-%COMP%]   BUTTON[_ngcontent-%COMP%]{padding:1px;border-radius:3px}[role=messagesFormFieldsFooter][_ngcontent-%COMP%]   [role=subformActionButtonContainer][_ngcontent-%COMP%]   BUTTON.subformSubmit[_ngcontent-%COMP%]:hover{border-color:#78788c}[role=messagesFormFieldsFooter][_ngcontent-%COMP%]   [role=subformActionButtonContainer][_ngcontent-%COMP%]   BUTTON[_ngcontent-%COMP%]:hover{background-color:rgba(255,255,255,.5)}[role=messagesFormFieldsFooter][_ngcontent-%COMP%]   [role=subformActionButtonContainer][_ngcontent-%COMP%]   BUTTON[disabled][_ngcontent-%COMP%]{opacity:.5;cursor:not-allowed}[role=messagesFormFieldsFooter][_ngcontent-%COMP%]   [role=subformActionButtonContainer][disabled][_ngcontent-%COMP%]{background-color:rgba(0,0,0,.2)}[role=messagesFormFieldsFooter][_ngcontent-%COMP%]   [role=mesasgeBroadcastStatus][_ngcontent-%COMP%]{align-self:center;text-align:center;flex:1}[role=messagesFormFieldsFooter][_ngcontent-%COMP%]   [role=mesasgeBroadcastStatus][_ngcontent-%COMP%]   .delivered[_ngcontent-%COMP%]{color:green}[role=messagesFormFieldsFooter][_ngcontent-%COMP%]   [role=mesasgeBroadcastStatus][_ngcontent-%COMP%]   .undelivered[_ngcontent-%COMP%]{color:red}"]],data:{}});function ks(e){return l.Qb(0,[(e()(),l.ub(0,0,null,null,10,"tr",[],[[1,"role",0]],null,null,null,null)),(e()(),l.ub(1,0,null,null,2,"td",[],null,null,null,null,null)),(e()(),l.ub(2,0,null,null,1,"label",[],null,null,null,null,null)),(e()(),l.Ob(3,null,[" "," "])),(e()(),l.ub(4,0,null,null,6,"td",[],null,null,null,null,null)),(e()(),l.ub(5,0,null,null,5,"input",[["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(e,t,n){var o=!0;return"input"===t&&(o=!1!==l.Gb(e,6)._handleInput(n.target.value)&&o),"blur"===t&&(o=!1!==l.Gb(e,6).onTouched()&&o),"compositionstart"===t&&(o=!1!==l.Gb(e,6)._compositionStart()&&o),"compositionend"===t&&(o=!1!==l.Gb(e,6)._compositionEnd(n.target.value)&&o),o},null,null)),l.tb(6,16384,null,0,h.d,[l.G,l.k,[2,h.a]],null,null),l.Lb(1024,null,h.m,function(e){return[e]},[h.d]),l.tb(8,540672,null,0,h.g,[[8,null],[8,null],[6,h.m],[2,h.D]],{form:[0,"form"]},null),l.Lb(2048,null,h.n,null,[h.g]),l.tb(10,16384,null,0,h.o,[[4,h.n]],null,null)],function(e,t){var n=t.parent.context.ngIf.get(t.context.$implicit[0]);e(t,8,0,n)},function(e,t){e(t,0,0,t.component.resourceState.message.form.component),e(t,3,0,t.context.$implicit[0]),e(t,5,0,l.Gb(t,10).ngClassUntouched,l.Gb(t,10).ngClassTouched,l.Gb(t,10).ngClassPristine,l.Gb(t,10).ngClassDirty,l.Gb(t,10).ngClassValid,l.Gb(t,10).ngClassInvalid,l.Gb(t,10).ngClassPending)})}function Ts(e){return l.Qb(0,[(e()(),l.ub(0,0,null,null,5,"option",[],null,null,null,null,null)),l.Lb(512,null,g.G,g.H,[l.u,l.v,l.k,l.G]),l.tb(2,278528,null,0,g.n,[g.G],{ngClass:[0,"ngClass"]},null),l.tb(3,147456,null,0,h.t,[l.k,l.G,[2,h.y]],{ngValue:[0,"ngValue"]},null),l.tb(4,147456,null,0,h.E,[l.k,l.G,[8,null]],{ngValue:[0,"ngValue"]},null),(e()(),l.Ob(5,null,[" "," : subset type - (",") "]))],function(e,t){e(t,2,0,t.component.resourceState.integrator.simulatorProducerFormView.stateTypeClass(t.parent.context.$implicit[1])),e(t,3,0,t.parent.context.$implicit[1]),e(t,4,0,t.parent.context.$implicit[1])},function(e,t){e(t,5,0,t.parent.context.$implicit[0],t.context.$implicit)})}function Ps(e){return l.Qb(0,[(e()(),l.ub(0,0,null,null,2,null,null,null,null,null,null,null)),(e()(),l.jb(16777216,null,null,1,null,Ts)),l.tb(2,16384,null,0,g.q,[l.R,l.O],{ngIf:[0,"ngIf"]},null),(e()(),l.jb(0,null,null,0))],function(e,t){e(t,2,0,t.component.calculateLinkStateTypeBundledSocketConnectorRelationCount(t.parent.parent.context.ngIf,t.context.$implicit[1]))},null)}function xs(e){return l.Qb(0,[(e()(),l.ub(0,0,null,null,15,null,null,null,null,null,null,null)),(e()(),l.ub(1,0,null,null,14,"select",[["role","stateType"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"change"],[null,"blur"]],function(e,t,n){var o=!0;return"change"===t&&(o=!1!==l.Gb(e,4).onChange(n.target.value)&&o),"blur"===t&&(o=!1!==l.Gb(e,4).onTouched()&&o),o},null,null)),l.Lb(512,null,g.G,g.H,[l.u,l.v,l.k,l.G]),l.tb(3,278528,null,0,g.n,[g.G],{ngClass:[0,"ngClass"]},null),l.tb(4,16384,null,0,h.y,[l.G,l.k],null,null),l.Lb(1024,null,h.m,function(e){return[e]},[h.y]),l.tb(6,540672,null,0,h.g,[[8,null],[8,null],[6,h.m],[2,h.D]],{form:[0,"form"]},null),l.Lb(2048,null,h.n,null,[h.g]),l.tb(8,16384,null,0,h.o,[[4,h.n]],null,null),(e()(),l.ub(9,0,null,null,3,"option",[["class","default-state"]],null,null,null,null,null)),l.tb(10,147456,null,0,h.t,[l.k,l.G,[2,h.y]],{ngValue:[0,"ngValue"]},null),l.tb(11,147456,null,0,h.E,[l.k,l.G,[8,null]],{ngValue:[0,"ngValue"]},null),(e()(),l.Ob(12,null,[" All linked types - (",") "])),(e()(),l.jb(16777216,null,null,2,null,Ps)),l.tb(14,278528,null,0,g.p,[l.R,l.O,l.u],{ngForOf:[0,"ngForOf"]},null),l.Ib(131072,g.b,[l.h])],function(e,t){var n=t.component;e(t,3,0,n.resourceState.integrator.simulatorProducerFormView.stateTypeClass(n.resourceState.integrator.simulatorProducerFormView.findStateTypeControl(t.parent.parent.context.ngIf,n.resourceState.message).value)),e(t,6,0,n.resourceState.integrator.simulatorProducerFormView.findStateTypeControl(t.parent.parent.context.ngIf,n.resourceState.message)),e(t,10,0,null),e(t,11,0,null),e(t,14,0,l.Pb(t,14,0,l.Gb(t,15).transform(n.resourceState.integrator.simulatorProducerFormView.types.stateTypeListChange$)))},function(e,t){e(t,1,0,l.Gb(t,8).ngClassUntouched,l.Gb(t,8).ngClassTouched,l.Gb(t,8).ngClassPristine,l.Gb(t,8).ngClassDirty,l.Gb(t,8).ngClassValid,l.Gb(t,8).ngClassInvalid,l.Gb(t,8).ngClassPending),e(t,12,0,t.parent.context.ngIf.connectors.size)})}function _s(e){return l.Qb(0,[(e()(),l.Ob(-1,null,[" No connectors listening "]))],null,null)}function Rs(e){return l.Qb(0,[(e()(),l.ub(0,0,null,null,1,"span",[["class","delivered"]],null,null,null,null,null)),(e()(),l.Ob(-1,null,["\u2714"]))],null,null)}function Es(e){return l.Qb(0,[(e()(),l.ub(0,0,null,null,1,"span",[["class","undelivered"]],null,null,null,null,null)),(e()(),l.Ob(-1,null,["\u2716"]))],null,null)}function Ls(e){return l.Qb(0,[(e()(),l.ub(0,0,null,null,9,"section",[["role","mesasgeBroadcastStatus"]],null,null,null,null,null)),(e()(),l.Ob(1,null,[" "," "])),l.Kb(2,2),(e()(),l.ub(3,0,null,null,6,null,null,null,null,null,null,null)),l.tb(4,16384,null,0,g.t,[],{ngSwitch:[0,"ngSwitch"]},null),l.Ib(131072,g.b,[l.h]),(e()(),l.jb(16777216,null,null,1,null,Rs)),l.tb(7,278528,null,0,g.u,[l.R,l.O,g.t],{ngSwitchCase:[0,"ngSwitchCase"]},null),(e()(),l.jb(16777216,null,null,1,null,Es)),l.tb(9,278528,null,0,g.u,[l.R,l.O,g.t],{ngSwitchCase:[0,"ngSwitchCase"]},null)],function(e,t){e(t,4,0,l.Pb(t,4,0,l.Gb(t,5).transform(t.context.ngIf.deliveryStatus$))),e(t,7,0,!0),e(t,9,0,!1)},function(e,t){var n=l.Pb(t,1,0,e(t,2,0,l.Gb(t.parent.parent.parent,1),t.context.ngIf.receivedDate,"hh:mm:ss"));e(t,1,0,n)})}function Gs(e){return l.Qb(0,[(e()(),l.ub(0,0,null,null,9,null,null,null,null,null,null,null)),(e()(),l.ub(1,0,null,null,8,"section",[["role","messagesFormFieldsFooter"]],[[1,"disabled",0]],null,null,null,null)),(e()(),l.jb(16777216,null,null,1,null,xs)),l.tb(3,16384,null,0,g.q,[l.R,l.O],{ngIf:[0,"ngIf"],ngIfElse:[1,"ngIfElse"]},null),(e()(),l.jb(0,[["unpairedSocketConnectors",2]],null,0,null,_s)),(e()(),l.jb(16777216,null,null,1,null,Ls)),l.tb(6,16384,null,0,g.q,[l.R,l.O],{ngIf:[0,"ngIf"]},null),(e()(),l.ub(7,0,null,null,2,"section",[["role","subformActionButtonContainer"]],null,null,null,null,null)),(e()(),l.ub(8,0,null,null,0,"button",[["class","subformSubmit"]],[[8,"hidden",0],[8,"disabled",0],[8,"textContent",0]],[[null,"mouseover"],[null,"mouseout"],[null,"click"]],function(e,t,n){var l=!0,o=e.component;return"mouseover"===t&&(l=!1!==o.resourceState.integrator.onTogglePreviewSocketConnectorRelationList(e.context.ngIf,o.resourceState.message,o.resourceState.integrator.simulatorProducerFormView.findStateTypeControl(e.parent.context.ngIf,o.resourceState.message).value,!0)&&l),"mouseout"===t&&(l=!1!==o.resourceState.integrator.onTogglePreviewSocketConnectorRelationList(e.context.ngIf,o.resourceState.message,o.resourceState.integrator.simulatorProducerFormView.findStateTypeControl(e.parent.context.ngIf,o.resourceState.message).value,!1)&&l),"click"===t&&(o.resourceState.integrator.onAnimateSubmitSocketConnectorRelationList(e.context.ngIf,o.resourceState.message,o.resourceState.integrator.simulatorProducerFormView.findStateTypeControl(e.parent.context.ngIf,o.resourceState.message).value),l=!1!==o.resourceState.integrator.simulatorProducerFormView.submitSubform(e.parent.context.ngIf,e.context.ngIf,o.resourceState.message,o.resourceState.nodeModel)&&l),l},null,null)),(e()(),l.ub(9,0,null,null,0,"button",[["class","subformUndo"]],[[8,"disabled",0],[8,"textContent",0]],[[null,"click"]],function(e,t,n){var l=!0,o=e.component;return"click"===t&&(l=!1!==o.resourceState.integrator.simulatorProducerFormView.resetSubform(e.parent.context.ngIf,o.resourceState.message,o.resourceState.nodeModel)&&l),l},null,null))],function(e,t){var n=t.component;e(t,3,0,t.context.ngIf.connectors.size,l.Gb(t,4)),e(t,6,0,null==n.resourceState.integrator.simulatorProducerFormView?null:n.resourceState.integrator.simulatorProducerFormView.messageBroadcastHistory)},function(e,t){var n=t.component;e(t,1,0,n.resourceState.integrator.simulatorProducerFormView.isRouteRelationDisabled(t.context.ngIf)),e(t,8,0,!n.resourceState.integrator.simulatorProducerFormView.isSubformSubmissible(t.parent.context.ngIf,t.context.ngIf),n.resourceState.integrator.simulatorProducerFormView.isSubformDisabled(t.parent.context.ngIf,t.context.ngIf),"Send"),e(t,9,0,!t.parent.context.ngIf.dirty,"Undo")})}function Ds(e){return l.Qb(0,[(e()(),l.Ob(0,null,[' No route relation associated for "','" ']))],null,function(e,t){e(t,0,0,t.component.resourceState.message.topic)})}function js(e){return l.Qb(0,[(e()(),l.ub(0,0,null,null,16,null,null,null,null,null,null,null)),(e()(),l.ub(1,0,null,null,12,"table",[["role","messagesFormFieldsGrid"]],[[1,"data-messageFormComponent",0],[1,"data-messageStateClassifier",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"submit"],[null,"reset"]],function(e,t,n){var o=!0;return"submit"===t&&(o=!1!==l.Gb(e,2).onSubmit(n)&&o),"reset"===t&&(o=!1!==l.Gb(e,2).onReset()&&o),o},null,null)),l.tb(2,540672,null,0,h.j,[[8,null],[8,null]],{form:[0,"form"]},null),l.Lb(2048,null,h.c,null,[h.j]),l.tb(4,16384,null,0,h.p,[[4,h.c]],null,null),(e()(),l.ub(5,0,null,null,4,"thead",[],null,null,null,null,null)),(e()(),l.ub(6,0,null,null,3,"tr",[],null,null,null,null,null)),(e()(),l.ub(7,0,null,null,1,"th",[["role","messageModelTopicLabel"]],null,null,null,null,null)),(e()(),l.Ob(8,null,["",""])),(e()(),l.ub(9,0,null,null,0,"th",[["role","messageModelStateClassifier"]],[[8,"textContent",0]],null,null,null,null)),(e()(),l.ub(10,0,null,null,3,"tbody",[],null,null,null,null,null)),(e()(),l.jb(16777216,null,null,2,null,ks)),l.tb(12,278528,null,0,g.p,[l.R,l.O,l.u],{ngForOf:[0,"ngForOf"]},null),l.Kb(13,1),(e()(),l.jb(16777216,null,null,1,null,Gs)),l.tb(15,16384,null,0,g.q,[l.R,l.O],{ngIf:[0,"ngIf"],ngIfElse:[1,"ngIfElse"]},null),(e()(),l.jb(0,[["missingRouteRelation",2]],null,0,null,Ds))],function(e,t){var n=t.component;e(t,2,0,t.context.ngIf);var o=l.Pb(t,12,0,e(t,13,0,l.Gb(t.parent,0),n.resourceState.message.state.data));e(t,12,0,o),e(t,15,0,n.resourceState.integrator.simulatorProducerFormView.findRouteRelationByMessage(n.resourceState.message),l.Gb(t,16))},function(e,t){var n=t.component;e(t,1,0,n.resourceState.message.form.component,n.resourceState.message.state.classifier,l.Gb(t,4).ngClassUntouched,l.Gb(t,4).ngClassTouched,l.Gb(t,4).ngClassPristine,l.Gb(t,4).ngClassDirty,l.Gb(t,4).ngClassValid,l.Gb(t,4).ngClassInvalid,l.Gb(t,4).ngClassPending),e(t,8,0,n.resourceState.message.topic),e(t,9,0,n.resourceState.message.state.classifier)})}function $s(e){return l.Qb(2,[l.Ib(0,Nr,[]),l.Ib(0,g.e,[l.w]),(e()(),l.jb(16777216,null,null,1,null,js)),l.tb(3,16384,null,0,g.q,[l.R,l.O],{ngIf:[0,"ngIf"]},null)],function(e,t){var n=t.component;e(t,3,0,n.resourceState.integrator.simulatorProducerFormView.messagesForm.get(n.resourceState.message.form.component))},null)}function Fs(e){return l.Qb(0,[(e()(),l.ub(0,0,null,null,1,"nodeflow-asset-default-producer",[],null,null,null,$s,ws)),l.tb(1,114688,null,0,Ss,[Br,l.h],null,null)],function(e,t){e(t,1,0)},null)}var zs=l.qb("nodeflow-asset-default-producer",Ss,Fs,{},{},[]),As=n("HDdC"),Ns=n("DH7j");function Vs(e){const{subscriber:t,counter:n,period:l}=e;t.next(n),this.schedule({subscriber:t,counter:n+1,period:l},l)}var Bs=n("eIep"),Qs=function(e){return e.randomized="randomized",e.brighten="brighten",e.darken="darken",e}({});const Hs={stream:{debounce:100},ranges:{minimum:0,maximum:255},fields:["red","green","blue"],emitter:{form:{active:!1,interval:1e3,strategyType:Qs.randomized}},types:{emitterPatternTypeMap:new Map([[Qs.randomized.toString(),Qs.randomized],[Qs.brighten.toString(),Qs.brighten],[Qs.darken.toString(),Qs.darken]]),emitterPatternTypeList:[],emitterPatternTypeEnum:Qs}};class Ws{constructor(e,t,n){this.resourceState=e,this.fb=t,this._cdr=n,this.periodicEmitterCycleCount=0,this.emitterEngineStart$=new p.a,this.emitterEngineStop$=new p.a,this.types=Hs.types,this.types.emitterPatternTypeList=Array.from(this.types.emitterPatternTypeMap)}ngOnInit(){this.initialize()}calculateLinkStateTypeBundledSocketConnectorRelationCount(e,t){return e.getSocketConnectorRelationListByStateType(t).length}convertToHexColor(e,t){const n=[0,0,0];return n[{red:0,green:1,blue:2}[e]]=t,`rgb(${n})`}isControlAttributeHidden(e){return null===e.value||void 0===e||null}initialize(){this.createEmitterSubform();const e=this.resourceState.integrator.simulatorProducerFormView.messagesForm.get(this.resourceState.message.form.component);e&&Hs.fields.forEach(t=>{const n=e.get(t);n&&(n.setValidators([h.A.max(Hs.ranges.maximum),h.A.min(Hs.ranges.minimum)]),n.valueChanges.pipe(Object(se.a)(),te(Hs.stream.debounce)).subscribe(()=>this.deliverSubformState(e)))}),this.resourceState.integrator.cardAssemblyPlugin.viewModel.onNodeConsumerRelationsChange$.subscribe(e=>{this._cdr.detectChanges()})}deliverSubformState(e){const t=this.resourceState.message,n=this.resourceState.integrator.simulatorProducerFormView.findRouteRelationByMessage(t);n&&n.connectors.size&&(this.resourceState.integrator.onAnimateSubmitSocketConnectorRelationList(n,t,this.resourceState.integrator.simulatorProducerFormView.findStateTypeControl(e,t).value),this.resourceState.integrator.simulatorProducerFormView.submitSubform(e,n,t,this.resourceState.nodeModel))}createEmitterSubform(){this.emitterForm=this.fb.group({active:[Hs.emitter.form.active,[]],interval:[Hs.emitter.form.interval,[]],strategyType:[Hs.emitter.form.strategyType,[]]}),this.emitterForm.get("active").valueChanges.pipe(Object(se.a)()).subscribe(e=>{e?(this.createEmitterEngine(),this.emitterEngineStart$.next()):this.emitterEngineStop$.next()}),this.periodicEmitterIntervalChange$=this.emitterForm.get("interval").valueChanges.pipe(Object(se.a)())}createEmitterEngine(){this.periodicEmitter$=Object(es.a)(this.emitterEngineStart$,this.periodicEmitterIntervalChange$).pipe(Object(Bs.a)(()=>(function(e=0,t=ee.a){var n;return n=e,(Object(Ns.a)(n)||!(n-parseFloat(n)+1>=0)||e<0)&&(e=0),t&&"function"==typeof t.schedule||(t=ee.a),new As.a(n=>(n.add(t.schedule(Vs,e,{subscriber:n,counter:0,period:e})),n))})(this.emitterForm.get("interval").value)),ye(this.emitterEngineStop$)),this.periodicEmitter$.subscribe(e=>this.applyEmitterControlPhase())}applyEmitterControlPhase(){const e=this.resourceState.integrator.simulatorProducerFormView.messagesForm.get(this.resourceState.message.form.component);if(e)switch(this.emitterForm.get("strategyType").value){case Qs.randomized:Hs.fields.forEach(t=>{e.get(t).setValue(((e,t)=>Math.floor(Math.random()*(t-e+1))+e)(Hs.ranges.minimum,Hs.ranges.maximum))}),this.periodicEmitterCycleCount++}this._cdr.markForCheck()}}var qs=l.sb({encapsulation:0,styles:[['[_nghost-%COMP%]{display:block}[role=messagesFormFieldsGrid][_ngcontent-%COMP%]{background-color:rgba(90,80,95,.25);padding:.2rem;width:100%}[role=messagesFormFieldsGrid][_ngcontent-%COMP%]   THEAD[_ngcontent-%COMP%] > TR[_ngcontent-%COMP%]{background-color:rgba(83,43,43,.15)}[role=messagesFormFieldsGrid][_ngcontent-%COMP%]   TBODY[_ngcontent-%COMP%] > TR[_ngcontent-%COMP%] > TD[_ngcontent-%COMP%]{width:50%}[role=messagesFormFieldsGrid][_ngcontent-%COMP%]   TBODY[_ngcontent-%COMP%] > TR[_ngcontent-%COMP%] > TD[_ngcontent-%COMP%]   [role=control][_ngcontent-%COMP%]   SECTION[_ngcontent-%COMP%]{display:inline-flex;padding:2px}[role=messagesFormFieldsGrid][_ngcontent-%COMP%]   TBODY[_ngcontent-%COMP%] > TR[_ngcontent-%COMP%] > TD[_ngcontent-%COMP%]   [role=control][_ngcontent-%COMP%]   SECTION[_ngcontent-%COMP%]   INPUT[_ngcontent-%COMP%]{background-color:rgba(255,255,255,.3);border:none;border-bottom:2px solid rgba(0,0,0,.3)}[role=messagesFormFieldsGrid][_ngcontent-%COMP%]   TBODY[_ngcontent-%COMP%] > TR[_ngcontent-%COMP%] > TD[_ngcontent-%COMP%]   [role=control][_ngcontent-%COMP%]   SECTION[_ngcontent-%COMP%]   [role=colorDrop][_ngcontent-%COMP%]{display:inline-block;border-radius:.5rem;border:1px solid rgba(0,0,0,.4);color:#fff;margin-left:.2rem;text-align:center;width:4ch}[role=messagesFormFieldsGrid][_ngcontent-%COMP%]   TBODY[_ngcontent-%COMP%] > TR[_ngcontent-%COMP%] > TD[_ngcontent-%COMP%]   [role=control][_ngcontent-%COMP%]   SECTION[_ngcontent-%COMP%]   [role=colorDrop][_ngcontent-%COMP%]::after{content:"%"}[role=messagesFormFieldsGrid][_ngcontent-%COMP%]   [role=emitterFormGroup][_ngcontent-%COMP%]   INPUT[name=emitterIntervalRange][_ngcontent-%COMP%]{background:rgba(1,1,1,.3)}[role=messagesFormFieldsFooter][_ngcontent-%COMP%]{display:flex;padding:1px}[role=messagesFormFieldsFooter][_ngcontent-%COMP%]   SELECT[role=stateType][_ngcontent-%COMP%]   OPTION.default-state[_ngcontent-%COMP%], [role=messagesFormFieldsFooter][_ngcontent-%COMP%]   SELECT[role=stateType].default-state[_ngcontent-%COMP%]{background-color:#fff}[role=messagesFormFieldsFooter][_ngcontent-%COMP%]   SELECT[role=stateType][_ngcontent-%COMP%]   OPTION.invalid-state[_ngcontent-%COMP%], [role=messagesFormFieldsFooter][_ngcontent-%COMP%]   SELECT[role=stateType].invalid-state[_ngcontent-%COMP%]{background-color:#f1c5c1}[role=messagesFormFieldsFooter][_ngcontent-%COMP%]   SELECT[role=stateType][_ngcontent-%COMP%]   OPTION.valid-state[_ngcontent-%COMP%], [role=messagesFormFieldsFooter][_ngcontent-%COMP%]   SELECT[role=stateType].valid-state[_ngcontent-%COMP%]{background-color:#c9eaa4}[role=messagesFormFieldsFooter][_ngcontent-%COMP%]   SELECT[role=stateType][_ngcontent-%COMP%]   OPTION.unknown-state[_ngcontent-%COMP%], [role=messagesFormFieldsFooter][_ngcontent-%COMP%]   SELECT[role=stateType].unknown-state[_ngcontent-%COMP%]{background-color:#d2d3cd}[role=messagesFormFieldsFooter][_ngcontent-%COMP%]   [role=subformActionButtonContainer][_ngcontent-%COMP%]{display:flex;justify-content:flex-end;flex:1}[role=messagesFormFieldsFooter][_ngcontent-%COMP%]   [role=subformActionButtonContainer][_ngcontent-%COMP%]   BUTTON[_ngcontent-%COMP%]{padding:1px;border-radius:3px}[role=messagesFormFieldsFooter][_ngcontent-%COMP%]   [role=subformActionButtonContainer][_ngcontent-%COMP%]   BUTTON.subformSubmit[_ngcontent-%COMP%]:hover{border-color:#78788c}[role=messagesFormFieldsFooter][_ngcontent-%COMP%]   [role=subformActionButtonContainer][_ngcontent-%COMP%]   BUTTON[_ngcontent-%COMP%]:hover{background-color:rgba(255,255,255,.5)}[role=messagesFormFieldsFooter][_ngcontent-%COMP%]   [role=subformActionButtonContainer][_ngcontent-%COMP%]   BUTTON[disabled][_ngcontent-%COMP%]{opacity:.5;cursor:not-allowed}[role=messagesFormFieldsFooter][disabled][_ngcontent-%COMP%]{background-color:rgba(0,0,0,.2)}']],data:{}});function Us(e){return l.Qb(0,[(e()(),l.ub(0,0,null,null,5,"option",[],null,null,null,null,null)),l.Lb(512,null,g.G,g.H,[l.u,l.v,l.k,l.G]),l.tb(2,278528,null,0,g.n,[g.G],{ngClass:[0,"ngClass"]},null),l.tb(3,147456,null,0,h.t,[l.k,l.G,[2,h.y]],{ngValue:[0,"ngValue"]},null),l.tb(4,147456,null,0,h.E,[l.k,l.G,[8,null]],{ngValue:[0,"ngValue"]},null),(e()(),l.Ob(5,null,[" "," : subset type - (",") "]))],function(e,t){e(t,2,0,t.component.resourceState.integrator.simulatorProducerFormView.stateTypeClass(t.parent.context.$implicit[1])),e(t,3,0,t.parent.context.$implicit[1]),e(t,4,0,t.parent.context.$implicit[1])},function(e,t){e(t,5,0,t.parent.context.$implicit[0],t.context.$implicit)})}function Xs(e){return l.Qb(0,[(e()(),l.ub(0,0,null,null,2,null,null,null,null,null,null,null)),(e()(),l.jb(16777216,null,null,1,null,Us)),l.tb(2,16384,null,0,g.q,[l.R,l.O],{ngIf:[0,"ngIf"]},null),(e()(),l.jb(0,null,null,0))],function(e,t){e(t,2,0,t.component.calculateLinkStateTypeBundledSocketConnectorRelationCount(t.parent.parent.context.ngIf,t.context.$implicit[1]))},null)}function Ys(e){return l.Qb(0,[(e()(),l.ub(0,0,null,null,15,null,null,null,null,null,null,null)),(e()(),l.ub(1,0,null,null,14,"select",[["role","stateType"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"change"],[null,"blur"]],function(e,t,n){var o=!0;return"change"===t&&(o=!1!==l.Gb(e,4).onChange(n.target.value)&&o),"blur"===t&&(o=!1!==l.Gb(e,4).onTouched()&&o),o},null,null)),l.Lb(512,null,g.G,g.H,[l.u,l.v,l.k,l.G]),l.tb(3,278528,null,0,g.n,[g.G],{ngClass:[0,"ngClass"]},null),l.tb(4,16384,null,0,h.y,[l.G,l.k],null,null),l.Lb(1024,null,h.m,function(e){return[e]},[h.y]),l.tb(6,540672,null,0,h.g,[[8,null],[8,null],[6,h.m],[2,h.D]],{form:[0,"form"]},null),l.Lb(2048,null,h.n,null,[h.g]),l.tb(8,16384,null,0,h.o,[[4,h.n]],null,null),(e()(),l.ub(9,0,null,null,3,"option",[["class","default-state"]],null,null,null,null,null)),l.tb(10,147456,null,0,h.t,[l.k,l.G,[2,h.y]],{ngValue:[0,"ngValue"]},null),l.tb(11,147456,null,0,h.E,[l.k,l.G,[8,null]],{ngValue:[0,"ngValue"]},null),(e()(),l.Ob(12,null,[" All linked types - (",") "])),(e()(),l.jb(16777216,null,null,2,null,Xs)),l.tb(14,278528,null,0,g.p,[l.R,l.O,l.u],{ngForOf:[0,"ngForOf"]},null),l.Ib(131072,g.b,[l.h])],function(e,t){var n=t.component;e(t,3,0,n.resourceState.integrator.simulatorProducerFormView.stateTypeClass(n.resourceState.integrator.simulatorProducerFormView.findStateTypeControl(t.parent.parent.context.ngIf,n.resourceState.message).value)),e(t,6,0,n.resourceState.integrator.simulatorProducerFormView.findStateTypeControl(t.parent.parent.context.ngIf,n.resourceState.message)),e(t,10,0,null),e(t,11,0,null),e(t,14,0,l.Pb(t,14,0,l.Gb(t,15).transform(n.resourceState.integrator.simulatorProducerFormView.types.stateTypeListChange$)))},function(e,t){e(t,1,0,l.Gb(t,8).ngClassUntouched,l.Gb(t,8).ngClassTouched,l.Gb(t,8).ngClassPristine,l.Gb(t,8).ngClassDirty,l.Gb(t,8).ngClassValid,l.Gb(t,8).ngClassInvalid,l.Gb(t,8).ngClassPending),e(t,12,0,t.parent.context.ngIf.connectors.size)})}function Ks(e){return l.Qb(0,[(e()(),l.Ob(-1,null,[" No connectors listening "]))],null,null)}function Js(e){return l.Qb(0,[(e()(),l.ub(0,0,null,null,4,null,null,null,null,null,null,null)),(e()(),l.ub(1,0,null,null,3,"section",[["role","messagesFormFieldsFooter"]],[[1,"disabled",0]],null,null,null,null)),(e()(),l.jb(16777216,null,null,1,null,Ys)),l.tb(3,16384,null,0,g.q,[l.R,l.O],{ngIf:[0,"ngIf"],ngIfElse:[1,"ngIfElse"]},null),(e()(),l.jb(0,[["unpairedSocketConnectors",2]],null,0,null,Ks))],function(e,t){e(t,3,0,t.context.ngIf.connectors.size,l.Gb(t,4))},function(e,t){e(t,1,0,t.component.resourceState.integrator.simulatorProducerFormView.isRouteRelationDisabled(t.context.ngIf))})}function Zs(e){return l.Qb(0,[(e()(),l.Ob(0,null,[' No route relation associated for "','" ']))],null,function(e,t){e(t,0,0,t.component.resourceState.message.topic)})}function ea(e){return l.Qb(0,[(e()(),l.ub(0,0,null,null,19,null,null,null,null,null,null,null)),(e()(),l.ub(1,0,null,null,15,"table",[["role","messagesFormFieldsGrid"]],[[1,"data-messageFormComponent",0],[1,"data-messageStateClassifier",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"submit"],[null,"reset"]],function(e,t,n){var o=!0;return"submit"===t&&(o=!1!==l.Gb(e,2).onSubmit(n)&&o),"reset"===t&&(o=!1!==l.Gb(e,2).onReset()&&o),o},null,null)),l.tb(2,540672,null,0,h.j,[[8,null],[8,null]],{form:[0,"form"]},null),l.Lb(2048,null,h.c,null,[h.j]),l.tb(4,16384,null,0,h.p,[[4,h.c]],null,null),(e()(),l.ub(5,0,null,null,4,"thead",[],null,null,null,null,null)),(e()(),l.ub(6,0,null,null,3,"tr",[],null,null,null,null,null)),(e()(),l.ub(7,0,null,null,1,"th",[["role","messageModelTopicLabel"]],null,null,null,null,null)),(e()(),l.Ob(8,null,["",""])),(e()(),l.ub(9,0,null,null,0,"th",[["role","messageModelStateClassifier"]],[[8,"textContent",0]],null,null,null,null)),(e()(),l.ub(10,0,null,null,6,"tbody",[],null,null,null,null,null)),(e()(),l.ub(11,16777216,null,null,2,null,null,null,null,null,null,null)),l.tb(12,540672,null,0,g.v,[l.R],{ngTemplateOutletContext:[0,"ngTemplateOutletContext"],ngTemplateOutlet:[1,"ngTemplateOutlet"]},null),l.Jb(13,{$implicit:0}),(e()(),l.ub(14,16777216,null,null,2,null,null,null,null,null,null,null)),l.tb(15,540672,null,0,g.v,[l.R],{ngTemplateOutletContext:[0,"ngTemplateOutletContext"],ngTemplateOutlet:[1,"ngTemplateOutlet"]},null),l.Jb(16,{$implicit:0}),(e()(),l.jb(16777216,null,null,1,null,Js)),l.tb(18,16384,null,0,g.q,[l.R,l.O],{ngIf:[0,"ngIf"],ngIfElse:[1,"ngIfElse"]},null),(e()(),l.jb(0,[["missingRouteRelation",2]],null,0,null,Zs))],function(e,t){var n=t.component;e(t,2,0,t.context.ngIf);var o=e(t,13,0,t.context.ngIf);e(t,12,0,o,l.Gb(t.parent,6));var i=e(t,16,0,t.context.ngIf);e(t,15,0,i,l.Gb(t.parent,7)),e(t,18,0,n.resourceState.integrator.simulatorProducerFormView.findRouteRelationByMessage(n.resourceState.message),l.Gb(t,19))},function(e,t){var n=t.component;e(t,1,0,n.resourceState.message.form.component,n.resourceState.message.state.classifier,l.Gb(t,4).ngClassUntouched,l.Gb(t,4).ngClassTouched,l.Gb(t,4).ngClassPristine,l.Gb(t,4).ngClassDirty,l.Gb(t,4).ngClassValid,l.Gb(t,4).ngClassInvalid,l.Gb(t,4).ngClassPending),e(t,8,0,n.resourceState.message.topic),e(t,9,0,n.resourceState.message.state.classifier)})}function ta(e){return l.Qb(0,[(e()(),l.ub(0,0,null,null,10,"div",[["role","control"]],null,null,null,null,null)),(e()(),l.ub(1,0,null,null,9,"section",[],null,null,null,null,null)),(e()(),l.ub(2,0,null,null,6,"input",[["max","255"],["min","0"],["role","chromaRange"],["step","1"],["type","range"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"],[null,"change"]],function(e,t,n){var o=!0;return"input"===t&&(o=!1!==l.Gb(e,3)._handleInput(n.target.value)&&o),"blur"===t&&(o=!1!==l.Gb(e,3).onTouched()&&o),"compositionstart"===t&&(o=!1!==l.Gb(e,3)._compositionStart()&&o),"compositionend"===t&&(o=!1!==l.Gb(e,3)._compositionEnd(n.target.value)&&o),"change"===t&&(o=!1!==l.Gb(e,4).onChange(n.target.value)&&o),"input"===t&&(o=!1!==l.Gb(e,4).onChange(n.target.value)&&o),"blur"===t&&(o=!1!==l.Gb(e,4).onTouched()&&o),o},null,null)),l.tb(3,16384,null,0,h.d,[l.G,l.k,[2,h.a]],null,null),l.tb(4,16384,null,0,h.w,[l.G,l.k],null,null),l.Lb(1024,null,h.m,function(e,t){return[e,t]},[h.d,h.w]),l.tb(6,540672,null,0,h.g,[[8,null],[8,null],[6,h.m],[2,h.D]],{form:[0,"form"]},null),l.Lb(2048,null,h.n,null,[h.g]),l.tb(8,16384,null,0,h.o,[[4,h.n]],null,null),(e()(),l.ub(9,0,null,null,1,"div",[["role","colorDrop"]],[[1,"hidden",0],[8,"textContent",0],[4,"backgroundColor",null]],null,null,null,null)),l.Kb(10,2)],function(e,t){e(t,6,0,t.context.$implicit)},function(e,t){var n=t.component;e(t,2,0,l.Gb(t,8).ngClassUntouched,l.Gb(t,8).ngClassTouched,l.Gb(t,8).ngClassPristine,l.Gb(t,8).ngClassDirty,l.Gb(t,8).ngClassValid,l.Gb(t,8).ngClassInvalid,l.Gb(t,8).ngClassPending);var o=n.isControlAttributeHidden(t.context.$implicit),i=l.Pb(t,9,1,e(t,10,0,l.Gb(t.parent.parent.parent,1),t.context.$implicit.value/255*100,"1.0-0"));e(t,9,0,o,i,n.convertToHexColor(t.parent.context.$implicit[0],t.context.$implicit.value))})}function na(e){return l.Qb(0,[(e()(),l.ub(0,0,null,null,6,"tr",[],[[1,"role",0]],null,null,null,null)),(e()(),l.ub(1,0,null,null,2,"td",[],null,null,null,null,null)),(e()(),l.ub(2,0,null,null,1,"label",[],null,null,null,null,null)),(e()(),l.Ob(3,null,[" "," "])),(e()(),l.ub(4,0,null,null,2,"td",[],null,null,null,null,null)),(e()(),l.jb(16777216,null,null,1,null,ta)),l.tb(6,16384,null,0,g.q,[l.R,l.O],{ngIf:[0,"ngIf"]},null)],function(e,t){var n=t.parent.context.$implicit.get(t.context.$implicit[0]);e(t,6,0,n)},function(e,t){e(t,0,0,t.component.resourceState.message.form.component),e(t,3,0,t.context.$implicit[0])})}function la(e){return l.Qb(0,[(e()(),l.jb(16777216,null,null,2,null,na)),l.tb(1,278528,null,0,g.p,[l.R,l.O,l.u],{ngForOf:[0,"ngForOf"]},null),l.Kb(2,1),(e()(),l.jb(0,null,null,0))],function(e,t){var n=t.component,o=l.Pb(t,1,0,e(t,2,0,l.Gb(t.parent,0),n.resourceState.message.state.data));e(t,1,0,o)},null)}function oa(e){return l.Qb(0,[(e()(),l.ub(0,0,null,null,3,null,null,null,null,null,null,null)),(e()(),l.Ob(-1,null,[" ("])),(e()(),l.ub(2,0,null,null,0,"span",[],[[8,"textContent",0]],null,null,null,null)),(e()(),l.Ob(-1,null,[") "]))],null,function(e,t){e(t,2,0,t.component.periodicEmitterCycleCount)})}function ia(e){return l.Qb(0,[(e()(),l.ub(0,0,null,null,4,null,null,null,null,null,null,null)),(e()(),l.ub(1,0,null,null,3,"option",[],null,null,null,null,null)),l.tb(2,147456,null,0,h.t,[l.k,l.G,[2,h.y]],{ngValue:[0,"ngValue"]},null),l.tb(3,147456,null,0,h.E,[l.k,l.G,[8,null]],{ngValue:[0,"ngValue"]},null),(e()(),l.Ob(4,null,[" "," "]))],function(e,t){e(t,2,0,t.context.$implicit[1]),e(t,3,0,t.context.$implicit[1])},function(e,t){e(t,4,0,t.context.$implicit[0])})}function ra(e){return l.Qb(0,[(e()(),l.ub(0,0,null,null,8,null,null,null,null,null,null,null)),(e()(),l.ub(1,0,null,null,7,"select",[["formControlName","strategyType"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"change"],[null,"blur"]],function(e,t,n){var o=!0;return"change"===t&&(o=!1!==l.Gb(e,2).onChange(n.target.value)&&o),"blur"===t&&(o=!1!==l.Gb(e,2).onTouched()&&o),o},null,null)),l.tb(2,16384,null,0,h.y,[l.G,l.k],null,null),l.Lb(1024,null,h.m,function(e){return[e]},[h.y]),l.tb(4,671744,null,0,h.h,[[3,h.c],[8,null],[8,null],[6,h.m],[2,h.D]],{name:[0,"name"]},null),l.Lb(2048,null,h.n,null,[h.h]),l.tb(6,16384,null,0,h.o,[[4,h.n]],null,null),(e()(),l.jb(16777216,null,null,1,null,ia)),l.tb(8,278528,null,0,g.p,[l.R,l.O,l.u],{ngForOf:[0,"ngForOf"]},null)],function(e,t){var n=t.component;e(t,4,0,"strategyType"),e(t,8,0,n.types.emitterPatternTypeList)},function(e,t){e(t,1,0,l.Gb(t,6).ngClassUntouched,l.Gb(t,6).ngClassTouched,l.Gb(t,6).ngClassPristine,l.Gb(t,6).ngClassDirty,l.Gb(t,6).ngClassValid,l.Gb(t,6).ngClassInvalid,l.Gb(t,6).ngClassPending)})}function sa(e){return l.Qb(0,[(e()(),l.ub(0,0,null,null,8,"td",[],null,null,null,null,null)),(e()(),l.ub(1,0,null,null,6,"input",[["formControlName","interval"],["max","5000"],["min","200"],["role","emitterIntervalRange"],["step","200"],["title","Delay of emitter in milliseconds"],["type","range"],["value","1000"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"],[null,"change"]],function(e,t,n){var o=!0;return"input"===t&&(o=!1!==l.Gb(e,2)._handleInput(n.target.value)&&o),"blur"===t&&(o=!1!==l.Gb(e,2).onTouched()&&o),"compositionstart"===t&&(o=!1!==l.Gb(e,2)._compositionStart()&&o),"compositionend"===t&&(o=!1!==l.Gb(e,2)._compositionEnd(n.target.value)&&o),"change"===t&&(o=!1!==l.Gb(e,3).onChange(n.target.value)&&o),"input"===t&&(o=!1!==l.Gb(e,3).onChange(n.target.value)&&o),"blur"===t&&(o=!1!==l.Gb(e,3).onTouched()&&o),o},null,null)),l.tb(2,16384,null,0,h.d,[l.G,l.k,[2,h.a]],null,null),l.tb(3,16384,null,0,h.w,[l.G,l.k],null,null),l.Lb(1024,null,h.m,function(e,t){return[e,t]},[h.d,h.w]),l.tb(5,671744,null,0,h.h,[[3,h.c],[8,null],[8,null],[6,h.m],[2,h.D]],{name:[0,"name"]},null),l.Lb(2048,null,h.n,null,[h.h]),l.tb(7,16384,null,0,h.o,[[4,h.n]],null,null),(e()(),l.Ob(8,null,[" "," "]))],function(e,t){e(t,5,0,"interval")},function(e,t){var n=t.component;e(t,1,0,l.Gb(t,7).ngClassUntouched,l.Gb(t,7).ngClassTouched,l.Gb(t,7).ngClassPristine,l.Gb(t,7).ngClassDirty,l.Gb(t,7).ngClassValid,l.Gb(t,7).ngClassInvalid,l.Gb(t,7).ngClassPending),e(t,8,0,n.emitterForm.get("interval").value)})}function aa(e){return l.Qb(0,[(e()(),l.ub(0,0,null,null,18,"tr",[["role","emitterFormGroup"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"submit"],[null,"reset"]],function(e,t,n){var o=!0;return"submit"===t&&(o=!1!==l.Gb(e,1).onSubmit(n)&&o),"reset"===t&&(o=!1!==l.Gb(e,1).onReset()&&o),o},null,null)),l.tb(1,540672,null,0,h.j,[[8,null],[8,null]],{form:[0,"form"]},null),l.Lb(2048,null,h.c,null,[h.j]),l.tb(3,16384,null,0,h.p,[[4,h.c]],null,null),(e()(),l.ub(4,0,null,null,12,"td",[],null,null,null,null,null)),(e()(),l.Ob(-1,null,[" Emitter? "])),(e()(),l.ub(6,0,null,null,6,"input",[["formControlName","active"],["type","checkbox"]],[[1,"id",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"change"],[null,"blur"]],function(e,t,n){var o=!0;return"change"===t&&(o=!1!==l.Gb(e,7).onChange(n.target.checked)&&o),"blur"===t&&(o=!1!==l.Gb(e,7).onTouched()&&o),o},null,null)),l.tb(7,16384,null,0,h.b,[l.G,l.k],null,null),l.Lb(1024,null,h.m,function(e){return[e]},[h.b]),l.tb(9,671744,null,0,h.h,[[3,h.c],[8,null],[8,null],[6,h.m],[2,h.D]],{name:[0,"name"]},null),l.Lb(2048,null,h.n,null,[h.h]),l.tb(11,16384,null,0,h.o,[[4,h.n]],null,null),l.Hb(12,3),(e()(),l.jb(16777216,null,null,1,null,oa)),l.tb(14,16384,null,0,g.q,[l.R,l.O],{ngIf:[0,"ngIf"]},null),(e()(),l.jb(16777216,null,null,1,null,ra)),l.tb(16,16384,null,0,g.q,[l.R,l.O],{ngIf:[0,"ngIf"]},null),(e()(),l.jb(16777216,null,null,1,null,sa)),l.tb(18,16384,null,0,g.q,[l.R,l.O],{ngIf:[0,"ngIf"]},null)],function(e,t){var n=t.component;e(t,1,0,n.emitterForm),e(t,9,0,"active"),e(t,14,0,n.periodicEmitterCycleCount>0),e(t,16,0,n.emitterForm.get("active").value),e(t,18,0,n.emitterForm.get("active").value)},function(e,t){var n=t.component;e(t,0,0,l.Gb(t,3).ngClassUntouched,l.Gb(t,3).ngClassTouched,l.Gb(t,3).ngClassPristine,l.Gb(t,3).ngClassDirty,l.Gb(t,3).ngClassValid,l.Gb(t,3).ngClassInvalid,l.Gb(t,3).ngClassPending);var o=e(t,12,0,"color-producer-form","emitterEnabled",n.resourceState.nodeModel.id);e(t,6,0,o,l.Gb(t,11).ngClassUntouched,l.Gb(t,11).ngClassTouched,l.Gb(t,11).ngClassPristine,l.Gb(t,11).ngClassDirty,l.Gb(t,11).ngClassValid,l.Gb(t,11).ngClassInvalid,l.Gb(t,11).ngClassPending)})}function ua(e){return l.Qb(2,[l.Ib(0,Nr,[]),l.Ib(0,g.f,[l.w]),(e()(),l.ub(2,0,null,null,1,"b",[],null,null,null,null,null)),(e()(),l.Ob(-1,null,["Custom Color//Mixer"])),(e()(),l.jb(16777216,null,null,1,null,ea)),l.tb(5,16384,null,0,g.q,[l.R,l.O],{ngIf:[0,"ngIf"]},null),(e()(),l.jb(0,[["messageSubform",2]],null,0,null,la)),(e()(),l.jb(0,[["emitterSubform",2]],null,0,null,aa))],function(e,t){var n=t.component;e(t,5,0,n.resourceState.integrator.simulatorProducerFormView.messagesForm.get(n.resourceState.message.form.component))},null)}function ca(e){return l.Qb(0,[(e()(),l.ub(0,0,null,null,1,"nodeflow-asset-topics-color-producer",[],null,null,null,ua,qs)),l.tb(1,114688,null,0,Ws,[Br,h.e,l.h],null,null)],function(e,t){e(t,1,0)},null)}var da=l.qb("nodeflow-asset-topics-color-producer",Ws,ca,{},{},[]);class ha{constructor(e,t){this.topicComponentMap=e,this.viewContainer=t,this.initialize()}get producerInjector(){return this.producedInjector}ngOnInit(){this.produceCardInjector(),this.topicComponent=this.topicComponentMap[this.message.topic]||Ss}produceCardInjector(){this.producedInjector=l.s.create({providers:[{provide:Br,useValue:this.deriveChildCardInjectorValue()}],parent:this.viewContainer.injector})}deriveChildCardInjectorValue(){return{message:this.message,integrator:this.integrator,nodeModel:this.integrator.cardAssemblyPlugin.viewModel.nodeModel}}initialize(){}}var ga=l.sb({encapsulation:2,styles:[],data:{}});function ma(e){return l.Qb(0,[(e()(),l.ub(0,0,null,null,0,null,null,null,null,null,null,null))],null,null)}function pa(e){return l.Qb(2,[(e()(),l.jb(16777216,null,null,1,null,ma)),l.tb(1,671744,null,0,g.o,[l.R],{ngComponentOutlet:[0,"ngComponentOutlet"],ngComponentOutletInjector:[1,"ngComponentOutletInjector"]},null)],function(e,t){var n=t.component;e(t,1,0,n.topicComponent,n.producerInjector)},null)}class ba{transform(e){return Array.from(e).filter(e=>e.state&&Object.keys(e.state).length)}}class fa{constructor(e){this.integrator=e,this.initialize()}ngOnInit(){}initialize(){this.integrator.cardAssemblyPlugin.viewModel.onNodeConsumerRelationsChange$.subscribe(e=>{this.integrator.simulatorProducerFormView.onSocketConnectorRelationCollectionChange()})}}var Ca=l.sb({encapsulation:0,styles:[['[role=messagesProducerTable][_ngcontent-%COMP%]{display:flex;flex-direction:row;overflow:hidden;flex-wrap:wrap;background-color:rgba(83,43,143,.1)}[role=messagesProducerTable][_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{flex:1}[role=messagesProducerTable][_ngcontent-%COMP%]   [role=messageModelTopicLabel][_ngcontent-%COMP%]{text-align:center}[role=messagesProducerTable][_ngcontent-%COMP%]   [role=messageModelStateClassifier][_ngcontent-%COMP%]{font-weight:400;text-align:center}[role=messagesProducerTable][_ngcontent-%COMP%]   [role=messageModelStateClassifier][_ngcontent-%COMP%]::before{content:"\\00ab"}[role=messagesProducerTable][_ngcontent-%COMP%]   [role=messageModelStateClassifier][_ngcontent-%COMP%]::after{content:"\\00bb"}[role=messagesProducerTable][_ngcontent-%COMP%]   [role=messageModelSubformsContainer][_ngcontent-%COMP%]{border:2px solid rgba(1,1,1,.2);margin:3px;padding:3px}[role=messagesProducerTable][_ngcontent-%COMP%]   [role=messageModelSubformsContainer][_ngcontent-%COMP%]:hover{background-color:rgba(83,43,143,.1)}']],data:{}});function ya(e){return l.Qb(0,[(e()(),l.ub(0,0,null,null,2,"section",[["role","messageModelSubformsContainer"]],null,null,null,null,null)),(e()(),l.ub(1,16777216,null,null,1,"nodeflow-asset-message-producer-outlet",[],null,null,null,pa,ga)),l.tb(2,114688,null,0,ha,[Hr,l.R],{message:[0,"message"],integrator:[1,"integrator"]},null)],function(e,t){e(t,2,0,t.context.$implicit,t.component.integrator)},null)}function va(e){return l.Qb(0,[(e()(),l.ub(0,0,[["messagesFormCollectionPane",1]],null,6,"section",[["role","messagesProducerTable"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"submit"],[null,"reset"]],function(e,t,n){var o=!0;return"submit"===t&&(o=!1!==l.Gb(e,1).onSubmit(n)&&o),"reset"===t&&(o=!1!==l.Gb(e,1).onReset()&&o),o},null,null)),l.tb(1,540672,null,0,h.j,[[8,null],[8,null]],{form:[0,"form"]},null),l.Lb(2048,null,h.c,null,[h.j]),l.tb(3,16384,null,0,h.p,[[4,h.c]],null,null),(e()(),l.jb(16777216,null,null,2,null,ya)),l.tb(5,278528,null,0,g.p,[l.R,l.O,l.u],{ngForOf:[0,"ngForOf"]},null),l.Kb(6,1)],function(e,t){var n=t.component;e(t,1,0,n.integrator.simulatorProducerFormView.messagesForm);var o=l.Pb(t,5,0,e(t,6,0,l.Gb(t.parent.parent,0),null==n.nodeModel.producer?null:n.nodeModel.producer.messageCollection));e(t,5,0,o)},function(e,t){e(t,0,0,l.Gb(t,3).ngClassUntouched,l.Gb(t,3).ngClassTouched,l.Gb(t,3).ngClassPristine,l.Gb(t,3).ngClassDirty,l.Gb(t,3).ngClassValid,l.Gb(t,3).ngClassInvalid,l.Gb(t,3).ngClassPending)})}function Ia(e){return l.Qb(0,[(e()(),l.ub(0,0,null,null,5,"section",[],null,null,null,null,null)),(e()(),l.ub(1,0,null,null,2,"button",[["class","pane-header"]],[[2,"pane-expanded",null]],[[null,"click"]],function(e,t,n){var l=!0,o=e.component;return"click"===t&&(l=!1!==o.integrator.onToggleViewPane(o.integrator.viewState.messagesFormCollectionPane)&&l),l},null,null)),(e()(),l.ub(2,0,null,null,0,"div",[["class","pane-expando"]],null,null,null,null,null)),(e()(),l.Ob(-1,null,[" Producer Forms "])),(e()(),l.jb(16777216,null,null,1,null,va)),l.tb(5,16384,null,0,g.q,[l.R,l.O],{ngIf:[0,"ngIf"]},null)],function(e,t){e(t,5,0,t.component.integrator.viewState.messagesFormCollectionPane.visible)},function(e,t){e(t,1,0,t.component.integrator.viewState.messagesFormCollectionPane.visible)})}function Oa(e){return l.Qb(0,[l.Ib(0,ba,[]),(e()(),l.jb(16777216,null,null,1,null,Ia)),l.tb(2,16384,null,0,g.q,[l.R,l.O],{ngIf:[0,"ngIf"]},null)],function(e,t){var n=t.component;e(t,2,0,null==n.nodeModel.producer?null:n.nodeModel.producer.messageCollection.size)},null)}class Ma{constructor(e,t){this.topicComponentMap=e,this.viewContainer=t,this.initialize()}get consumerInjector(){return this.producedInjector}ngOnInit(){this.produceCardInjector(),this.topicComponent=this.topicComponentMap[this.routeRelation.message.topic]||Wr}produceCardInjector(){this.producedInjector=l.s.create({providers:[{provide:Vr,useValue:this.deriveChildCardInjectorValue()}],parent:this.viewContainer.injector})}deriveChildCardInjectorValue(){return{message:this.routeRelation.message,socketConnectorRelation:this.socketConnectorRelation,integrator:this.integrator,nodeModel:this.integrator.cardAssemblyPlugin.viewModel.nodeModel}}initialize(){}}var Sa=l.sb({encapsulation:2,styles:[],data:{}});function wa(e){return l.Qb(0,[(e()(),l.ub(0,0,null,null,0,null,null,null,null,null,null,null))],null,null)}function ka(e){return l.Qb(2,[(e()(),l.jb(16777216,null,null,1,null,wa)),l.tb(1,671744,null,0,g.o,[l.R],{ngComponentOutlet:[0,"ngComponentOutlet"],ngComponentOutletInjector:[1,"ngComponentOutletInjector"]},null)],function(e,t){var n=t.component;e(t,1,0,n.topicComponent,n.consumerInjector)},null)}class Ta{transform(e,t){return e.filter(e=>e.getSocketConnectorRelationListBySocket(t).length>0)}}class Pa{transform(e,t){return e.getSocketConnectorRelationListBySocket(t)}}class xa{constructor(e,t){this.integrator=e,this._cdr=t,this.initialize()}ngOnInit(){}initialize(){this.integrator.cardAssemblyPlugin.viewModel.onNodeConsumerRelationsChange$.subscribe(e=>{})}}var _a=l.sb({encapsulation:0,styles:[['[role=messagesConsumerTable][_ngcontent-%COMP%]{display:flex;flex-direction:row;overflow:hidden;flex-wrap:wrap;background-color:rgba(33,143,43,.08)}[role=messagesConsumerTable][_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{flex:1}[role=messagesConsumerTable][_ngcontent-%COMP%]   TABLE[role=messageMetadataGrid][_ngcontent-%COMP%]   TBODY[_ngcontent-%COMP%] > TR[_ngcontent-%COMP%] > TH[_ngcontent-%COMP%]{background-color:rgba(88,88,88,.1);text-align:left}[role=messagesConsumerTable][_ngcontent-%COMP%]   TABLE[role=messageMetadataGrid][_ngcontent-%COMP%]   TBODY[_ngcontent-%COMP%] > TR[_ngcontent-%COMP%] > TD[_ngcontent-%COMP%]{padding:0 5px}[role=messagesConsumerTable][_ngcontent-%COMP%]   TABLE[role=messageMetadataGrid][_ngcontent-%COMP%]   TBODY[_ngcontent-%COMP%] > TR[_ngcontent-%COMP%] > TD.wrap-identifier[_ngcontent-%COMP%]{word-break:break-all}[role=messagesConsumerTable][_ngcontent-%COMP%]   [role=messageConsumer][_ngcontent-%COMP%]{padding:3px;margin:3px;border:1px solid rgba(88,88,88,.5)}[role=messagesConsumerTable][_ngcontent-%COMP%]   [role=messageModelTopicLabel][_ngcontent-%COMP%]{text-align:center}[role=messagesConsumerTable][_ngcontent-%COMP%]   [role=messageModelStateClassifier][_ngcontent-%COMP%]{font-weight:400;text-align:center}[role=messagesConsumerTable][_ngcontent-%COMP%]   [role=messageModelStateClassifier][_ngcontent-%COMP%]::before{content:"\\00ab"}[role=messagesConsumerTable][_ngcontent-%COMP%]   [role=messageModelStateClassifier][_ngcontent-%COMP%]::after{content:"\\00bb"}[role=messagesConsumerTable][_ngcontent-%COMP%]   [role=messageModelSubform][_ngcontent-%COMP%]{border:2px solid rgba(1,1,1,.2);margin:3px;padding:3px}[role=messagesConsumerTable][_ngcontent-%COMP%]   [role=messageModelSubform][_ngcontent-%COMP%]:hover{background-color:rgba(83,43,143,.1)}']],data:{}});function Ra(e){return l.Qb(0,[(e()(),l.ub(0,0,null,null,1,null,null,null,null,null,null,null)),(e()(),l.Ob(-1,null,[" multicast "]))],null,null)}function Ea(e){return l.Qb(0,[(e()(),l.ub(0,0,null,null,1,null,null,null,null,null,null,null)),(e()(),l.Ob(-1,null,[" unicast "]))],null,null)}function La(e){return l.Qb(0,[(e()(),l.ub(0,0,null,null,1,"td",[],null,null,null,null,null)),(e()(),l.Ob(1,null,[" Over (",") trunk routes "]))],null,function(e,t){e(t,1,0,t.parent.context.ngIf.length)})}function Ga(e){return l.Qb(0,[(e()(),l.ub(0,0,null,null,9,null,null,null,null,null,null,null)),(e()(),l.ub(1,0,null,null,4,"tr",[],null,null,null,null,null)),(e()(),l.ub(2,0,null,null,1,"th",[],null,null,null,null,null)),(e()(),l.Ob(-1,null,[" Producer "])),(e()(),l.ub(4,0,null,null,1,"td",[["class","wrap-identifier"],["colspan","2"]],null,null,null,null,null)),(e()(),l.ub(5,0,null,null,0,"div",[],[[8,"textContent",0]],null,null,null,null)),(e()(),l.ub(6,0,null,null,3,"tr",[],null,null,null,null,null)),(e()(),l.ub(7,0,null,null,2,"td",[["colspan","3"]],null,null,null,null,null)),(e()(),l.ub(8,16777216,null,null,1,"nodeflow-asset-delivery-message-outlet",[],null,null,null,ka,Sa)),l.tb(9,114688,null,0,Ma,[Qr,l.R],{integrator:[0,"integrator"],routeRelation:[1,"routeRelation"],socketConnectorRelation:[2,"socketConnectorRelation"]},null)],function(e,t){e(t,9,0,t.component.integrator,t.parent.context.$implicit,t.context.$implicit)},function(e,t){e(t,5,0,t.context.$implicit.producer.id)})}function Da(e){return l.Qb(0,[(e()(),l.ub(0,0,null,null,9,null,null,null,null,null,null,null)),(e()(),l.ub(1,0,null,null,4,"tr",[],null,null,null,null,null)),(e()(),l.ub(2,0,null,null,1,"th",[],null,null,null,null,null)),(e()(),l.Ob(-1,null,[" Trunk routing "])),(e()(),l.ub(4,0,null,null,1,"td",[["class","wrap-identifier"],["colspan","2"]],null,null,null,null,null)),(e()(),l.ub(5,0,null,null,0,"div",[],[[8,"textContent",0]],null,null,null,null)),(e()(),l.jb(16777216,null,null,2,null,Ga)),l.tb(7,278528,null,0,g.p,[l.R,l.O,l.u],{ngForOf:[0,"ngForOf"]},null),l.Kb(8,2),(e()(),l.ub(9,0,null,null,0,"section",[["role","messagesConsumerFieldsFooter"]],null,null,null,null,null))],function(e,t){var n=l.Pb(t,7,0,e(t,8,0,l.Gb(t.parent.parent.parent.parent.parent,1),t.context.$implicit,t.parent.parent.context.$implicit));e(t,7,0,n)},function(e,t){e(t,5,0,t.context.$implicit.id)})}function ja(e){return l.Qb(0,[(e()(),l.ub(0,0,null,null,2,null,null,null,null,null,null,null)),(e()(),l.ub(1,0,null,null,1,"i",[],null,null,null,null,null)),(e()(),l.Ob(-1,null,[" No connectors on socket "]))],null,null)}function $a(e){return l.Qb(0,[(e()(),l.ub(0,0,null,null,23,null,null,null,null,null,null,null)),(e()(),l.ub(1,0,null,null,20,"table",[["role","messageMetadataGrid"]],null,null,null,null,null)),(e()(),l.ub(2,0,null,null,19,"tbody",[],null,null,null,null,null)),(e()(),l.ub(3,0,null,null,6,"tr",[],null,null,null,null,null)),(e()(),l.ub(4,0,null,null,1,"th",[],null,null,null,null,null)),(e()(),l.Ob(-1,null,["Socket"])),(e()(),l.ub(6,0,null,null,1,"td",[],null,null,null,null,null)),(e()(),l.Ob(7,null,["",""])),(e()(),l.ub(8,0,null,null,1,"td",[],null,null,null,null,null)),(e()(),l.Ob(9,null,["",""])),(e()(),l.ub(10,0,null,null,9,"tr",[],null,null,null,null,null)),(e()(),l.ub(11,0,null,null,1,"th",[],null,null,null,null,null)),(e()(),l.Ob(-1,null,["Transmission"])),(e()(),l.ub(13,0,null,null,4,"td",[["colspan","2"]],null,null,null,null,null)),(e()(),l.jb(16777216,null,null,1,null,Ra)),l.tb(15,16384,null,0,g.q,[l.R,l.O],{ngIf:[0,"ngIf"]},null),(e()(),l.jb(16777216,null,null,1,null,Ea)),l.tb(17,16384,null,0,g.q,[l.R,l.O],{ngIf:[0,"ngIf"]},null),(e()(),l.jb(16777216,null,null,1,null,La)),l.tb(19,16384,null,0,g.q,[l.R,l.O],{ngIf:[0,"ngIf"]},null),(e()(),l.jb(16777216,null,null,1,null,Da)),l.tb(21,278528,null,0,g.p,[l.R,l.O,l.u],{ngForOf:[0,"ngForOf"]},null),(e()(),l.jb(16777216,null,null,1,null,ja)),l.tb(23,16384,null,0,g.q,[l.R,l.O],{ngIf:[0,"ngIf"]},null),(e()(),l.jb(0,null,null,0))],function(e,t){e(t,15,0,t.parent.context.$implicit.multicast),e(t,17,0,!t.parent.context.$implicit.multicast),e(t,19,0,t.parent.context.$implicit.multicast),e(t,21,0,t.context.ngIf),e(t,23,0,!t.context.ngIf.length)},function(e,t){e(t,7,0,t.parent.context.$implicit.topic),e(t,9,0,t.parent.context.$implicit.id)})}function Fa(e){return l.Qb(0,[(e()(),l.ub(0,0,null,null,4,"section",[["role","messageConsumer"]],null,null,null,null,null)),(e()(),l.jb(16777216,null,null,3,null,$a)),l.tb(2,16384,null,0,g.q,[l.R,l.O],{ngIf:[0,"ngIf"]},null),l.Ib(131072,g.b,[l.h]),l.Kb(4,2)],function(e,t){var n=t.component,o=l.Pb(t,2,0,e(t,4,0,l.Gb(t.parent.parent.parent,0),l.Pb(t,2,0,l.Gb(t,3).transform(n.integrator.cardAssemblyPlugin.viewModel.onNodeConsumerRelationsChange$)),t.context.$implicit));e(t,2,0,o)},null)}function za(e){return l.Qb(0,[(e()(),l.ub(0,0,[["messagesConsumerCollectionPane",1]],null,2,"section",[["role","messagesConsumerTable"]],null,null,null,null,null)),(e()(),l.jb(16777216,null,null,1,null,Fa)),l.tb(2,278528,null,0,g.p,[l.R,l.O,l.u],{ngForOf:[0,"ngForOf"]},null)],function(e,t){e(t,2,0,t.parent.context.ngIf)},null)}function Aa(e){return l.Qb(0,[(e()(),l.ub(0,0,null,null,5,"section",[],null,null,null,null,null)),(e()(),l.ub(1,0,null,null,2,"button",[["class","pane-header"]],[[2,"pane-expanded",null]],[[null,"click"]],function(e,t,n){var l=!0,o=e.component;return"click"===t&&(l=!1!==o.integrator.onToggleViewPane(o.integrator.viewState.messagesConsumerCollectionPane)&&l),l},null,null)),(e()(),l.ub(2,0,null,null,0,"div",[["class","pane-expando"]],null,null,null,null,null)),(e()(),l.Ob(-1,null,[" Consumer Messages "])),(e()(),l.jb(16777216,null,null,1,null,za)),l.tb(5,16384,null,0,g.q,[l.R,l.O],{ngIf:[0,"ngIf"]},null)],function(e,t){e(t,5,0,t.component.integrator.viewState.messagesConsumerCollectionPane.visible)},function(e,t){e(t,1,0,t.component.integrator.viewState.messagesConsumerCollectionPane.visible)})}function Na(e){return l.Qb(2,[l.Ib(0,Ta,[]),l.Ib(0,Pa,[]),(e()(),l.jb(16777216,null,null,1,null,Aa)),l.tb(3,16384,null,0,g.q,[l.R,l.O],{ngIf:[0,"ngIf"]},null)],function(e,t){var n=t.component;e(t,3,0,null==n.nodeModel.link?null:n.nodeModel.link.consumerSocketCollection)},null)}class Va{transform(e){return E.sortCollection(e)}}var Ba=l.sb({encapsulation:2,styles:[],data:{}});function Qa(e){return l.Qb(0,[(e()(),l.jb(0,null,null,0))],null,null)}function Ha(e){return l.Qb(0,[(e()(),l.ub(0,0,null,null,3,"section",[],null,null,null,null,null)),(e()(),l.jb(16777216,[[1,3],[2,2]],null,2,null,Qa)),l.tb(2,540672,null,0,g.v,[l.R],{ngTemplateOutletContext:[0,"ngTemplateOutletContext"],ngTemplateOutlet:[1,"ngTemplateOutlet"]},null),l.Jb(3,{$implicit:0})],function(e,t){var n=e(t,3,0,t.context.ngIf);e(t,2,0,n,l.Gb(t.parent,9))},null)}function Wa(e){return l.Qb(0,[(e()(),l.jb(0,null,null,0))],null,null)}function qa(e){return l.Qb(0,[(e()(),l.ub(0,0,null,null,7,null,null,null,null,null,null,null)),(e()(),l.jb(16777216,[[1,3],[2,2]],null,2,null,Wa)),l.tb(2,540672,null,0,g.v,[l.R],{ngTemplateOutletContext:[0,"ngTemplateOutletContext"],ngTemplateOutlet:[1,"ngTemplateOutlet"]},null),l.Jb(3,{$implicit:0}),(e()(),l.ub(4,0,null,null,1,"nodeflow-asset-messages-producer-collection",[],null,null,null,Oa,Ca)),l.tb(5,114688,null,0,fa,[ms],{nodeModel:[0,"nodeModel"]},null),(e()(),l.ub(6,0,null,null,1,"nodeflow-asset-messages-consumer-collection",[],null,null,null,Na,_a)),l.tb(7,114688,null,0,xa,[ms,l.h],{nodeModel:[0,"nodeModel"]},null)],function(e,t){var n=e(t,3,0,t.parent.context.$implicit);e(t,2,0,n,l.Gb(t.parent.parent.parent,8)),e(t,5,0,t.parent.context.$implicit),e(t,7,0,t.parent.context.$implicit)},null)}function Ua(e){return l.Qb(0,[(e()(),l.jb(16777216,[[1,3],[2,2]],null,1,null,qa)),l.tb(1,16384,null,0,g.q,[l.R,l.O],{ngIf:[0,"ngIf"]},null),(e()(),l.jb(0,null,null,0))],function(e,t){e(t,1,0,t.component.viewState.detailsPane.visible)},null)}function Xa(e){return l.Qb(0,[(e()(),l.Ob(-1,null,[" Loading.... "]))],null,null)}function Ya(e){return l.Qb(0,[(e()(),l.ub(0,0,null,null,8,"section",[["role","container"]],null,null,null,null,null)),(e()(),l.ub(1,0,null,null,2,"section",[["role","assetDetails"]],null,null,null,null,null)),(e()(),l.jb(16777216,[[1,3],[2,2]],null,1,null,Ha)),l.tb(3,16384,null,0,g.q,[l.R,l.O],{ngIf:[0,"ngIf"],ngIfElse:[1,"ngIfElse"]},null),(e()(),l.ub(4,0,null,null,4,"section",[["role","icon"]],[[2,"pane-shrink",null]],null,null,null,null)),(e()(),l.ub(5,0,null,null,3,"div",[["class","iconButtonShape"]],[[2,"active",null]],[[null,"click"]],function(e,t,n){var l=!0,o=e.component;return"click"===t&&(l=!1!==o.onToggleViewPane(o.viewState.detailsPane)&&l),l},null,null)),(e()(),l.ub(6,0,null,null,2,"i",[],null,null,null,null,null)),l.Lb(512,null,g.G,g.H,[l.u,l.v,l.k,l.G]),l.tb(8,278528,null,0,g.n,[g.G],{ngClass:[0,"ngClass"]},null),(e()(),l.jb(16777216,[[1,3],[2,2],["nodeDetails",2]],null,0,null,Ua)),(e()(),l.jb(16777216,[[1,3],[2,2],["notReady",2]],null,0,null,Xa)),(e()(),l.jb(0,null,null,0))],function(e,t){var n=t.component;e(t,3,0,null==n.cardAssemblyPlugin.viewModel?null:n.cardAssemblyPlugin.viewModel.nodeModel,l.Gb(t,10)),e(t,8,0,t.context.cardMetadata.derived.assetTypeIconClass)},function(e,t){var n=t.component;e(t,4,0,n.viewState.detailsPane.visible),e(t,5,0,n.viewState.detailsPane.visible)})}function Ka(e){return l.Qb(0,[(e()(),l.ub(0,0,null,null,1,null,null,null,null,null,null,null)),(e()(),l.Ob(-1,null,[" Input Consumer "]))],null,null)}function Ja(e){return l.Qb(0,[(e()(),l.ub(0,0,null,null,1,null,null,null,null,null,null,null)),(e()(),l.Ob(-1,null,[" Output Producer "]))],null,null)}function Za(e){return l.Qb(0,[(e()(),l.ub(0,0,null,null,1,null,null,null,null,null,null,null)),(e()(),l.Ob(1,null,[" (",") "]))],null,function(e,t){e(t,1,0,t.parent.context.ngIf.size)})}function eu(e){return l.Qb(0,[(e()(),l.ub(0,0,null,null,4,"li",[["role","nodeSocket"]],[[1,"title",0]],[[null,"mouseover"],[null,"mouseout"]],function(e,t,n){var l=!0,o=e.component;return"mouseover"===t&&(l=!1!==o.onTogglePreviewSocket(e.context.$implicit,!0)&&l),"mouseout"===t&&(l=!1!==o.onTogglePreviewSocket(e.context.$implicit,!1)&&l),l},null,null)),(e()(),l.ub(1,0,null,null,0,"span",[["role","nodeSocketLabel"]],[[8,"textContent",0]],null,null,null,null)),(e()(),l.ub(2,0,null,null,2,"i",[["role","nodeSocketIcon"]],null,null,null,null,null)),l.Lb(512,null,g.G,g.H,[l.u,l.v,l.k,l.G]),l.tb(4,278528,null,0,g.n,[g.G],{ngClass:[0,"ngClass"]},null)],function(e,t){e(t,4,0,t.component.styleNodeSocketClasses(t.context.$implicit,t.parent.parent.parent.parent.parent.context.$implicit))},function(e,t){e(t,0,0,t.context.$implicit.id),e(t,1,0,t.context.$implicit.topic)})}function tu(e){return l.Qb(0,[(e()(),l.ub(0,0,null,null,2,null,null,null,null,null,null,null)),(e()(),l.ub(1,0,null,null,1,"i",[],null,null,null,null,null)),(e()(),l.Ob(-1,null,["Empty"]))],null,null)}function nu(e){return l.Qb(0,[(e()(),l.ub(0,0,null,null,13,"section",[],[[1,"role",0]],null,null,null,null)),(e()(),l.ub(1,0,null,null,6,"b",[],null,null,null,null,null)),(e()(),l.jb(16777216,[[1,3],[2,2]],null,1,null,Ka)),l.tb(3,16384,null,0,g.q,[l.R,l.O],{ngIf:[0,"ngIf"]},null),(e()(),l.jb(16777216,[[1,3],[2,2]],null,1,null,Ja)),l.tb(5,16384,null,0,g.q,[l.R,l.O],{ngIf:[0,"ngIf"]},null),(e()(),l.jb(16777216,[[1,3],[2,2]],null,1,null,Za)),l.tb(7,16384,null,0,g.q,[l.R,l.O],{ngIf:[0,"ngIf"]},null),(e()(),l.ub(8,0,null,null,5,"ol",[],null,null,null,null,null)),(e()(),l.jb(16777216,[[1,3],[2,2]],null,2,null,eu)),l.tb(10,278528,null,0,g.p,[l.R,l.O,l.u],{ngForOf:[0,"ngForOf"]},null),l.Kb(11,1),(e()(),l.jb(16777216,[[1,3],[2,2]],null,1,null,tu)),l.tb(13,16384,null,0,g.q,[l.R,l.O],{ngIf:[0,"ngIf"]},null)],function(e,t){var n=t.component;e(t,3,0,t.parent.context.$implicit===n.types.socketConnectorTypeMap.get("input")),e(t,5,0,t.parent.context.$implicit===n.types.socketConnectorTypeMap.get("output")),e(t,7,0,t.context.ngIf.size>1);var o=l.Pb(t,10,0,e(t,11,0,l.Gb(t.parent.parent.parent.parent.parent,0),t.context.ngIf));e(t,10,0,o),e(t,13,0,!t.context.ngIf.size)},function(e,t){e(t,0,0,t.parent.context.$implicit===t.component.types.socketConnectorTypeEnum.input?"consumerSocketList":"producerSocketList")})}function lu(e){return l.Qb(0,[(e()(),l.ub(0,0,null,null,2,null,null,null,null,null,null,null)),(e()(),l.jb(16777216,[[1,3],[2,2]],null,1,null,nu)),l.tb(2,16384,null,0,g.q,[l.R,l.O],{ngIf:[0,"ngIf"]},null),(e()(),l.jb(0,null,null,0))],function(e,t){var n=t.parent.parent.parent.context.$implicit.link.getCollectionByType(t.context.$implicit);e(t,2,0,n)},null)}function ou(e){return l.Qb(0,[(e()(),l.ub(0,0,[["socketCollectionPane",1]],null,4,null,null,null,null,null,null,null)),(e()(),l.ub(1,0,null,null,3,"section",[["role","socketsTable"]],null,null,null,null,null)),(e()(),l.jb(16777216,[[1,3],[2,2]],null,2,null,lu)),l.tb(3,278528,null,0,g.p,[l.R,l.O,l.u],{ngForOf:[0,"ngForOf"]},null),l.Hb(4,2)],function(e,t){var n=t.component,l=e(t,4,0,n.types.socketConnectorTypeMap.get("input"),n.types.socketConnectorTypeMap.get("output"));e(t,3,0,l)},null)}function iu(e){return l.Qb(0,[(e()(),l.ub(0,0,null,null,5,"section",[],null,null,null,null,null)),(e()(),l.ub(1,0,null,null,2,"button",[["class","pane-header"]],[[2,"pane-expanded",null]],[[null,"click"]],function(e,t,n){var l=!0,o=e.component;return"click"===t&&(l=!1!==o.onToggleViewPane(o.viewState.socketCollectionPane)&&l),l},null,null)),(e()(),l.ub(2,0,null,null,0,"div",[["class","pane-expando"]],null,null,null,null,null)),(e()(),l.Ob(-1,null,[" Socket Inventory "])),(e()(),l.jb(16777216,[[1,3],[2,2]],null,1,null,ou)),l.tb(5,16384,null,0,g.q,[l.R,l.O],{ngIf:[0,"ngIf"]},null)],function(e,t){e(t,5,0,t.component.viewState.socketCollectionPane.visible)},function(e,t){e(t,1,0,t.component.viewState.socketCollectionPane.visible)})}function ru(e){return l.Qb(0,[(e()(),l.jb(16777216,[[1,3],[2,2]],null,1,null,iu)),l.tb(1,16384,null,0,g.q,[l.R,l.O],{ngIf:[0,"ngIf"]},null),(e()(),l.jb(0,null,null,0))],function(e,t){e(t,1,0,t.context.$implicit.link)},null)}function su(e){return l.Qb(0,[l.Ib(0,Va,[]),l.Mb(671088640,1,{customTemplatesQueryList:1}),l.Mb(671088640,2,{customerTemplateInstancesQueryList:1}),(e()(),l.ub(3,0,[["templates",1]],null,6,null,null,null,null,null,null,null)),(e()(),l.ub(4,0,[["presentation",1]],null,5,null,null,null,null,null,null,null)),(e()(),l.ub(5,0,[["header",1]],null,0,null,null,null,null,null,null,null)),(e()(),l.ub(6,0,[["body",1]],null,2,null,null,null,null,null,null,null)),(e()(),l.jb(16777216,[[1,3],[2,2],["nodePresentation",2]],null,0,null,Ya)),(e()(),l.jb(16777216,[[1,3],[2,2],["socketCollectionTemplate",2]],null,0,null,ru)),(e()(),l.ub(9,0,[["footer",1]],null,0,null,null,null,null,null,null,null))],null,null)}function au(e){return l.Qb(0,[(e()(),l.ub(0,0,null,null,3,"ng-component",[],null,null,null,su,Ba)),l.Lb(8704,null,cs,cs,[h.e]),l.Lb(8704,null,ds,ds,[h.e]),l.tb(3,4440064,null,0,ms,[xt.a,rs,cs,ds,dt.a,ct.a,l.G,l.k],null,null)],function(e,t){e(t,3,0)},null)}var uu=l.qb("ng-component",ms,au,{},{},[]),cu=l.sb({encapsulation:0,styles:[["[_nghost-%COMP%]{display:block;overflow:hidden}[_nghost-%COMP%] > [role=grid-widget][_ngcontent-%COMP%]     CLR-DATAGRID{overflow-x:hidden}[_nghost-%COMP%] > [role=grid-widget][_ngcontent-%COMP%]     CLR-DATAGRID>.datagrid{margin:0;width:inherit;height:inherit;border:0}[_nghost-%COMP%] > [role=grid-widget][_ngcontent-%COMP%]     CLR-DATAGRID>.datagrid>.datagrid-table-wrapper>.datagrid-table>.datagrid-header{background-color:transparent}[_nghost-%COMP%] > [role=grid-widget][_ngcontent-%COMP%]     CLR-DATAGRID>.datagrid .datagrid-column:not(:last-child)::before{background:0 0}[_nghost-%COMP%] > [role=grid-widget][_ngcontent-%COMP%]     CLR-DATAGRID>.datagrid-footer{font-size:inherit;line-height:inherit;padding:0;display:block}[_nghost-%COMP%] > [role=grid-widget][_ngcontent-%COMP%]     CLR-DATAGRID>.datagrid-footer>.datagrid-footer-description{min-height:1px}[_nghost-%COMP%] > [role=grid-widget][_ngcontent-%COMP%]     CLR-DATAGRID>.datagrid-footer>.datagrid-footer-description>.datagrid-host{overflow:hidden}[_nghost-%COMP%] > [role=grid-widget][_ngcontent-%COMP%]     CLR-DATAGRID>.datagrid-footer>.datagrid-footer-description>.datagrid-host>.datagrid.synthetic-grid-enclosure{position:relative;margin:0;max-width:none;overflow:hidden;border:0}[_nghost-%COMP%] > [role=grid-widget][_ngcontent-%COMP%]     CLR-DATAGRID>.datagrid-footer>.datagrid-footer-description>.datagrid-host>.datagrid.synthetic-grid-enclosure>.datagrid-footer-container{flex-shrink:0;display:block}[_nghost-%COMP%] > [role=grid-widget][_ngcontent-%COMP%]     CLR-DATAGRID>.datagrid-footer>.datagrid-footer-description>.datagrid-host>.datagrid.synthetic-grid-enclosure>.datagrid-footer-container:hover{background:0 0}[_nghost-%COMP%] > [role=grid-widget][_ngcontent-%COMP%]     CLR-DATAGRID>.datagrid-footer>.datagrid-footer-description>.datagrid-host>.datagrid.synthetic-grid-enclosure>.datagrid-footer-container>.datagrid-footer-container-master{border-top-style:solid;border-top-width:1px}[_nghost-%COMP%] > [role=grid-widget][_ngcontent-%COMP%]     CLR-DATAGRID>.datagrid-footer>.datagrid-footer-description>.datagrid-host>.datagrid.synthetic-grid-enclosure>.datagrid-footer-container>.datagrid-footer-container-master .datagrid-row-scrollable{flex-direction:row}[_nghost-%COMP%] > [role=grid-widget][_ngcontent-%COMP%]     CLR-DATAGRID>.datagrid-footer>.datagrid-footer-description>.datagrid-host>.datagrid.synthetic-grid-enclosure>.datagrid-footer-container>.datagrid-footer-container-master .datagrid-row-scrollable .datagrid-cell{flex:1 1 auto}[_nghost-%COMP%] > [role=grid-widget][_ngcontent-%COMP%]     CLR-DATAGRID>.datagrid-footer>.datagrid-footer-description>.datagrid-host>.datagrid.synthetic-grid-enclosure>.datagrid-footer-container>.datagrid-footer-container-master .datagrid-row-scrollable .datagrid-cell.datagrid-fixed-width{flex:0 0 auto}[_nghost-%COMP%] > [role=grid-widget][_ngcontent-%COMP%]     CLR-DATAGRID.removeFilters .datagrid-head CLR-DG-STRING-FILTER{display:none}[_nghost-%COMP%] > [role=grid-widget][_ngcontent-%COMP%]     CLR-DATAGRID.removeColumnSeparators .datagrid-column-separator{display:none}"],["CLR-DATAGRID>.datagrid>.datagrid-table-wrapper>[role=grid]>[role=rowgroup]>[role=row] [role=gridcell] [role=bar-graph-widget]{display:flex;height:.8rem}  CLR-DATAGRID>.datagrid>.datagrid-table-wrapper>[role=grid]>[role=rowgroup]>[role=row] [role=gridcell] [role=bar-graph-widget]>[role=label]{padding-left:.5rem;font-size:smaller}  CLR-DATAGRID>.datagrid>.datagrid-table-wrapper>[role=grid]>[role=rowgroup]>[role=row] [role=gridcell] [role=bar-graph-widget]>[role=bar-graph]{outline:rgba(0,0,0,.4) solid 1px}  CLR-DATAGRID>.datagrid>.datagrid-table-wrapper>[role=grid]>[role=rowgroup]>[role=row] [role=gridcell] [role=bar-graph-widget]>[role=bar-graph]:hover{outline:rgba(0,0,0,.9) solid 1px;transform:scale(1.2);transition:all .2s 50ms}  CLR-DATAGRID>.datagrid>.datagrid-table-wrapper>[role=grid]>[role=rowgroup]>[role=row] [role=gridcell] I[demoInventoryIcon]{float:left;padding:.3rem;margin-right:.2rem}  .dashboard-strategy-container GRIDSTER-ITEM[style]   [cardComponentType=card-datagrid]>article[data-layoutItemAspect=card]>[data-layoutItemAspect=header]   I.headerIcon{background-size:cover}  .dashboard-strategy-container GRIDSTER-ITEM[style]   [cardComponentType=card-datagrid]>article[data-layoutItemAspect=card]>[data-layoutItemAspect=header]   I.headerIcon.datastore{background-image:url(//cdnjs.cloudflare.com/ajax/libs/foundicons/3.0.0/svgs/fi-skull.svg)}"]],data:{}});function du(e){return l.Qb(0,[(e()(),l.jb(0,null,null,0))],null,null)}function hu(e){return l.Qb(0,[(e()(),l.jb(16777216,null,null,2,null,du)),l.tb(1,540672,null,0,g.v,[l.R],{ngTemplateOutletContext:[0,"ngTemplateOutletContext"],ngTemplateOutlet:[1,"ngTemplateOutlet"]},null),l.Jb(2,{fieldMetadata:0,library:1}),(e()(),l.jb(0,null,null,0))],function(e,t){var n=t.component,l=e(t,2,0,t.parent.context.$implicit,n.library);e(t,1,0,l,n.positionBasedTemplateMap.header[t.parent.context.$implicit.id])},null)}function gu(e){return l.Qb(0,[(e()(),l.ub(0,16777216,[[10,3]],null,9,"clr-dg-column",[["role","columnheader"]],[[4,"width","px"],[2,"datagrid-column",null],[1,"aria-sort",0]],null,null,Mi.t,Mi.k)),l.Lb(512,null,g.G,g.H,[l.u,l.v,l.k,l.G]),l.tb(2,278528,null,0,g.n,[g.G],{ngClass:[0,"ngClass"]},null),l.tb(3,245760,[[14,4],["gridHeader",4]],1,Fi.D,[Fi.gd,Fi.dd,l.R,Fi.v],{field:[0,"field"]},null),l.Mb(603979776,18,{projectedFilter:0}),l.Lb(512,null,Fi.rd,Fi.rd,[l.k,Fi.Vc,Fi.hd]),l.Lb(1024,null,Fi.vd,Fi.wd,[]),l.tb(7,147456,[[16,4]],0,Fi.Ed,[l.k,l.G,Fi.hd,Fi.Vc,Fi.rd,Fi.md,Fi.vd],null,null),(e()(),l.jb(16777216,null,1,1,null,hu)),l.tb(9,16384,null,0,g.q,[l.R,l.O],{ngIf:[0,"ngIf"]},null),(e()(),l.jb(0,null,null,0))],function(e,t){var n=t.component;e(t,2,0,n.generateResourceAbstractColumnClassName(t.context.$implicit,"header")),e(t,3,0,t.context.$implicit.id),e(t,9,0,!1!==n.library.alias.parameters.SimpleGridCard.isHeaderVisible)},function(e,t){e(t,0,0,null==t.context.$implicit.layout.dimensions.width?null:t.context.$implicit.layout.dimensions.width.initial.value,!0,l.Gb(t,3).ariaSort)})}function mu(e){return l.Qb(0,[(e()(),l.jb(0,null,null,0))],null,null)}function pu(e){return l.Qb(0,[(e()(),l.ub(0,16777216,null,null,8,"clr-dg-cell",[["role","gridcell"]],[[2,"datagrid-cell",null],[2,"datagrid-signpost-trigger",null]],null,null,Mi.s,Mi.j)),l.Lb(512,null,g.G,g.H,[l.u,l.v,l.k,l.G]),l.tb(2,278528,null,0,g.n,[g.G],{ngClass:[0,"ngClass"]},null),l.tb(3,114688,[[19,4]],1,Fi.C,[l.R],null,null),l.Mb(603979776,21,{signpost:1}),l.tb(5,147456,[[20,4]],0,Fi.Gd,[l.k,l.G,Fi.hd],null,null),(e()(),l.jb(16777216,null,0,2,null,mu)),l.tb(7,540672,null,0,g.v,[l.R],{ngTemplateOutletContext:[0,"ngTemplateOutletContext"],ngTemplateOutlet:[1,"ngTemplateOutlet"]},null),l.Jb(8,{rowData:0,model:1,fieldMetadata:2,library:3}),(e()(),l.jb(0,null,null,0))],function(e,t){var n=t.component;e(t,2,0,n.generateResourceAbstractColumnClassName(t.context.$implicit,"body")),e(t,3,0);var l=e(t,8,0,t.parent.context.$implicit,n.initialDataModelResponseModel,t.context.$implicit,n.library);e(t,7,0,l,n.positionBasedTemplateMap.body[t.context.$implicit.id])},function(e,t){e(t,0,0,!0,l.Gb(t,3).signpost.length>0)})}function bu(e){return l.Qb(0,[(e()(),l.ub(0,16777216,null,null,11,"clr-dg-row",[["role","rowgroup"]],[[2,"datagrid-row",null],[2,"datagrid-selected",null],[1,"aria-owns",0]],null,null,Mi.x,Mi.o)),l.Lb(6144,null,Fi.xc,null,[Fi.pd]),l.Lb(6144,null,Fi.rc,null,[Fi.pd]),l.Lb(512,null,Fi.pd,Fi.pd,[]),l.tb(4,5488640,[[15,4]],1,Fi.L,[Fi.bd,Fi.id,Fi.jd,Fi.pd,Fi.nd,l.R,l.G,l.k,Fi.v],{item:[0,"item"]},null),l.Mb(603979776,19,{dgCells:1}),l.tb(6,1196032,[[17,4]],1,Fi.Fd,[Fi.md],null,null),l.Mb(603979776,20,{cells:1}),l.tb(8,2244608,null,0,Fi.Id,[l.h,[2,Fi.Hd],Fi.id],null,null),l.tb(9,2244608,null,0,Fi.Jd,[l.h,[2,Fi.Hd],Fi.jd],null,null),(e()(),l.jb(16777216,null,null,1,null,pu)),l.tb(11,278528,null,0,g.p,[l.R,l.O,l.u],{ngForOf:[0,"ngForOf"]},null),(e()(),l.jb(0,null,null,0))],function(e,t){var n=t.component;e(t,4,0,t.context.$implicit),e(t,11,0,n.fieldMetadataList)},function(e,t){e(t,0,0,!0,l.Gb(t,4).selected,l.Gb(t,4).id)})}function fu(e){return l.Qb(0,[(e()(),l.jb(0,null,null,0))],null,null)}function Cu(e){return l.Qb(0,[(e()(),l.jb(16777216,null,null,2,null,fu)),l.tb(1,540672,null,0,g.v,[l.R],{ngTemplateOutletContext:[0,"ngTemplateOutletContext"],ngTemplateOutlet:[1,"ngTemplateOutlet"]},null),l.Jb(2,{fieldMetadata:0,model:1,records:2,library:3}),(e()(),l.jb(0,null,null,0))],function(e,t){var n=t.component,l=e(t,2,0,t.parent.context.$implicit,n.initialDataModelResponseModel,n.simpleGridRecords,n.library);e(t,1,0,l,n.positionBasedTemplateMap.footer[t.parent.context.$implicit.id])},null)}function yu(e){return l.Qb(0,[(e()(),l.ub(0,16777216,[[11,3],["gridFooter",1]],null,4,"div",[["class","datagrid-cell"],["ngProjectAs","clr-dg-cell"],["role","gridcell"]],[[2,"datagrid-fixed-width",null],[4,"width","px"]],null,null,null,null)),l.Lb(512,null,g.G,g.H,[l.u,l.v,l.k,l.G]),l.tb(2,278528,null,0,g.n,[g.G],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),(e()(),l.jb(16777216,null,null,1,null,Cu)),l.tb(4,16384,null,0,g.q,[l.R,l.O],{ngIf:[0,"ngIf"]},null),(e()(),l.jb(0,null,null,0))],function(e,t){var n=t.component;e(t,2,0,"datagrid-cell",n.generateResourceAbstractColumnClassName(t.context.$implicit,"footer")),e(t,4,0,n.transformedSimpleGridRecords)},function(e,t){var n=t.component;e(t,0,0,null==n.gridColumnsService?null:n.gridColumnsService.columnStates[t.context.index].strictWidth,n.deriveSynchronizedColumnWidth(t.context.$implicit,t.context.index))})}function vu(e){return l.Qb(0,[(e()(),l.ub(0,0,null,null,7,null,null,null,null,null,null,null)),(e()(),l.ub(1,0,null,null,6,"div",[["class","datagrid-host"]],null,null,null,null,null)),(e()(),l.ub(2,0,null,null,5,"div",[["class","datagrid synthetic-grid-enclosure"]],[[4,"left","px"],[4,"width","px"]],null,null,null,null)),(e()(),l.ub(3,0,null,null,4,"div",[["class","datagrid-footer-container datagrid-row"],["ngProjectAs","clr-dg-row"]],null,null,null,null,null)),(e()(),l.ub(4,0,[[6,0],["footerContainerMaster",1]],null,3,"div",[["class","datagrid-footer-container-master datagrid-row-flex"]],null,null,null,null,null)),(e()(),l.ub(5,0,null,null,2,"div",[["class","datagrid-row-scrollable"]],null,null,null,null,null)),(e()(),l.jb(16777216,null,null,1,null,yu)),l.tb(7,278528,null,0,g.p,[l.R,l.O,l.u],{ngForOf:[0,"ngForOf"]},null)],function(e,t){e(t,7,0,t.component.fieldMetadataList)},function(e,t){var n=t.component;e(t,2,0,0-n.syncDatagridTableScrollLeft,n.syncDatagridTableWidth)})}function Iu(e){return l.Qb(0,[(e()(),l.ub(0,0,null,null,4,null,null,null,null,null,null,null)),(e()(),l.ub(1,0,null,null,3,"clr-dg-pagination",[],[[2,"pagination",null]],[[null,"clrDgPageChange"]],function(e,t,n){var l=!0;return"clrDgPageChange"===t&&(l=!1!==(e.parent.context.ngIf.initialPageIndex=n)&&l),l},Mi.v,Mi.m)),l.tb(2,245760,[["pagination",4]],1,Fi.J,[Fi.ed,Fi.v],{pageSize:[0,"pageSize"],currentPage:[1,"currentPage"]},{currentChanged:"clrDgPageChange"}),l.Mb(603979776,23,{_pageSizeComponent:0}),(e()(),l.Ob(4,1,[" "," - "," of "," "," "]))],function(e,t){e(t,2,0,t.parent.context.ngIf.pageSize,t.parent.context.ngIf.initialPageIndex)},function(e,t){e(t,1,0,!0),e(t,4,0,l.Gb(t,2).firstItem+1,l.Gb(t,2).lastItem+1,l.Gb(t,2).totalItems,t.parent.context.ngIf.entityNamePluralized)})}function Ou(e){return l.Qb(0,[(e()(),l.ub(0,0,null,null,2,null,null,null,null,null,null,null)),(e()(),l.jb(16777216,null,null,1,null,Iu)),l.tb(2,16384,null,0,g.q,[l.R,l.O],{ngIf:[0,"ngIf"]},null),(e()(),l.jb(0,null,null,0))],function(e,t){e(t,2,0,t.context.ngIf.visible)},null)}function Mu(e){return l.Qb(0,[(e()(),l.ub(0,0,null,null,6,"clr-dg-footer",[],[[2,"datagrid-footer",null]],null,null,Mi.u,Mi.l)),l.tb(1,49152,[[9,4]],1,Fi.G,[Fi.bd,Fi.md],null,null),l.Mb(603979776,22,{toggle:0}),(e()(),l.jb(16777216,null,1,1,null,vu)),l.tb(4,16384,null,0,g.q,[l.R,l.O],{ngIf:[0,"ngIf"]},null),(e()(),l.jb(16777216,null,1,1,null,Ou)),l.tb(6,16384,null,0,g.q,[l.R,l.O],{ngIf:[0,"ngIf"]},null)],function(e,t){var n=t.component;e(t,4,0,!1!==n.library.alias.parameters.SimpleGridCard.isFooterVisible),e(t,6,0,n.library.alias.parameters.SimpleGridCard.controls.pagination)},function(e,t){e(t,0,0,!0)})}function Su(e){return l.Qb(0,[(e()(),l.ub(0,0,[[5,0],["componentSection",1]],null,35,"section",[["role","grid-widget"]],null,null,null,null,null)),(e()(),l.ub(1,16777216,[[8,3]],null,34,"clr-datagrid",[],[[2,"removeFilters",null],[2,"removeColumnSeparators",null],[4,"height","px"],[2,"datagrid-host",null]],[[null,"clrDgRefresh"]],function(e,t,n){var l=!0;return"clrDgRefresh"===t&&(l=!1!==e.component.onRefreshEvent(n)&&l),l},Mi.y,Mi.i)),l.Lb(512,null,Fi.hd,Fi.hd,[]),l.Lb(512,null,Fi.fd,Fi.fd,[]),l.Lb(512,null,Fi.ed,Fi.ed,[Fi.fd]),l.Lb(512,null,Fi.dd,Fi.dd,[Fi.ed,Fi.fd]),l.Lb(512,null,Fi.gd,Fi.gd,[Fi.fd]),l.Lb(512,null,Fi.cd,Fi.cd,[Fi.dd,Fi.gd,Fi.ed]),l.Lb(512,null,Fi.jd,Fi.jd,[]),l.Lb(512,null,Fi.bd,Fi.bd,[Fi.cd,Fi.dd]),l.Lb(512,null,Fi.id,Fi.id,[]),l.Lb(512,null,Fi.kd,Fi.kd,[Fi.dd,Fi.gd,Fi.ed,Fi.fd]),l.Lb(131584,null,Fi.nd,Fi.nd,[Fi.hd]),l.tb(13,5423104,[[7,4],["gridComponent",4]],4,Fi.z,[Fi.hd,Fi.cd,Fi.jd,Fi.bd,Fi.id,Fi.kd,Fi.nd,l.G,l.k,Fi.ed,Fi.v],{loading:[0,"loading"]},{refresh:"clrDgRefresh"}),l.Mb(603979776,12,{iterator:0}),l.Mb(603979776,13,{placeholder:0}),l.Mb(603979776,14,{columns:1}),l.Mb(603979776,15,{rows:1}),l.Lb(1024,null,Fi.Vc,Fi.Cd,[l.D]),l.Lb(512,null,Fi.ld,Fi.ld,[l.D]),l.Lb(512,null,Fi.md,Fi.md,[]),l.tb(21,13778944,null,2,Fi.Dd,[Fi.hd,Fi.cd,Fi.ed,Fi.Vc,l.k,l.G,Fi.ld,Fi.md],null,null),l.Mb(603979776,16,{headers:1}),l.Mb(603979776,17,{rows:1}),l.tb(24,8404992,null,0,Fi.Hd,[],null,null),l.tb(25,2244608,null,0,Fi.Id,[l.h,[2,Fi.Hd],Fi.id],null,null),l.tb(26,2244608,null,0,Fi.Jd,[l.h,[2,Fi.Hd],Fi.jd],null,null),(e()(),l.jb(16777216,null,null,1,null,gu)),l.tb(28,278528,null,0,g.p,[l.R,l.O,l.u],{ngForOf:[0,"ngForOf"]},null),(e()(),l.jb(16777216,null,null,1,null,bu)),l.tb(30,409600,[[12,4]],0,Fi.H,[l.O,l.u,Fi.cd,l.R],{rawItems:[0,"rawItems"]},null),(e()(),l.jb(16777216,null,2,1,null,Mu)),l.tb(32,16384,null,0,g.q,[l.R,l.O],{ngIf:[0,"ngIf"]},null),(e()(),l.ub(33,0,null,1,2,"clr-dg-placeholder",[],[[2,"datagrid-placeholder-container",null]],null,null,Mi.w,Mi.n)),l.tb(34,49152,[[13,4]],0,Fi.K,[Fi.cd],null,null),(e()(),l.ub(35,0,null,0,0,"span",[],[[8,"textContent",0]],null,null,null,null))],function(e,t){var n=t.component;e(t,13,0,!n.loadedFlag),e(t,28,0,n.fieldMetadataList),e(t,30,0,n.transformedSimpleGridRecords),e(t,32,0,!1!==n.library.alias.parameters.SimpleGridCard.isFooterVisible||!1!==n.library.alias.parameters.SimpleGridCard.controls.pagination.visible)},function(e,t){var n=t.component;e(t,1,0,!1===n.library.alias.parameters.SimpleGridCard.isFilterVisible,!1===n.library.alias.parameters.SimpleGridCard.isColumnSeparatorVisible,n.layout.availableScrollHeightMetric,!0),e(t,33,0,!0),e(t,35,0,n.library.alias.cardI18n["grid.empty_results"])})}function wu(e){return l.Qb(0,[(e()(),l.ub(0,0,null,null,0,"span",[],[[8,"textContent",0],[8,"title",0]],null,null,null,null))],null,function(e,t){var n=t.component;e(t,0,0,n.library.alias.cardI18n[t.parent.context.fieldMetadata.text.header.key],n.library.alias.cardI18n[t.parent.context.fieldMetadata.text.header.key])})}function ku(e){return l.Qb(0,[(e()(),l.jb(16777216,null,null,1,null,wu)),l.tb(1,16384,null,0,g.q,[l.R,l.O],{ngIf:[0,"ngIf"]},null),(e()(),l.jb(0,null,null,0))],function(e,t){e(t,1,0,t.component.library.alias.cardI18n[t.context.fieldMetadata.text.header.key])},null)}function Tu(e){return l.Qb(0,[(e()(),l.Ob(0,null,[" ","\n"]))],null,function(e,t){e(t,0,0,t.context.rowData[t.context.fieldMetadata.id])})}function Pu(e){return l.Qb(0,[(e()(),l.Ob(0,null,[" ","\n"]))],null,function(e,t){e(t,0,0,t.component.library.alias.cardI18n["card.footer"])})}function xu(e){return l.Qb(0,[(e()(),l.ub(0,16777216,null,null,1,null,null,null,null,null,null,null)),l.tb(1,16384,null,0,g.q,[l.R,l.O],{ngIf:[0,"ngIf"]},null),(e()(),l.jb(0,null,null,0))],function(e,t){e(t,1,0,t.component.isTemplatePhaseReady)},null)}function _u(e){return l.Qb(2,[l.Mb(671088640,1,{defaultHeaderTemplate:0}),l.Mb(671088640,2,{defaultBodyTemplate:0}),l.Mb(671088640,3,{headerSection:0}),l.Mb(671088640,4,{footerSection:0}),l.Mb(671088640,5,{componentSection:0}),l.Mb(671088640,6,{footerContainerMaster:0}),l.Mb(671088640,7,{gridComponent:0}),l.Mb(671088640,8,{gridComponentViewContainerRef:0}),l.Mb(671088640,9,{gridFooterComponent:0}),l.Mb(671088640,10,{gridHeaderQueryList:1}),l.Mb(671088640,11,{gridFooterQueryList:1}),(e()(),l.jb(16777216,null,null,1,null,Su)),l.tb(12,16384,null,0,g.q,[l.R,l.O],{ngIf:[0,"ngIf"]},null),(e()(),l.jb(0,[[1,2],["defaultHeaderTemplate",2]],null,0,null,ku)),(e()(),l.jb(0,[[2,2],["defaultBodyTemplate",2]],null,0,null,Tu)),(e()(),l.jb(0,[[4,2],["footerSection",2]],null,0,null,Pu)),(e()(),l.jb(16777216,null,null,1,null,xu)),l.tb(17,671744,null,0,g.o,[l.R],{ngComponentOutlet:[0,"ngComponentOutlet"],ngComponentOutletNgModuleFactory:[1,"ngComponentOutletNgModuleFactory"]},null)],function(e,t){var n=t.component;e(t,12,0,n.isComponentPhaseReady),e(t,17,0,n.templatableComponentClass,n.templatableModuleFactory)},null)}function Ru(e){return l.Qb(0,[(e()(),l.ub(0,0,null,null,5,"dash-simple-grid-card",[],[[2,"loaded",null]],null,null,_u,cu)),l.Lb(8704,null,ft.d,ft.d,[xt.a,ct.a]),l.Lb(8704,null,ft.b,ft.b,[xt.a]),l.Lb(8704,null,ft.a,ft.a,[]),l.Lb(8704,null,ft.c,ft.c,[ft.d,ft.b,ft.a,xt.a]),l.tb(5,5488640,null,0,Ui,[xt.a,pt.a,ft.c,ct.a,l.h,l.B,dt.a,l.k,Wi,l.G,qi],null,null)],function(e,t){e(t,5,0)},function(e,t){e(t,0,0,l.Gb(t,5).loadedFlag)})}var Eu=l.qb("dash-simple-grid-card",Ui,Ru,{},{accessibilityTransitionCardEvent:"accessibilityTransition"},[]);class Lu{constructor(e){this._library=e}deriveVisibleModelItemsList(e){const t=this._library.alias.cardI18n,n=[];return e.forEach(e=>{{const l={model:e,view:this.baseViewItemFactory(e),message:t[e.title],data:e.progress};n.push(l)}}),n}baseViewItemFactory(e){const t={};return t.attribute={free:{value:parseFloat(e.free).toFixed(0),unit:e.free.split(/ +/)[1]}},t}}var Gu=l.sb({encapsulation:0,styles:[['[_nghost-%COMP%]{background:rgba(0,0,0,.2);display:block;overflow:hidden}  .dashboard-strategy-container GRIDSTER-ITEM[style][data-layoutItemComponentType=card-asset-node]{box-sizing:content-box}  .dashboard-strategy-container GRIDSTER-ITEM[style][data-layoutItemComponentType=card-asset-node].selectingState-focused{animation:2s infinite alternate-reverse nodeflowAssetGlowingFadeInOut;outline:rgba(0,0,0,.7) dashed 1px;outline-offset:-1px}@keyframes nodeflowAssetGlowingFadeInOut{0%{box-shadow:0 0 0 10px rgba(0,153,255,.3)}100%,50%{box-shadow:0 0 0 3px #09f}}  .dashboard-strategy-container GRIDSTER-ITEM[style]   [cardComponentType=card-asset-node]>article[data-layoutItemAspect=card]>[data-layoutItemAspect=header]{padding:.125rem .25rem;font-size:12pt;line-height:normal}  .dashboard-strategy-container GRIDSTER-ITEM[style]   [cardComponentType=card-asset-node]>article[data-layoutItemAspect=card]>[data-layoutItemAspect=header] [role=cardRollupAction]{width:.7rem;height:.7rem;border-radius:1rem;user-select:none;border:1px solid rgba(1,1,1,.2);opacity:.8}  .dashboard-strategy-container GRIDSTER-ITEM[style]   [cardComponentType=card-asset-node]>article[data-layoutItemAspect=card]>[data-layoutItemAspect=header] [role=cardRollupAction]:hover{opacity:1;cursor:pointer}  .dashboard-strategy-container GRIDSTER-ITEM[style]   [cardComponentType=card-asset-node]>article[data-layoutItemAspect=card]>[data-layoutItemAspect=header] [role=cardRollupAction]::before{position:absolute;display:inline-block;font-size:.7rem;line-height:.7rem;color:rgba(0,0,0,.5)}  .dashboard-strategy-container GRIDSTER-ITEM[style]   [cardComponentType=card-asset-node]>article[data-layoutItemAspect=card]>[data-layoutItemAspect=header] [role=cardRollupAction][data-minimized=true]{background-color:#f88}  .dashboard-strategy-container GRIDSTER-ITEM[style]   [cardComponentType=card-asset-node]>article[data-layoutItemAspect=card]>[data-layoutItemAspect=header] [role=cardRollupAction][data-minimized=true]::before{content:"\\25bc"}  .dashboard-strategy-container GRIDSTER-ITEM[style]   [cardComponentType=card-asset-node]>article[data-layoutItemAspect=card]>[data-layoutItemAspect=header] [role=cardRollupAction][data-minimized=false]{background-color:#aeb8c1}  .dashboard-strategy-container GRIDSTER-ITEM[style]   [cardComponentType=card-asset-node]>article[data-layoutItemAspect=card]>[data-layoutItemAspect=header] [role=cardRollupAction][data-minimized=false]::before{content:"\\25b2"}  .dashboard-strategy-container GRIDSTER-ITEM[style]   [cardComponentType=card-asset-node]>article[data-layoutItemAspect=card]>[data-layoutItemAspect=body]{padding:0}'],['[_nghost-%COMP%]{width:100%;height:100%;display:block}[_nghost-%COMP%]     SECTION[role=asset-node-widget]{display:flex;flex-direction:row;height:100%;justify-content:center;align-content:flex-start;align-items:baseline;flex-wrap:wrap}[_nghost-%COMP%]     SECTION[role=asset-node-widget] [role=container]{border:0;display:flex;flex-direction:row;width:100%;height:100%}[_nghost-%COMP%]     SECTION[role=asset-node-widget] [role=container] [role=assetDetails]{padding:0 .4rem;font-size:10pt;flex:1 0;overflow-y:auto}[_nghost-%COMP%]     SECTION[role=asset-node-widget] [role=container] [role=assetDetails] [role=nodeSocket] [role=nodeSocketIcon]{width:.5rem;border-radius:1rem;height:.5rem;display:inline-flex;align-items:center;justify-content:space-around}[_nghost-%COMP%]     SECTION[role=asset-node-widget] [role=container] [role=assetDetails] [role=nodeSocket] [role=nodeSocketIcon]::before{font-size:.4rem;font-style:normal;content:" "}[_nghost-%COMP%]     SECTION[role=asset-node-widget] [role=container] [role=assetDetails] [role=nodeSocket] [role=nodeSocketIcon].nodeSocketProducer{background-color:#0a8;border-color:#000}[_nghost-%COMP%]     SECTION[role=asset-node-widget] [role=container] [role=assetDetails] [role=nodeSocket] [role=nodeSocketIcon].nodeSocketProducer::before{content:"\\25b6"}[_nghost-%COMP%]     SECTION[role=asset-node-widget] [role=container] [role=assetDetails] [role=nodeSocket] [role=nodeSocketIcon].nodeSocketProducer.nodeSocketFocusedAction{background-color:#00c49c}[_nghost-%COMP%]     SECTION[role=asset-node-widget] [role=container] [role=assetDetails] [role=nodeSocket] [role=nodeSocketIcon].nodeSocketConsumer{background-color:#0a8;border-color:#000}[_nghost-%COMP%]     SECTION[role=asset-node-widget] [role=container] [role=assetDetails] [role=nodeSocket] [role=nodeSocketIcon].nodeSocketConsumer::before{content:"\\25c0"}[_nghost-%COMP%]     SECTION[role=asset-node-widget] [role=container] [role=assetDetails] [role=nodeSocket] [role=nodeSocketIcon].nodeSocketConsumer.nodeSocketFocusedAction{background-color:#00c49c}[_nghost-%COMP%]     SECTION[role=asset-node-widget] [role=container] [role=assetDetails] [role=nodeSocket] [role=nodeSocketIcon].nodeSocketDisabled{background-color:#777}[_nghost-%COMP%]     SECTION[role=asset-node-widget] [role=container] [role=assetDetails] [role=nodeSocket] [role=nodeSocketIcon].nodeSocketEmpty{border-color:#fff;opacity:.3}[_nghost-%COMP%]     SECTION[role=asset-node-widget] [role=container] [role=assetDetails] [role=nodeSocket] [role=nodeSocketIcon]:not(.nodeSocketEmpty){opacity:1}[_nghost-%COMP%]     SECTION[role=asset-node-widget] [role=container] [role=assetDetails] [role=nodeSocket] [role=nodeSocketIcon].nodeSocketFocusedAction{opacity:1;border-width:3px;border-color:#fff;animation:2s infinite glowingFadeInOut}@keyframes glowingFadeInOut{0%{border-width:1px;opacity:1}100%,50%{border-width:10px;opacity:0}}[_nghost-%COMP%]     SECTION[role=asset-node-widget] [role=container] [role=assetDetails] .pane-header{padding:0 .2rem;border-radius:.7rem;border:1px solid rgba(0,0,0,.2);margin:1px;background-color:rgba(255,255,255,.3);user-select:none}[_nghost-%COMP%]     SECTION[role=asset-node-widget] [role=container] [role=assetDetails] .pane-header:hover{text-decoration:underline;background-color:rgba(255,255,255,.3);border:1px solid rgba(0,0,0,.3)}[_nghost-%COMP%]     SECTION[role=asset-node-widget] [role=container] [role=assetDetails] .pane-header .pane-expando{display:inline-block}[_nghost-%COMP%]     SECTION[role=asset-node-widget] [role=container] [role=assetDetails] .pane-header .pane-expando::before{display:inline-block;background-color:rgba(0,0,0,.1);width:.7rem;height:.7rem;border-radius:1rem;content:"\\25b6";padding:.1rem;border:1px solid rgba(0,0,0,.5);text-align:center;margin:auto;vertical-align:middle;line-height:1}[_nghost-%COMP%]     SECTION[role=asset-node-widget] [role=container] [role=assetDetails] .pane-header .pane-expando:hover{cursor:pointer}[_nghost-%COMP%]     SECTION[role=asset-node-widget] [role=container] [role=assetDetails] .pane-header .pane-expando:hover::before{background-color:rgba(0,0,0,.3)}[_nghost-%COMP%]     SECTION[role=asset-node-widget] [role=container] [role=assetDetails] .pane-header.pane-expanded .pane-expando::before{width:.7rem;height:.7rem;background-color:rgba(0,0,33,.1);content:"\\25bc"}[_nghost-%COMP%]     SECTION[role=asset-node-widget] [role=container] [role=assetDetails] .pane-header.pane-expanded .pane-expando:hover::before{background-color:rgba(0,0,0,.3)}[_nghost-%COMP%]     SECTION[role=asset-node-widget] [role=container] [role=assetDetails] [role=socketsTable]{display:flex;flex-direction:row;padding:.5rem;background-color:rgba(83,43,43,.2);overflow:hidden}[_nghost-%COMP%]     SECTION[role=asset-node-widget] [role=container] [role=assetDetails] [role=socketsTable]>*{flex:1}[_nghost-%COMP%]     SECTION[role=asset-node-widget] [role=container] [role=assetDetails] [role=socketsTable] [role=consumerSocketList]{text-align:left}[_nghost-%COMP%]     SECTION[role=asset-node-widget] [role=container] [role=assetDetails] [role=socketsTable] [role=producerSocketList]{text-align:right}[_nghost-%COMP%]     SECTION[role=asset-node-widget] [role=container] [role=assetDetails] [role=socketsTable] [role=nodeSocket]{border-radius:1rem}[_nghost-%COMP%]     SECTION[role=asset-node-widget] [role=container] [role=assetDetails] [role=socketsTable] [role=nodeSocket]:hover{background-color:rgba(255,255,3,.2)}[_nghost-%COMP%]     SECTION[role=asset-node-widget] [role=container] [role=icon]{flex:0 1;background-color:rgba(255,255,255,.2);height:100%;min-width:2rem;display:flex;align-content:center}[_nghost-%COMP%]     SECTION[role=asset-node-widget] [role=container] [role=icon] [class*=" nodeflow-studio-canvas-icon-"], [_nghost-%COMP%]     SECTION[role=asset-node-widget] [role=container] [role=icon] [class^=nodeflow-studio-canvas-icon-]{background:url(/ngx-card-deck-seed/assets/organizers/nodeflow/nodeflow-asset-node/sprite.svg) no-repeat;width:16px;height:16px;display:inline-block;box-sizing:content-box}[_nghost-%COMP%]     SECTION[role=asset-node-widget] [role=container] [role=icon] .nodeflow-studio-canvas-icon-symbol6{background-position:0 0}[_nghost-%COMP%]     SECTION[role=asset-node-widget] [role=container] [role=icon] .nodeflow-studio-canvas-icon-symbol5{background-position:-32px 0}[_nghost-%COMP%]     SECTION[role=asset-node-widget] [role=container] [role=icon] .nodeflow-studio-canvas-icon-symbol3{background-position:-64px 0}[_nghost-%COMP%]     SECTION[role=asset-node-widget] [role=container] [role=icon] .nodeflow-studio-canvas-icon-symbol8{background-position:-97px 0}[_nghost-%COMP%]     SECTION[role=asset-node-widget] [role=container] [role=icon] .nodeflow-studio-canvas-icon-symbol16{background-position:-160px 0}[_nghost-%COMP%]     SECTION[role=asset-node-widget] [role=container] [role=icon] .nodeflow-studio-canvas-icon-symbol18{background-position:-192px 0}[_nghost-%COMP%]     SECTION[role=asset-node-widget] [role=container] [role=icon] .nodeflow-studio-canvas-icon-symbol4{background-position:-224px 0}[_nghost-%COMP%]     SECTION[role=asset-node-widget] [role=container] [role=icon] .nodeflow-studio-canvas-icon-symbol19{background-position:-256px 0}[_nghost-%COMP%]     SECTION[role=asset-node-widget] [role=container] [role=icon] .nodeflow-studio-canvas-icon-symbol13{background-position:-288px 0}[_nghost-%COMP%]     SECTION[role=asset-node-widget] [role=container] [role=icon] .nodeflow-studio-canvas-icon-symbol1{background-position:-320px 0}[_nghost-%COMP%]     SECTION[role=asset-node-widget] [role=container] [role=icon] .nodeflow-studio-canvas-icon-symbol12{background-position:-351px 0}[_nghost-%COMP%]     SECTION[role=asset-node-widget] [role=container] [role=icon] .nodeflow-studio-canvas-icon-symbol15{background-position:-416px 0}[_nghost-%COMP%]     SECTION[role=asset-node-widget] [role=container] [role=icon] .nodeflow-studio-canvas-icon-symbol17{background-position:-446px 0}[_nghost-%COMP%]     SECTION[role=asset-node-widget] [role=container] [role=icon] .nodeflow-studio-canvas-icon-symbol11{background-position:-481px 0}[_nghost-%COMP%]     SECTION[role=asset-node-widget] [role=container] [role=icon] .nodeflow-studio-canvas-icon-symbol14{background-position:-64px -32px}[_nghost-%COMP%]     SECTION[role=asset-node-widget] [role=container] [role=icon] .nodeflow-studio-canvas-icon-symbol105{background-position:-130px -32px}[_nghost-%COMP%]     SECTION[role=asset-node-widget] [role=container] [role=icon] .nodeflow-studio-canvas-icon-symbol9{background-position:-160px -32px}[_nghost-%COMP%]     SECTION[role=asset-node-widget] [role=container] [role=icon]>.iconButtonShape{margin:auto;border:1px solid #0097d9;border-radius:1.5rem;width:1.32rem;height:1.3rem;display:flex}[_nghost-%COMP%]     SECTION[role=asset-node-widget] [role=container] [role=icon]>.iconButtonShape>I{filter:brightness(.4) sepia(1) hue-rotate(173deg) saturate(3.5);margin:auto}[_nghost-%COMP%]     SECTION[role=asset-node-widget] [role=container] [role=icon]>.iconButtonShape:hover{border-color:#0085c0;background-color:#e6f5fb;cursor:pointer}[_nghost-%COMP%]     SECTION[role=asset-node-widget] [role=container] [role=icon]>.iconButtonShape.active{border-color:#00628d;background-color:#b3e0f4}[_nghost-%COMP%]     SECTION[role=asset-node-widget] [role=container] [role=icon].pane-shrink{min-width:1rem}[_nghost-%COMP%]     SECTION[role=asset-node-widget] [role=container] [role=icon].pane-shrink>.iconButtonShape{padding:.1rem;width:.67rem;height:.65rem}@media screen and (min-width:576px) and (max-width:767px){[_nghost-%COMP%]     SECTION[role=asset-node-widget]{flex-wrap:nowrap}}@media screen and (min-width:768px) and (max-width:991px){[_nghost-%COMP%]     SECTION[role=asset-node-widget]{flex-wrap:nowrap}}@media screen and (min-width:992px){[_nghost-%COMP%]     SECTION[role=asset-node-widget]{flex-wrap:nowrap}}  .dashboard-strategy-container GRIDSTER-ITEM[style]   [cardComponentType=card-asset-node]>article[data-layoutItemAspect=card]>[data-layoutItemAspect=header]{background:linear-gradient(rgba(233,233,233,.1),rgba(66,66,66,.3));border-bottom:1px solid rgba(0,0,0,.2)}  .dashboard-strategy-container GRIDSTER-ITEM[style]   [cardComponentType=card-asset-node]>article[data-layoutItemAspect=card]>[data-layoutItemAspect=header]   I.headerIcon{background-size:cover}  .dashboard-strategy-container GRIDSTER-ITEM[style]   [cardComponentType=card-asset-node]>article[data-layoutItemAspect=card]{border:0}  .dashboard-strategy-container GRIDSTER-ITEM[style]   [cardComponentType=card-asset-node]>article[data-layoutItemAspect=card]::before{content:"";position:absolute;width:4px;top:0;left:0;bottom:0;border-top-left-radius:2px;border-bottom-left-radius:2px;border-right:1px solid #000}  .dashboard-strategy-container GRIDSTER-ITEM[style]   [cardComponentType=card-asset-node]>article[data-layoutItemAspect=card].statusFlag-unknown::before{background-color:rgba(123,123,123,.5);border-right-color:rgba(0,0,0,.5)}  .dashboard-strategy-container GRIDSTER-ITEM[style]   [cardComponentType=card-asset-node]>article[data-layoutItemAspect=card].statusFlag-valid::before{background-color:#3d9850;border-right-color:#2b6b38}  .dashboard-strategy-container GRIDSTER-ITEM[style]   [cardComponentType=card-asset-node]>article[data-layoutItemAspect=card].statusFlag-invalid::before{background-color:#c00;border-right-color:#000}  .dashboard-strategy-container GRIDSTER-ITEM[style]   [cardComponentType=card-asset-node]>article[data-layoutItemAspect=card].statusFlag-busy::before{background-color:#ffa;border-right-color:#aa0}']],data:{}});function Du(e){return l.Qb(0,[(e()(),l.jb(0,null,null,0))],null,null)}function ju(e){return l.Qb(0,[(e()(),l.ub(0,0,null,null,3,null,null,null,null,null,null,null)),(e()(),l.jb(16777216,null,null,2,null,Du)),l.tb(2,540672,null,0,g.v,[l.R],{ngTemplateOutletContext:[0,"ngTemplateOutletContext"],ngTemplateOutlet:[1,"ngTemplateOutlet"]},null),l.Jb(3,{library:0,metricEntity:1,cardMetadata:2}),(e()(),l.jb(0,null,null,0))],function(e,t){var n=t.component,l=e(t,3,0,n.library,n.metricEntity,n.cardMetadata);e(t,2,0,l,n.positionBasedTemplateMap.body.nodePresentation)},null)}function $u(e){return l.Qb(0,[(e()(),l.ub(0,0,null,null,2,"section",[["role","asset-node-widget"]],null,null,null,null,null)),(e()(),l.jb(16777216,null,null,1,null,ju)),l.tb(2,16384,null,0,g.q,[l.R,l.O],{ngIf:[0,"ngIf"],ngIfElse:[1,"ngIfElse"]},null)],function(e,t){e(t,2,0,t.component.cardMetadata.assetType,l.Gb(t.parent,8))},null)}function Fu(e){return l.Qb(0,[(e()(),l.Ob(-1,null,[" header def\n"]))],null,null)}function zu(e){return l.Qb(0,[(e()(),l.Ob(-1,null,[" AssetTypeId error: "])),(e()(),l.ub(1,0,null,null,0,"span",[],[[8,"textContent",0]],null,null,null,null))],null,function(e,t){e(t,1,0,t.component.cardMetadata.businessProvider.assetTypeId)})}function Au(e){return l.Qb(0,[(e()(),l.ub(0,16777216,null,null,1,null,null,null,null,null,null,null)),l.tb(1,16384,null,0,g.q,[l.R,l.O],{ngIf:[0,"ngIf"]},null),(e()(),l.jb(0,null,null,0))],function(e,t){e(t,1,0,t.component.isTemplatePhaseReady)},null)}function Nu(e){return l.Qb(0,[(e()(),l.ub(0,0,null,null,0,"div",[["role","cardRollupAction"]],[[8,"hidden",0],[1,"data-minimized",0]],[[null,"click"]],function(e,t,n){var l=!0;return"click"===t&&(l=!1!==e.component.collapsibleCardWindowProvider.onToggleCardRollup(n)&&l),l},null,null))],null,function(e,t){var n=t.component;e(t,0,0,!n.collapsibleCardWindowProvider.isIconVisible,n.collapsibleCardWindowProvider.cardWindowRollupState)})}function Vu(e){return l.Qb(0,[l.Mb(671088640,1,{defaultHeaderTemplate:0}),l.Mb(671088640,2,{defaultBodyTemplate:0}),l.Mb(671088640,3,{headerSection:0}),l.Mb(671088640,4,{footerSection:0}),(e()(),l.jb(16777216,null,null,2,null,$u)),l.tb(5,16384,null,0,g.q,[l.R,l.O],{ngIf:[0,"ngIf"]},null),l.Ib(131072,g.b,[l.h]),(e()(),l.jb(0,[[1,2],["defaultHeaderTemplate",2]],null,0,null,Fu)),(e()(),l.jb(0,[["missingCardMetadata",2]],null,0,null,zu)),(e()(),l.jb(16777216,null,null,1,null,Au)),l.tb(10,671744,null,0,g.o,[l.R],{ngComponentOutlet:[0,"ngComponentOutlet"],ngComponentOutletNgModuleFactory:[1,"ngComponentOutletNgModuleFactory"]},null),(e()(),l.jb(0,[[3,2],["headerSection",2]],null,0,null,Nu))],function(e,t){var n=t.component;e(t,5,0,l.Pb(t,5,0,l.Gb(t,6).transform(n.initialDataModelResponse$))),e(t,10,0,n.templatableComponentClass,n.templatableModuleFactory)},null)}function Bu(e){return l.Qb(0,[(e()(),l.ub(0,0,null,null,8,"nodeflow-asset-node",[],[[2,"loaded",null]],null,null,Vu,Gu)),l.Lb(12800,null,Lu,Lu,[ft.c]),l.Lb(8704,null,ft.d,ft.d,[xt.a,ct.a]),l.Lb(8704,null,ft.b,ft.b,[xt.a]),l.Lb(8704,null,ft.a,ft.a,[]),l.Lb(8704,null,ft.c,ft.c,[ft.d,ft.b,ft.a,xt.a]),l.Lb(8704,null,os,os,[]),l.Lb(8704,null,ns,ns,[xt.e,fr.a,l.j,l.s]),l.tb(8,245760,null,0,rs,[xt.a,pt.a,ft.c,os,ct.a,l.h,l.G,ns,dt.a,l.k],null,null)],function(e,t){e(t,8,0)},function(e,t){e(t,0,0,l.Gb(t,8).loadedFlag)})}var Qu=l.qb("nodeflow-asset-node",rs,Bu,{},{accessibilityTransitionCardEvent:"accessibilityTransition"},[]),Hu=n("vDj+"),Wu=n("TE5M"),qu=n("yxIY"),Uu=n("U+hP"),Xu=l.sb({encapsulation:0,styles:[["[_nghost-%COMP%]{display:block;overflow:hidden}"],[".clarity.standard-light-theme[_nghost-%COMP%]     SECTION[role=chart-widget] [role=chart-metric] [role=chart-metric-informational]>:nth-of-type(1), .clarity.standard-light-theme   [_nghost-%COMP%]     SECTION[role=chart-widget] [role=chart-metric] [role=chart-metric-informational]>:nth-of-type(1){border-right-color:#b7bdc1}@media screen and (min-width:576px) and (max-width:767px){.clarity.standard-light-theme[_nghost-%COMP%]     SECTION[role=chart-widget] [role=chart-metric], .clarity.standard-light-theme   [_nghost-%COMP%]     SECTION[role=chart-widget] [role=chart-metric]{border-left-color:#b7bdc1}}@media screen and (min-width:768px) and (max-width:991px){.clarity.standard-light-theme[_nghost-%COMP%]     SECTION[role=chart-widget] [role=chart-metric], .clarity.standard-light-theme   [_nghost-%COMP%]     SECTION[role=chart-widget] [role=chart-metric]{border-left-color:#b7bdc1}}@media screen and (min-width:992px){.clarity.standard-light-theme[_nghost-%COMP%]     SECTION[role=chart-widget] [role=chart-metric], .clarity.standard-light-theme   [_nghost-%COMP%]     SECTION[role=chart-widget] [role=chart-metric]{border-left-color:#b7bdc1}.clarity.standard-dark-theme[_nghost-%COMP%]     SECTION[role=chart-widget] [role=chart-metric], .clarity.standard-dark-theme   [_nghost-%COMP%]     SECTION[role=chart-widget] [role=chart-metric]{border-left-color:#0f171c}}@media screen and (max-width:375px){.clarity.standard-light-theme[_nghost-%COMP%]     SECTION[role=chart-widget] [role=chart-metric], .clarity.standard-light-theme   [_nghost-%COMP%]     SECTION[role=chart-widget] [role=chart-metric]{border-top-color:#b7bdc1}}@media screen and (min-width:376px) and (max-width:575px){.clarity.standard-light-theme[_nghost-%COMP%]     SECTION[role=chart-widget] [role=chart-metric], .clarity.standard-light-theme   [_nghost-%COMP%]     SECTION[role=chart-widget] [role=chart-metric]{border-top-color:#b7bdc1}.clarity.standard-dark-theme[_nghost-%COMP%]     SECTION[role=chart-widget] [role=chart-metric], .clarity.standard-dark-theme   [_nghost-%COMP%]     SECTION[role=chart-widget] [role=chart-metric]{border-top-color:#0f171c}}.clarity.standard-dark-theme[_nghost-%COMP%]     SECTION[role=chart-widget] [role=chart-metric] [role=chart-metric-informational]>:nth-of-type(1), .clarity.standard-dark-theme   [_nghost-%COMP%]     SECTION[role=chart-widget] [role=chart-metric] [role=chart-metric-informational]>:nth-of-type(1){border-right-color:#0f171c}@media screen and (min-width:576px) and (max-width:767px){.clarity.standard-dark-theme[_nghost-%COMP%]     SECTION[role=chart-widget] [role=chart-metric], .clarity.standard-dark-theme   [_nghost-%COMP%]     SECTION[role=chart-widget] [role=chart-metric]{border-left-color:#0f171c}}@media screen and (min-width:768px) and (max-width:991px){.clarity.standard-dark-theme[_nghost-%COMP%]     SECTION[role=chart-widget] [role=chart-metric], .clarity.standard-dark-theme   [_nghost-%COMP%]     SECTION[role=chart-widget] [role=chart-metric]{border-left-color:#0f171c}}@media screen and (max-width:375px){.clarity.standard-dark-theme[_nghost-%COMP%]     SECTION[role=chart-widget] [role=chart-metric], .clarity.standard-dark-theme   [_nghost-%COMP%]     SECTION[role=chart-widget] [role=chart-metric]{border-top-color:#0f171c}}[_nghost-%COMP%]{width:100%;height:100%;display:block}[_nghost-%COMP%]     SECTION[role=chart-widget]{display:flex;flex-direction:row;justify-content:center;align-content:flex-start;align-items:baseline;flex-wrap:wrap}[_nghost-%COMP%]     SECTION[role=chart-widget] [role=chart-metric]:first-child{border:0}[_nghost-%COMP%]     SECTION[role=chart-widget] [role=chart-metric]{display:flex;flex-direction:column;flex:0 1 100%;padding:0 2%}[_nghost-%COMP%]     SECTION[role=chart-widget] [role=chart-metric] [role=chart-metric-title]{align-content:flex-start;display:flex;flex-direction:row;align-items:flex-start}[_nghost-%COMP%]     SECTION[role=chart-widget] [role=chart-metric] [role=chart-metric-title] H4{margin:0;padding:0 1rem}[_nghost-%COMP%]     SECTION[role=chart-widget] [role=chart-metric] [role=chart-metric-label]{display:flex;flex-direction:row;flex:0 1;flex-basis:auto;justify-content:center;align-items:center;margin:0}[_nghost-%COMP%]     SECTION[role=chart-widget] [role=chart-metric] [role=chart-metric-label] [role=chart-metric-attribute-unit]{padding-left:.3rem;margin:0;text-overflow:ellipsis;overflow-x:hidden}@media screen and (min-width:376px) and (max-width:575px){[_nghost-%COMP%]     SECTION[role=chart-widget] [role=chart-metric] [role=chart-metric-label] [role=chart-metric-attribute-unit]{padding-left:.36rem}}[_nghost-%COMP%]     SECTION[role=chart-widget] [role=chart-metric] [role=chart-metric-label] [role=chart-metric-attribute-value]{line-height:1.5rem;margin:0}[_nghost-%COMP%]     SECTION[role=chart-widget] [role=chart-metric] [role=chart-render-container]{width:100%;padding:0 20%;position:relative}[_nghost-%COMP%]     SECTION[role=chart-widget] [role=chart-metric] [role=chart-render-container] [role=chart-render-bar]{height:.5rem;margin-top:0;position:inherit}[_nghost-%COMP%]     SECTION[role=chart-widget] [role=chart-metric] [role=chart-metric-informational]{display:flex;justify-content:center;align-items:stretch;font-size:12px;line-height:1.5;padding-top:.5rem}[_nghost-%COMP%]     SECTION[role=chart-widget] [role=chart-metric] [role=chart-metric-informational]>:nth-of-type(1){text-align:right;margin-right:.5rem;padding-right:.5rem;border-right:1px solid}[_nghost-%COMP%]     SECTION[role=chart-widget] [role=chart-metric] [role=chart-metric-informational]>:nth-of-type(2){text-align:left}@media screen and (min-width:576px) and (max-width:767px){[_nghost-%COMP%]     SECTION[role=chart-widget] [role=chart-metric] [role=chart-metric-label] [role=chart-metric-attribute-unit]{padding-left:.42rem}[_nghost-%COMP%]     SECTION[role=chart-widget] [role=chart-metric]{flex-basis:33.33333333%;border-left:1px solid}}@media screen and (min-width:768px) and (max-width:991px){[_nghost-%COMP%]     SECTION[role=chart-widget] [role=chart-metric] [role=chart-metric-label] [role=chart-metric-attribute-unit]{padding-left:.48rem}[_nghost-%COMP%]     SECTION[role=chart-widget] [role=chart-metric]{flex-basis:33.33333333%;border-left:1px solid}}@media screen and (min-width:992px){[_nghost-%COMP%]     SECTION[role=chart-widget] [role=chart-metric] [role=chart-metric-label] [role=chart-metric-attribute-unit]{padding-left:.54rem}[_nghost-%COMP%]     SECTION[role=chart-widget] [role=chart-metric]{flex-basis:33.33333333%;border-left:1px solid}}@media screen and (max-width:375px){[_nghost-%COMP%]     SECTION[role=chart-widget] [role=chart-metric]{flex-basis:100%;border-top:1px solid;padding:1rem 0}}@media screen and (min-width:376px) and (max-width:575px){[_nghost-%COMP%]     SECTION[role=chart-widget] [role=chart-metric]{flex-basis:100%;border-top:1px solid;padding:1rem 0}}@media screen and (min-width:576px) and (max-width:767px){[_nghost-%COMP%]     SECTION[role=chart-widget]{flex-wrap:nowrap}}@media screen and (min-width:768px) and (max-width:991px){[_nghost-%COMP%]     SECTION[role=chart-widget]{flex-wrap:nowrap}}@media screen and (min-width:992px){[_nghost-%COMP%]     SECTION[role=chart-widget]{flex-wrap:nowrap}}  .dashboard-strategy-container GRIDSTER-ITEM[style]   [cardComponentType=card-metrics-billboard]>article[data-layoutItemAspect=card]>[data-layoutItemAspect=header]{background:linear-gradient(to right,rgba(103,84,118,.3),rgba(73,74,181,0))}  .dashboard-strategy-container GRIDSTER-ITEM[style]   [cardComponentType=card-metrics-billboard]>article[data-layoutItemAspect=card]>[data-layoutItemAspect=header]   I.headerIcon{background-size:cover}  .dashboard-strategy-container GRIDSTER-ITEM[style]   [cardComponentType=card-metrics-billboard]>article[data-layoutItemAspect=card]>[data-layoutItemAspect=header]   I.headerIcon.datastore{background-image:url(//cdnjs.cloudflare.com/ajax/libs/foundicons/3.0.0/svgs/fi-skull.svg)}  .dashboard-strategy-container GRIDSTER-ITEM[style]   [cardComponentType=card-metrics-billboard]>article[data-layoutItemAspect=card]>[data-layoutItemAspect=header]   I.headerIcon.social-treehouse{background-image:url(//cdnjs.cloudflare.com/ajax/libs/foundicons/3.0.0/svgs/fi-social-treehouse.svg)}"]],data:{}});function Yu(e){return l.Qb(0,[(e()(),l.jb(0,null,null,0))],null,null)}function Ku(e){return l.Qb(0,[(e()(),l.ub(0,0,null,null,13,"section",[["role","chart-metric"]],[[1,"title",0]],null,null,null,null)),(e()(),l.ub(1,0,null,null,3,"section",[["role","chart-metric-label"]],null,null,null,null,null)),(e()(),l.ub(2,0,null,null,0,"h2",[["role","chart-metric-attribute-value"]],[[8,"textContent",0]],null,null,null,null)),(e()(),l.ub(3,0,null,null,1,"h5",[["role","chart-metric-attribute-unit"]],null,null,null,null,null)),(e()(),l.Ob(4,null,[""," ",""])),(e()(),l.ub(5,0,null,null,3,"section",[["role","chart-render-container"]],null,null,null,null,null)),(e()(),l.jb(16777216,null,null,2,null,Yu)),l.tb(7,540672,null,0,g.v,[l.R],{ngTemplateOutletContext:[0,"ngTemplateOutletContext"],ngTemplateOutlet:[1,"ngTemplateOutlet"]},null),l.Jb(8,{metricEntity:0}),(e()(),l.ub(9,0,null,null,4,"section",[["role","chart-metric-informational"]],null,null,null,null,null)),(e()(),l.ub(10,0,null,null,1,"div",[],null,null,null,null,null)),(e()(),l.Ob(11,null,[""," ",""])),(e()(),l.ub(12,0,null,null,1,"div",[],null,null,null,null,null)),(e()(),l.Ob(13,null,[""," ",""]))],function(e,t){var n=t.component,l=e(t,8,0,t.context.$implicit);e(t,7,0,l,n.positionBasedTemplateMap.body.metricsBillboardProgressWidget)},function(e,t){var n=t.component;e(t,0,0,t.context.$implicit.message),e(t,2,0,t.context.$implicit.view.attribute.free.value),e(t,4,0,t.context.$implicit.view.attribute.free.unit,n.library.alias.cardI18n["resource.measured_free"]),e(t,11,0,t.context.$implicit.model.used,n.library.alias.cardI18n["resource.measured_used"]),e(t,13,0,t.context.$implicit.model.capacity,n.library.alias.cardI18n["resource.measured_total"])})}function Ju(e){return l.Qb(0,[(e()(),l.ub(0,0,null,null,3,"section",[["role","billboard-widget"]],null,null,null,null,null)),(e()(),l.ub(1,0,null,null,2,"section",[["role","chart-widget"]],null,null,null,null,null)),(e()(),l.jb(16777216,null,null,1,null,Ku)),l.tb(3,278528,null,0,g.p,[l.R,l.O,l.u],{ngForOf:[0,"ngForOf"]},null)],function(e,t){e(t,3,0,t.component.numericTransformedValueItemsList)},null)}function Zu(e){return l.Qb(0,[(e()(),l.Ob(-1,null,[" header def\n"]))],null,null)}function ec(e){return l.Qb(0,[(e()(),l.jb(0,null,null,0))],null,null)}function tc(e){return l.Qb(0,[(e()(),l.ub(0,16777216,null,null,1,null,null,null,null,null,null,null)),l.tb(1,16384,null,0,g.q,[l.R,l.O],{ngIf:[0,"ngIf"]},null),(e()(),l.jb(0,null,null,0))],function(e,t){e(t,1,0,t.component.isTemplatePhaseReady)},null)}function nc(e){return l.Qb(0,[l.Mb(671088640,1,{defaultHeaderTemplate:0}),l.Mb(671088640,2,{defaultBodyTemplate:0}),l.Mb(671088640,3,{headerSection:0}),l.Mb(671088640,4,{footerSection:0}),(e()(),l.jb(16777216,null,null,2,null,Ju)),l.tb(5,16384,null,0,g.q,[l.R,l.O],{ngIf:[0,"ngIf"]},null),l.Ib(131072,g.b,[l.h]),(e()(),l.jb(0,[[1,2],["defaultHeaderTemplate",2]],null,0,null,Zu)),(e()(),l.jb(0,[[2,2],["defaultBodyTemplate",2]],null,0,null,ec)),(e()(),l.jb(16777216,null,null,1,null,tc)),l.tb(10,671744,null,0,g.o,[l.R],{ngComponentOutlet:[0,"ngComponentOutlet"],ngComponentOutletNgModuleFactory:[1,"ngComponentOutletNgModuleFactory"]},null)],function(e,t){var n=t.component;e(t,5,0,l.Pb(t,5,0,l.Gb(t,6).transform(n.initialDataModelResponse$))),e(t,10,0,n.templatableComponentClass,n.templatableModuleFactory)},null)}function lc(e){return l.Qb(0,[(e()(),l.ub(0,0,null,null,8,"demo-metrics-billboard",[],[[2,"loaded",null]],null,null,nc,Xu)),l.Lb(8704,null,ft.d,ft.d,[xt.a,ct.a]),l.Lb(8704,null,ft.b,ft.b,[xt.a]),l.Lb(8704,null,ft.a,ft.a,[]),l.Lb(8704,null,ft.c,ft.c,[ft.d,ft.b,ft.a,xt.a]),l.Lb(8704,null,Hu.a,Hu.a,[xt.e,fr.a,l.j,l.s]),l.Lb(8704,null,Wu.a,Wu.a,[]),l.Lb(8704,null,qu.a,qu.a,[Wu.a]),l.tb(8,245760,null,0,Uu.a,[xt.a,pt.a,ft.c,ct.a,l.h,Hu.a,qu.a,l.k,dt.a],null,null)],function(e,t){e(t,8,0)},function(e,t){e(t,0,0,l.Gb(t,8).loadedFlag)})}var oc=l.qb("demo-metrics-billboard",Uu.a,lc,{},{accessibilityTransitionCardEvent:"accessibilityTransition"},[]),ic=l.sb({encapsulation:0,styles:[["[_nghost-%COMP%]{width:100%;padding:0 2rem;display:block;overflow:hidden}[_nghost-%COMP%]   SECTION[role=chart-widget][_ngcontent-%COMP%]{justify-content:center;display:flex;flex-wrap:wrap;flex-direction:row;margin:12px 0;overflow:hidden}[_nghost-%COMP%]   SECTION[role=chart-widget][_ngcontent-%COMP%]   [role=chart-metric][_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;padding:.5rem 1rem}[_nghost-%COMP%]   SECTION[role=chart-widget][_ngcontent-%COMP%]   [role=chart-metric][_ngcontent-%COMP%]   [role=chart-metric-value][_ngcontent-%COMP%]{margin:0}[_nghost-%COMP%]   SECTION[role=chart-widget][_ngcontent-%COMP%]   [role=chart-metric][_ngcontent-%COMP%]   [role=chart-metric-label][_ngcontent-%COMP%]{margin:0}"],["[_nghost-%COMP%]{width:100%;display:block;background-color:#f2f2f2}[_nghost-%COMP%]   SECTION[role=chart-widget][_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:center;align-content:flex-start;align-items:baseline;flex-wrap:wrap}[_nghost-%COMP%]   SECTION[role=chart-widget][_ngcontent-%COMP%]   [role=chart-summary][_ngcontent-%COMP%]:first-child{border:0}[_nghost-%COMP%]   SECTION[role=chart-widget][_ngcontent-%COMP%]   [role=chart-summary][_ngcontent-%COMP%]{display:flex;flex-direction:column;flex:0 1;padding:0 1rem}[_nghost-%COMP%]   SECTION[role=chart-widget][_ngcontent-%COMP%]   [role=chart-summary][_ngcontent-%COMP%]   [role=chart-summary-title][_ngcontent-%COMP%]{align-content:flex-start;display:flex;flex-direction:row;align-items:flex-start}[_nghost-%COMP%]   SECTION[role=chart-widget][_ngcontent-%COMP%]   [role=chart-summary][_ngcontent-%COMP%]   [role=chart-summary-title][_ngcontent-%COMP%]   H4[_ngcontent-%COMP%]{margin:0;padding:0 1rem}[_nghost-%COMP%]   SECTION[role=chart-widget][_ngcontent-%COMP%]   [role=chart-summary][_ngcontent-%COMP%]   [role=chart-summary-label][_ngcontent-%COMP%]{display:flex;flex-direction:row;flex:0 1;justify-content:center;align-items:baseline;margin:0}[_nghost-%COMP%]   SECTION[role=chart-widget][_ngcontent-%COMP%]   [role=chart-summary][_ngcontent-%COMP%]   [role=chart-summary-label][_ngcontent-%COMP%]   [role=chart-summary-attribute-unit][_ngcontent-%COMP%]{padding-left:.3rem;margin:0;white-space:nowrap;text-overflow:clip;overflow-x:hidden}@media screen and (min-width:376px) and (max-width:575px){[_nghost-%COMP%]   SECTION[role=chart-widget][_ngcontent-%COMP%]   [role=chart-summary][_ngcontent-%COMP%]   [role=chart-summary-label][_ngcontent-%COMP%]   [role=chart-summary-attribute-unit][_ngcontent-%COMP%]{padding-left:.36rem}}[_nghost-%COMP%]   SECTION[role=chart-widget][_ngcontent-%COMP%]   [role=chart-summary][_ngcontent-%COMP%]   [role=chart-summary-label][_ngcontent-%COMP%]   [role=chart-summary-attribute-value][_ngcontent-%COMP%]{margin:0}[_nghost-%COMP%]   SECTION[role=chart-widget][_ngcontent-%COMP%]   [role=chart-summary][_ngcontent-%COMP%]   [role=chart-render-container][_ngcontent-%COMP%]{width:100%;padding:0 20%;position:relative}[_nghost-%COMP%]   SECTION[role=chart-widget][_ngcontent-%COMP%]   [role=chart-summary][_ngcontent-%COMP%]   [role=chart-render-container][_ngcontent-%COMP%]   [role=chart-render-bar][_ngcontent-%COMP%]{height:.5rem}[_nghost-%COMP%]   SECTION[role=chart-widget][_ngcontent-%COMP%]   [role=chart-summary][_ngcontent-%COMP%]   [role=chart-summary-informational][_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:stretch;font-size:12px;line-height:1.5;padding-top:.5rem}[_nghost-%COMP%]   SECTION[role=chart-widget][_ngcontent-%COMP%]   [role=chart-summary][_ngcontent-%COMP%]   [role=chart-summary-informational][_ngcontent-%COMP%] > [_ngcontent-%COMP%]:nth-of-type(1){text-align:right;margin-right:.5rem;padding-right:.5rem;border-right:1px solid #cecece}[_nghost-%COMP%]   SECTION[role=chart-widget][_ngcontent-%COMP%]   [role=chart-summary][_ngcontent-%COMP%]   [role=chart-summary-informational][_ngcontent-%COMP%] > [_ngcontent-%COMP%]:nth-of-type(2){text-align:left}@media screen and (min-width:576px) and (max-width:767px){[_nghost-%COMP%]   SECTION[role=chart-widget][_ngcontent-%COMP%]   [role=chart-summary][_ngcontent-%COMP%]   [role=chart-summary-label][_ngcontent-%COMP%]   [role=chart-summary-attribute-unit][_ngcontent-%COMP%]{padding-left:.42rem}[_nghost-%COMP%]   SECTION[role=chart-widget][_ngcontent-%COMP%]   [role=chart-summary][_ngcontent-%COMP%]{flex-basis:33.33333333%;border-left:1px solid #cecece}}@media screen and (min-width:768px) and (max-width:991px){[_nghost-%COMP%]   SECTION[role=chart-widget][_ngcontent-%COMP%]   [role=chart-summary][_ngcontent-%COMP%]   [role=chart-summary-label][_ngcontent-%COMP%]   [role=chart-summary-attribute-unit][_ngcontent-%COMP%]{padding-left:.48rem}[_nghost-%COMP%]   SECTION[role=chart-widget][_ngcontent-%COMP%]   [role=chart-summary][_ngcontent-%COMP%]{flex-basis:33.33333333%;border-left:1px solid #cecece}}@media screen and (min-width:992px){[_nghost-%COMP%]   SECTION[role=chart-widget][_ngcontent-%COMP%]   [role=chart-summary][_ngcontent-%COMP%]   [role=chart-summary-label][_ngcontent-%COMP%]   [role=chart-summary-attribute-unit][_ngcontent-%COMP%]{padding-left:.54rem}[_nghost-%COMP%]   SECTION[role=chart-widget][_ngcontent-%COMP%]   [role=chart-summary][_ngcontent-%COMP%]{flex-basis:33.33333333%;border-left:1px solid #cecece}}@media screen and (max-width:375px){[_nghost-%COMP%]   SECTION[role=chart-widget][_ngcontent-%COMP%]   [role=chart-summary][_ngcontent-%COMP%]{flex-basis:100%;border-top:1px solid #cecece;padding:1rem 0}}@media screen and (min-width:376px) and (max-width:575px){[_nghost-%COMP%]   SECTION[role=chart-widget][_ngcontent-%COMP%]   [role=chart-summary][_ngcontent-%COMP%]{flex-basis:100%;border-top:1px solid #cecece;padding:1rem 0}}@media screen and (min-width:576px) and (max-width:767px){[_nghost-%COMP%]   SECTION[role=chart-widget][_ngcontent-%COMP%]{flex-wrap:nowrap}}@media screen and (min-width:768px) and (max-width:991px){[_nghost-%COMP%]   SECTION[role=chart-widget][_ngcontent-%COMP%]{flex-wrap:nowrap}}@media screen and (min-width:992px){[_nghost-%COMP%]   SECTION[role=chart-widget][_ngcontent-%COMP%]{flex-wrap:nowrap}}  .dashboard-strategy-container GRIDSTER-ITEM[style]   [cardComponentType=card-summary-billboard]>article[data-layoutItemAspect=card]>[data-layoutItemAspect=header]{background:linear-gradient(to right,rgba(173,4,18,.2),rgba(73,74,81,0))}  .dashboard-strategy-container GRIDSTER-ITEM[style]   [cardComponentType=card-summary-billboard]>article[data-layoutItemAspect=card]>[data-layoutItemAspect=header]   I.headerIcon{background-size:cover}  .dashboard-strategy-container GRIDSTER-ITEM[style]   [cardComponentType=card-summary-billboard]>article[data-layoutItemAspect=card]>[data-layoutItemAspect=header]   I.headerIcon.mountains{background-image:url(//cdnjs.cloudflare.com/ajax/libs/foundicons/3.0.0/svgs/fi-mountains.svg)}"]],data:{}});function rc(e){return l.Qb(0,[(e()(),l.ub(0,0,null,null,2,"section",[["role","chart-metric"]],null,null,null,null,null)),(e()(),l.ub(1,0,null,null,0,"h4",[["role","chart-metric-value"]],[[8,"textContent",0]],null,null,null,null)),(e()(),l.ub(2,0,null,null,0,"div",[["class","p5"],["role","chart-metric-label"]],[[8,"textContent",0]],null,null,null,null))],null,function(e,t){e(t,1,0,t.context.$implicit.data),e(t,2,0,t.context.$implicit.message)})}function sc(e){return l.Qb(0,[(e()(),l.ub(0,0,null,null,2,"section",[["role","chart-widget"]],[[4,"flexBasis","%"]],null,null,null,null)),(e()(),l.jb(16777216,null,null,1,null,rc)),l.tb(2,278528,null,0,g.p,[l.R,l.O,l.u],{ngForOf:[0,"ngForOf"]},null)],function(e,t){e(t,2,0,t.component.numericTransformedValueItemsList)},function(e,t){e(t,0,0,100/t.component.numericTransformedValueItemsList.length)})}function ac(e){return l.Qb(0,[(e()(),l.ub(0,0,null,null,2,"section",[["role","billboard-widget"]],null,null,null,null,null)),(e()(),l.jb(16777216,null,null,1,null,sc)),l.tb(2,16384,null,0,g.q,[l.R,l.O],{ngIf:[0,"ngIf"]},null)],function(e,t){e(t,2,0,t.component.numericTransformedValueItemsList)},null)}function uc(e){return l.Qb(0,[(e()(),l.Ob(0,null,[" ","\n"]))],null,function(e,t){e(t,0,0,t.component.library.alias.cardI18n["card.footer"])})}function cc(e){return l.Qb(0,[(e()(),l.ub(0,16777216,null,null,1,null,null,null,null,null,null,null)),l.tb(1,16384,null,0,g.q,[l.R,l.O],{ngIf:[0,"ngIf"]},null),(e()(),l.jb(0,null,null,0))],function(e,t){e(t,1,0,t.component.isTemplatePhaseReady)},null)}function dc(e){return l.Qb(0,[l.Mb(671088640,1,{defaultHeaderTemplate:0}),l.Mb(671088640,2,{defaultBodyTemplate:0}),l.Mb(671088640,3,{headerSection:0}),l.Mb(671088640,4,{footerSection:0}),(e()(),l.jb(16777216,null,null,2,null,ac)),l.tb(5,16384,null,0,g.q,[l.R,l.O],{ngIf:[0,"ngIf"]},null),l.Ib(131072,g.b,[l.h]),(e()(),l.jb(0,[[4,2],["footerSection",2]],null,0,null,uc)),(e()(),l.jb(16777216,null,null,1,null,cc)),l.tb(9,671744,null,0,g.o,[l.R],{ngComponentOutlet:[0,"ngComponentOutlet"],ngComponentOutletNgModuleFactory:[1,"ngComponentOutletNgModuleFactory"]},null)],function(e,t){var n=t.component;e(t,5,0,l.Pb(t,5,0,l.Gb(t,6).transform(n.initialDataModelResponse$))),e(t,9,0,n.templatableComponentClass,n.templatableModuleFactory)},null)}function hc(e){return l.Qb(0,[(e()(),l.ub(0,0,null,null,7,"demo-summary-billboard",[],[[2,"loaded",null]],null,null,dc,ic)),l.Lb(8704,null,ft.d,ft.d,[xt.a,ct.a]),l.Lb(8704,null,ft.b,ft.b,[xt.a]),l.Lb(8704,null,ft.a,ft.a,[]),l.Lb(8704,null,ft.c,ft.c,[ft.d,ft.b,ft.a,xt.a]),l.Lb(8704,null,Pi,Pi,[ft.c]),l.Lb(8704,null,Ti,Ti,[xt.e,fr.a,l.j,l.s]),l.tb(7,5488640,null,0,xi,[xt.a,pt.a,ft.c,ct.a,l.h,dt.a,l.k,Pi,Ti],null,null)],function(e,t){e(t,7,0)},function(e,t){e(t,0,0,l.Gb(t,7).loadedFlag)})}var gc=l.qb("demo-summary-billboard",xi,hc,{},{accessibilityTransitionCardEvent:"accessibilityTransition"},[]),mc=l.sb({encapsulation:0,styles:[["[_nghost-%COMP%]{background:rgba(0,0,0,.1);padding:10px;display:block;overflow:hidden}  .dashboard-strategy-container GRIDSTER-ITEM[style][data-layoutItemComponentType=card-introduction]{border:1px solid rgba(0,0,0,.2);border-radius:.5rem}  .dashboard-strategy-container GRIDSTER-ITEM[style]   [cardComponentType=card-introduction]>article[data-layoutItemAspect=card]>[data-layoutItemAspect=header]{padding:.125rem .25rem;box-shadow:inset 0 -2px 0 0 rgba(0,0,0,.2)}  .dashboard-strategy-container GRIDSTER-ITEM[style]   [cardComponentType=card-introduction]>article[data-layoutItemAspect=card]>[data-layoutItemAspect=body]{padding:0}"],['[_nghost-%COMP%]{width:100%;height:100%;display:block}[_nghost-%COMP%]     SECTION.introduction-widget{display:flex;flex-direction:row;height:100%;justify-content:center;align-content:flex-start;align-items:baseline;flex-wrap:wrap}[_nghost-%COMP%]     SECTION.introduction-widget [role=container]{border:0;display:flex;flex-direction:row;width:100%;height:100%}[_nghost-%COMP%]     SECTION.introduction-widget [role=container] .details{display:flex;flex-direction:column;flex:1 0;padding-right:2px;font-size:10pt;overflow-y:auto;box-shadow:2px 0 0 0 rgba(0,0,0,.1)}[_nghost-%COMP%]     SECTION.introduction-widget [role=container] .details>clr-tabs{display:flex;flex-direction:column;overflow:hidden;flex-basis:100%}[_nghost-%COMP%]     SECTION.introduction-widget [role=container] .details>clr-tabs>[role=tabslist]{flex:0}[_nghost-%COMP%]     SECTION.introduction-widget [role=container] .details>clr-tabs>[role=tabpanel]{display:flex;flex:1;overflow-y:auto}[_nghost-%COMP%]     SECTION.introduction-widget [role=container] .details .devicesList TABLE{width:100%;border:1px solid rgba(0,0,0,.3)}[_nghost-%COMP%]     SECTION.introduction-widget [role=container] .details .devicesList TABLE THEAD>TH{background-color:rgba(255,255,255,.15)}[_nghost-%COMP%]     SECTION.introduction-widget [role=container] .details .devicesList TABLE TBODY>TR>TD{padding:0 .2rem}[_nghost-%COMP%]     SECTION.introduction-widget [role=container] .details .discussionsList{display:flex;flex-direction:column;width:100%}[_nghost-%COMP%]     SECTION.introduction-widget [role=container] .details .discussionsList>.messageHistoryView{flex:1;overflow-y:auto}[_nghost-%COMP%]     SECTION.introduction-widget [role=container] .details .discussionsList>.messageHistoryView UL>LI{display:flex;flex-direction:row;padding:2px 0;opacity:0;background-color:#0a8}[_nghost-%COMP%]     SECTION.introduction-widget [role=container] .details .discussionsList>.messageHistoryView UL>LI>.icon{transform:scale(.1);padding-left:0;padding-right:3px}[_nghost-%COMP%]     SECTION.introduction-widget [role=container] .details .discussionsList>.messageHistoryView UL>LI>.icon>.iconButtonShape{width:1rem;height:1rem}[_nghost-%COMP%]     SECTION.introduction-widget [role=container] .details .discussionsList>.messageHistoryView UL>LI>.envelope{font-size:smaller}[_nghost-%COMP%]     SECTION.introduction-widget [role=container] .details .discussionsList>.messageHistoryView UL>LI>.message{flex:1;padding:0 .5rem}[_nghost-%COMP%]     SECTION.introduction-widget [role=container] .details .discussionsList>.messageHistoryView UL>LI.published{opacity:1;background-color:transparent;transition:.5s all}[_nghost-%COMP%]     SECTION.introduction-widget [role=container] .details .discussionsList>.messageHistoryView UL>LI.published>.icon{transition:.5s all;transform:none}[_nghost-%COMP%]     SECTION.introduction-widget [role=container] .details .discussionsList>.messageHistoryView UL>LI:nth-child(2n+1){background-color:rgba(0,0,0,.05);border-bottom:1px solid rgba(0,0,0,.1)}[_nghost-%COMP%]     SECTION.introduction-widget [role=container] .details .discussionsList>.newMessageView{display:flex}[_nghost-%COMP%]     SECTION.introduction-widget [role=container] .details .discussionsList>.newMessageView>input{flex:1}[_nghost-%COMP%]     SECTION.introduction-widget [role=container] .details .discussionsList>.newMessageView>button{flex:0;margin-right:0}[_nghost-%COMP%]     SECTION.introduction-widget [role=container] .icon{flex:0 1;height:100%;padding-left:.5rem;display:flex;align-content:center}[_nghost-%COMP%]     SECTION.introduction-widget [role=container] .icon [class*=" introduction-icon-"], [_nghost-%COMP%]     SECTION.introduction-widget [role=container] .icon [class^=introduction-icon-]{background:url(/ngx-card-deck-seed/assets/organizers/com.company.sample3/introduction/simple/icons.svg) no-repeat;width:16px;height:16px;display:inline-block;box-sizing:content-box}[_nghost-%COMP%]     SECTION.introduction-widget [role=container] .icon .introduction-icon-symbol6{background-position:0 0}[_nghost-%COMP%]     SECTION.introduction-widget [role=container] .icon .introduction-icon-symbol5{background-position:-32px 0}[_nghost-%COMP%]     SECTION.introduction-widget [role=container] .icon .introduction-icon-symbol3{background-position:-64px 0}[_nghost-%COMP%]     SECTION.introduction-widget [role=container] .icon .introduction-icon-symbol8{background-position:-97px 0}[_nghost-%COMP%]     SECTION.introduction-widget [role=container] .icon .introduction-icon-symbol16{background-position:-160px 0}[_nghost-%COMP%]     SECTION.introduction-widget [role=container] .icon .introduction-icon-symbol18{background-position:-192px 0}[_nghost-%COMP%]     SECTION.introduction-widget [role=container] .icon .introduction-icon-symbol4{background-position:-224px 0}[_nghost-%COMP%]     SECTION.introduction-widget [role=container] .icon .introduction-icon-symbol19{background-position:-256px 0}[_nghost-%COMP%]     SECTION.introduction-widget [role=container] .icon .introduction-icon-symbol13{background-position:-288px 0}[_nghost-%COMP%]     SECTION.introduction-widget [role=container] .icon .introduction-icon-symbol1{background-position:-320px 0}[_nghost-%COMP%]     SECTION.introduction-widget [role=container] .icon .introduction-icon-symbol12{background-position:-351px 0}[_nghost-%COMP%]     SECTION.introduction-widget [role=container] .icon .introduction-icon-symbol15{background-position:-416px 0}[_nghost-%COMP%]     SECTION.introduction-widget [role=container] .icon .introduction-icon-symbol17{background-position:-446px 0}[_nghost-%COMP%]     SECTION.introduction-widget [role=container] .icon .introduction-icon-symbol11{background-position:-481px 0}[_nghost-%COMP%]     SECTION.introduction-widget [role=container] .icon .introduction-icon-symbol14{background-position:-64px -32px}[_nghost-%COMP%]     SECTION.introduction-widget [role=container] .icon .introduction-icon-symbol105{background-position:-130px -32px}[_nghost-%COMP%]     SECTION.introduction-widget [role=container] .icon .introduction-icon-symbol9{background-position:-160px -32px}[_nghost-%COMP%]     SECTION.introduction-widget [role=container] .icon>.iconButtonShape{margin:auto;border:1px solid #0097d9;border-radius:1.5rem;width:1.32rem;height:1.3rem;display:flex}[_nghost-%COMP%]     SECTION.introduction-widget [role=container] .icon>.iconButtonShape>I{filter:brightness(.4) sepia(1) hue-rotate(173deg) saturate(3.5);margin:auto}[_nghost-%COMP%]     SECTION.introduction-widget [role=container] .icon>.iconButtonShape:hover{border-color:#0085c0;background-color:#e6f5fb;cursor:pointer}[_nghost-%COMP%]     SECTION.introduction-widget [role=container] .icon>.iconButtonShape.active{border-color:#00628d;background-color:#b3e0f4}[_nghost-%COMP%]     SECTION.introduction-widget [role=container] .icon.pane-shrink{min-width:1rem}[_nghost-%COMP%]     SECTION.introduction-widget [role=container] .icon.pane-shrink>.iconButtonShape{padding:.1rem;width:.67rem;height:.65rem}@media screen and (min-width:576px) and (max-width:767px){[_nghost-%COMP%]     SECTION.introduction-widget{flex-wrap:nowrap}}@media screen and (min-width:768px) and (max-width:991px){[_nghost-%COMP%]     SECTION.introduction-widget{flex-wrap:nowrap}}@media screen and (min-width:992px){[_nghost-%COMP%]     SECTION.introduction-widget{flex-wrap:nowrap}}  .dashboard-strategy-container GRIDSTER-ITEM[style]   [cardComponentType=card-introduction]>article[data-layoutItemAspect=card]>[data-layoutItemAspect=header]{background:linear-gradient(to right,rgba(135,85,218,.2),rgba(73,74,81,0))}  .dashboard-strategy-container GRIDSTER-ITEM[style]   [cardComponentType=card-introduction]>article[data-layoutItemAspect=card]>[data-layoutItemAspect=header]   I.headerIcon{border-radius:1rem;border:1px solid rgba(0,0,0,.2);background-color:rgba(255,255,255,.3)}']],data:{}});function pc(e){return l.Qb(0,[(e()(),l.jb(0,null,null,0))],null,null)}function bc(e){return l.Qb(0,[(e()(),l.ub(0,0,null,null,3,null,null,null,null,null,null,null)),(e()(),l.jb(16777216,null,null,2,null,pc)),l.tb(2,540672,null,0,g.v,[l.R],{ngTemplateOutletContext:[0,"ngTemplateOutletContext"],ngTemplateOutlet:[1,"ngTemplateOutlet"]},null),l.Jb(3,{library:0,cardModel:1}),(e()(),l.jb(0,null,null,0))],function(e,t){var n=t.component,l=e(t,3,0,n.library,n.cardModel);e(t,2,0,l,n.positionBasedTemplateMap.body.introductionView)},null)}function fc(e){return l.Qb(0,[(e()(),l.ub(0,0,null,null,2,"section",[["class","introduction-widget"]],null,null,null,null,null)),(e()(),l.jb(16777216,null,null,1,null,bc)),l.tb(2,16384,null,0,g.q,[l.R,l.O],{ngIf:[0,"ngIf"],ngIfElse:[1,"ngIfElse"]},null)],function(e,t){e(t,2,0,t.component.cardModel.model.assetType,l.Gb(t.parent,7))},null)}function Cc(e){return l.Qb(0,[(e()(),l.Ob(-1,null,[" AssetTypeId error: "])),(e()(),l.ub(1,0,null,null,0,"span",[],[[8,"textContent",0]],null,null,null,null))],null,function(e,t){e(t,1,0,t.component.cardModel.providers.introduction.assetTypeId)})}function yc(e){return l.Qb(0,[(e()(),l.jb(0,null,null,0))],null,null)}function vc(e){return l.Qb(0,[(e()(),l.jb(0,null,null,0))],null,null)}function Ic(e){return l.Qb(0,[(e()(),l.ub(0,16777216,null,null,1,null,null,null,null,null,null,null)),l.tb(1,16384,null,0,g.q,[l.R,l.O],{ngIf:[0,"ngIf"]},null),(e()(),l.jb(0,null,null,0))],function(e,t){e(t,1,0,t.component.isTemplatePhaseReady)},null)}function Oc(e){return l.Qb(0,[l.Mb(671088640,1,{defaultHeaderTemplate:0}),l.Mb(671088640,2,{defaultBodyTemplate:0}),l.Mb(671088640,3,{headerSection:0}),l.Mb(671088640,4,{footerSection:0}),(e()(),l.jb(16777216,null,null,2,null,fc)),l.tb(5,16384,null,0,g.q,[l.R,l.O],{ngIf:[0,"ngIf"]},null),l.Ib(131072,g.b,[l.h]),(e()(),l.jb(0,[["missingCardMetadata",2]],null,0,null,Cc)),(e()(),l.jb(0,[[1,2],["defaultHeaderTemplate",2]],null,0,null,yc)),(e()(),l.jb(0,[[2,2],["defaultBodyTemplate",2]],null,0,null,vc)),(e()(),l.jb(16777216,null,null,1,null,Ic)),l.tb(11,671744,null,0,g.o,[l.R],{ngComponentOutlet:[0,"ngComponentOutlet"],ngComponentOutletNgModuleFactory:[1,"ngComponentOutletNgModuleFactory"]},null)],function(e,t){var n=t.component;e(t,5,0,l.Pb(t,5,0,l.Gb(t,6).transform(n.initialDataModelResponse$))),e(t,11,0,n.templatableComponentClass,n.templatableModuleFactory)},null)}function Mc(e){return l.Qb(0,[(e()(),l.ub(0,0,null,null,5,"ng-component",[],[[2,"loaded",null]],null,null,Oc,mc)),l.Lb(8704,null,ft.d,ft.d,[xt.a,ct.a]),l.Lb(8704,null,ft.b,ft.b,[xt.a]),l.Lb(8704,null,ft.a,ft.a,[]),l.Lb(8704,null,ft.c,ft.c,[ft.d,ft.b,ft.a,xt.a]),l.tb(5,245760,null,0,Mr,[xt.a,pt.a,ft.c,ct.a,l.h,Cr,Ir,dt.a],null,null)],function(e,t){e(t,5,0)},function(e,t){e(t,0,0,l.Gb(t,5).loadedFlag)})}var Sc=l.qb("ng-component",Mr,Mc,{},{accessibilityTransitionCardEvent:"accessibilityTransition"},[]),wc=l.sb({encapsulation:2,styles:[["UNAVAILABLE-EXCEPTION-CARD{width:100%;display:block;overflow:hidden}UNAVAILABLE-EXCEPTION-CARD:not(.loaded){opacity:.6}UNAVAILABLE-EXCEPTION-CARD [role=grid-widget]{opacity:.5}"]],data:{}});function kc(e){return l.Qb(0,[(e()(),l.ub(0,0,null,null,1,"blockquote",[],null,null,null,null,null)),(e()(),l.Ob(1,null,[" "," ","\n"])),(e()(),l.ub(2,0,null,null,3,"section",[],null,null,null,null,null)),(e()(),l.ub(3,0,null,null,1,"b",[],null,null,null,null,null)),(e()(),l.Ob(-1,null,[" Exception: "])),(e()(),l.Ob(5,null,[" Cannot provide a "," renderer for ",".\n"]))],null,function(e,t){var n=t.component;e(t,1,0,n.resourceToken.card.type,n.resourceToken.card.resourceId),e(t,5,0,n.resourceToken.card.type,n.resourceToken.card.component)})}function Tc(e){return l.Qb(0,[(e()(),l.ub(0,0,null,null,1,"dash-unavailable-exception-card",[],null,null,null,kc,wc)),l.tb(1,5357568,null,0,kt.a,[xt.a,dt.a,ct.a,Tt.a],null,null)],function(e,t){e(t,1,0)},null)}var Pc=l.qb("dash-unavailable-exception-card",kt.a,Tc,{},{},[]),xc=l.sb({encapsulation:0,styles:[["[_nghost-%COMP%]{width:100%;display:block;overflow:hidden}[_nghost-%COMP%]:not(.loaded){opacity:.6}"]],data:{}});function _c(e){return l.Qb(0,[(e()(),l.ub(0,0,null,null,1,"blockquote",[],null,null,null,null,null)),(e()(),l.Ob(1,null,[" "," ","\n"])),(e()(),l.ub(2,0,null,null,3,"section",[],null,null,null,null,null)),(e()(),l.ub(3,0,null,null,1,"b",[],null,null,null,null,null)),(e()(),l.Ob(-1,null,[" Network Connection Exception: "])),(e()(),l.Ob(5,null,[" Cannot load assets for ",". Please verify network resource locations.\n"]))],null,function(e,t){var n=t.component;e(t,1,0,n.resourceToken.card.type,n.resourceToken.card.resourceId),e(t,5,0,n.resourceToken.card.type)})}function Rc(e){return l.Qb(0,[(e()(),l.ub(0,0,null,null,1,"dash-network-exception-card",[],null,null,null,_c,xc)),l.tb(1,5357568,null,0,gt,[xt.a,dt.a,ct.a,ht],null,null)],function(e,t){e(t,1,0)},null)}var Ec=l.qb("dash-network-exception-card",gt,Rc,{},{},[]),Lc=n("cUpR"),Gc=l.sb({encapsulation:0,styles:[["[_nghost-%COMP%]{height:100%;display:block;overflow:hidden}[_nghost-%COMP%]:not(.loaded){opacity:.6}[_nghost-%COMP%]   [role=remoteServedConnector][_ngcontent-%COMP%]{display:flex;flex-shrink:0;flex-direction:column;flex-basis:100%;height:100%}[_nghost-%COMP%]   [role=remoteServedConnector][_ngcontent-%COMP%] > [role=connectorPane][_ngcontent-%COMP%]{display:flex;flex-direction:column;flex-basis:100%}[_nghost-%COMP%]   [role=remoteServedConnector][_ngcontent-%COMP%] > [role=connectorPane][_ngcontent-%COMP%]   .accessibilityStartBoundary[_ngcontent-%COMP%]:focus +   *{border-radius:.5rem;animation:2s infinite remoteServedAccessibilityThrobbingCorners}@keyframes remoteServedAccessibilityThrobbingCorners{0%,100%{border-radius:.5rem}50%{border-radius:0}}[_nghost-%COMP%]   [role=remoteServedConnector][_ngcontent-%COMP%] > [role=connectorPane][_ngcontent-%COMP%]   IFRAME[role=remoteServedFrame][_ngcontent-%COMP%]{width:100%;height:0;flex-grow:1;flex-shrink:0;display:inline-block}.mobile[_nghost-%COMP%]   [role=remoteServedConnector][_ngcontent-%COMP%] > [role=connectorPane][_ngcontent-%COMP%], .mobile   [_nghost-%COMP%]   [role=remoteServedConnector][_ngcontent-%COMP%] > [role=connectorPane][_ngcontent-%COMP%]{height:0}"]],data:{}});function Dc(e){return l.Qb(0,[(e()(),l.ub(0,0,null,null,0,"section",[],null,null,null,null,null))],null,null)}function jc(e){return l.Qb(0,[(e()(),l.ub(0,0,[[5,0],["accessibilityStartBoundary",1]],null,0,"div",[["class","accessibilityStartBoundary"],["tabindex","0"]],null,[[null,"blur"],[null,"keydown.shift.tab"],[null,"keyup.esc"]],function(e,t,n){var l=!0,o=e.component;return"blur"===t&&(l=!1!==o.leaveCardPrompt(n)&&l),"keydown.shift.tab"===t&&(l=!1!==o.leaveCardAspect(n)&&l),"keyup.esc"===t&&(l=!1!==o.leaveCardAspect(n)&&l),l},null,null))],null,null)}function $c(e){return l.Qb(0,[(e()(),l.ub(0,0,null,null,0,"div",[["tabindex","0"]],null,[[null,"focus"]],function(e,t,n){var o=!0;return"focus"===t&&(o=!1!==e.component.accessibilityFocusRebound(l.Gb(e.parent,4),n)&&o),o},null,null))],null,null)}function Fc(e){return l.Qb(0,[(e()(),l.ub(0,0,null,null,7,"section",[["role","remoteServedConnector"]],[[4,"height","px"]],null,null,null,null)),(e()(),l.ub(1,0,null,null,6,"section",[["role","connectorPane"]],null,null,null,null,null)),(e()(),l.jb(16777216,null,null,1,null,jc)),l.tb(3,16384,null,0,g.q,[l.R,l.O],{ngIf:[0,"ngIf"]},null),(e()(),l.ub(4,0,[[6,0],["refocuser",1]],null,1,"iframe",[["dashRemoteServedFrameObserver",""],["data-ui-role","proxyConnectorFrame"],["frameborder","0"],["role","remoteServedFrame"]],[[1,"name",0],[1,"src",5],[1,"tabindex",0]],null,null,null,null)),l.tb(5,81920,null,0,wt,[l.k,St],null,null),(e()(),l.jb(16777216,null,null,1,null,$c)),l.tb(7,16384,null,0,g.q,[l.R,l.O],{ngIf:[0,"ngIf"]},null)],function(e,t){var n=t.component;e(t,3,0,n.hasAccessibilityFocus),e(t,5,0),e(t,7,0,n.hasAccessibilityFocus)},function(e,t){var n=t.component;e(t,0,0,n.layout.availableHeightMetric),e(t,4,0,n.frameInstanceIdentifier,n.securedActiveRemoteServedURL,n.hasAccessibilityFocus?0:-1)})}function zc(e){return l.Qb(0,[(e()(),l.jb(16777216,null,null,1,null,Fc)),l.tb(1,16384,null,0,g.q,[l.R,l.O],{ngIf:[0,"ngIf"],ngIfElse:[1,"ngIfElse"]},null),(e()(),l.jb(0,null,null,0))],function(e,t){e(t,1,0,t.component.isComponentPhaseReady,l.Gb(t.parent,9))},null)}function Ac(e){return l.Qb(0,[(e()(),l.Ob(-1,null,[" Preparing remote content...\n"]))],null,null)}function Nc(e){return l.Qb(0,[(e()(),l.ub(0,16777216,null,null,1,null,null,null,null,null,null,null)),l.tb(1,16384,null,0,g.q,[l.R,l.O],{ngIf:[0,"ngIf"]},null),(e()(),l.jb(0,null,null,0))],function(e,t){e(t,1,0,t.component.isTemplatePhaseReady)},null)}function Vc(e){return l.Qb(0,[l.Mb(671088640,1,{defaultHeaderTemplate:0}),l.Mb(671088640,2,{defaultBodyTemplate:0}),l.Mb(671088640,3,{headerSection:0}),l.Mb(671088640,4,{footerSection:0}),l.Mb(671088640,5,{accessibilityStartBoundary:0}),l.Mb(671088640,6,{frameElement:0}),(e()(),l.jb(16777216,null,null,1,null,Dc)),l.tb(7,16384,null,0,g.q,[l.R,l.O],{ngIf:[0,"ngIf"],ngIfElse:[1,"ngIfElse"]},null),(e()(),l.jb(0,[["renderTemplate",2]],null,0,null,zc)),(e()(),l.jb(0,[["notComponentPhaseReady",2]],null,0,null,Ac)),(e()(),l.jb(16777216,null,null,1,null,Nc)),l.tb(11,671744,null,0,g.o,[l.R],{ngComponentOutlet:[0,"ngComponentOutlet"],ngComponentOutletNgModuleFactory:[1,"ngComponentOutletNgModuleFactory"]},null)],function(e,t){var n=t.component;e(t,7,0,!1,l.Gb(t,8)),e(t,11,0,n.templatableComponentClass,n.templatableModuleFactory)},null)}function Bc(e){return l.Qb(0,[(e()(),l.ub(0,0,null,null,5,"dash-remote-served-embed",[],[[2,"loaded",null],[1,"tabindex",0]],[[null,"focus"],[null,"blur"]],function(e,t,n){var o=!0;return"focus"===t&&(o=!1!==l.Gb(e,5).onFocus(n)&&o),"blur"===t&&(o=!1!==l.Gb(e,5).onBlur(n)&&o),o},Vc,Gc)),l.Lb(8704,null,ft.d,ft.d,[xt.a,ct.a]),l.Lb(8704,null,ft.b,ft.b,[xt.a]),l.Lb(8704,null,ft.a,ft.a,[]),l.Lb(8704,null,ft.c,ft.c,[ft.d,ft.b,ft.a,xt.a]),l.tb(5,5488640,null,0,St,[xt.a,pt.a,ft.c,ct.a,l.h,dt.a,Lc.b,l.k,It],null,null)],function(e,t){e(t,5,0)},function(e,t){e(t,0,0,l.Gb(t,5).loadedFlag,l.Gb(t,5).accessibilityTabIndex)})}var Qc=l.qb("dash-remote-served-embed",St,Bc,{},{accessibilityTransitionCardEvent:"accessibilityTransition"},[]),Hc=n("oz+Y"),Wc=n("TphC"),qc=l.sb({encapsulation:2,styles:[["gridster-item{box-sizing:border-box;z-index:1;position:absolute;overflow:hidden;transition:.2s;display:none;background:#fff;user-select:text}gridster-item.scaled{transform-origin:0 0;transition-delay:0s}gridster-item.gridster-item-moving{cursor:move}gridster-item.gridster-item-moving,gridster-item.gridster-item-resizing{transition:0s;z-index:2;box-shadow:0 0 5px 5px rgba(0,0,0,.2),0 6px 10px 0 rgba(0,0,0,.14),0 1px 18px 0 rgba(0,0,0,.12)}.gridster-item-resizable-handler{position:absolute;z-index:2}.gridster-item-resizable-handler.handle-n{cursor:n-resize;height:10px;right:0;top:0;left:0}.gridster-item-resizable-handler.handle-e{cursor:e-resize;width:10px;bottom:0;right:0;top:0}.gridster-item-resizable-handler.handle-s{cursor:s-resize;height:10px;right:0;bottom:0;left:0}.gridster-item-resizable-handler.handle-w{cursor:w-resize;width:10px;left:0;top:0;bottom:0}.gridster-item-resizable-handler.handle-ne{cursor:ne-resize;width:10px;height:10px;right:0;top:0}.gridster-item-resizable-handler.handle-nw{cursor:nw-resize;width:10px;height:10px;left:0;top:0}.gridster-item-resizable-handler.handle-se{cursor:se-resize;width:0;height:0;right:0;bottom:0;border-style:solid;border-width:0 0 10px 10px;border-color:transparent}.gridster-item-resizable-handler.handle-sw{cursor:sw-resize;width:10px;height:10px;left:0;bottom:0}gridster-item:hover .gridster-item-resizable-handler.handle-se{border-color:transparent transparent #ccc}"]],data:{}});function Uc(e){return l.Qb(0,[l.Fb(null,0),(e()(),l.ub(1,0,null,null,0,"div",[["class","gridster-item-resizable-handler handle-s"]],[[8,"hidden",0]],[[null,"mousedown"],[null,"touchstart"]],function(e,t,n){var l=!0,o=e.component;return"mousedown"===t&&(l=!1!==o.resize.dragStartDelay(n)&&l),"touchstart"===t&&(l=!1!==o.resize.dragStartDelay(n)&&l),l},null,null)),(e()(),l.ub(2,0,null,null,0,"div",[["class","gridster-item-resizable-handler handle-e"]],[[8,"hidden",0]],[[null,"mousedown"],[null,"touchstart"]],function(e,t,n){var l=!0,o=e.component;return"mousedown"===t&&(l=!1!==o.resize.dragStartDelay(n)&&l),"touchstart"===t&&(l=!1!==o.resize.dragStartDelay(n)&&l),l},null,null)),(e()(),l.ub(3,0,null,null,0,"div",[["class","gridster-item-resizable-handler handle-n"]],[[8,"hidden",0]],[[null,"mousedown"],[null,"touchstart"]],function(e,t,n){var l=!0,o=e.component;return"mousedown"===t&&(l=!1!==o.resize.dragStartDelay(n)&&l),"touchstart"===t&&(l=!1!==o.resize.dragStartDelay(n)&&l),l},null,null)),(e()(),l.ub(4,0,null,null,0,"div",[["class","gridster-item-resizable-handler handle-w"]],[[8,"hidden",0]],[[null,"mousedown"],[null,"touchstart"]],function(e,t,n){var l=!0,o=e.component;return"mousedown"===t&&(l=!1!==o.resize.dragStartDelay(n)&&l),"touchstart"===t&&(l=!1!==o.resize.dragStartDelay(n)&&l),l},null,null)),(e()(),l.ub(5,0,null,null,0,"div",[["class","gridster-item-resizable-handler handle-se"]],[[8,"hidden",0]],[[null,"mousedown"],[null,"touchstart"]],function(e,t,n){var l=!0,o=e.component;return"mousedown"===t&&(l=!1!==o.resize.dragStartDelay(n)&&l),"touchstart"===t&&(l=!1!==o.resize.dragStartDelay(n)&&l),l},null,null)),(e()(),l.ub(6,0,null,null,0,"div",[["class","gridster-item-resizable-handler handle-ne"]],[[8,"hidden",0]],[[null,"mousedown"],[null,"touchstart"]],function(e,t,n){var l=!0,o=e.component;return"mousedown"===t&&(l=!1!==o.resize.dragStartDelay(n)&&l),"touchstart"===t&&(l=!1!==o.resize.dragStartDelay(n)&&l),l},null,null)),(e()(),l.ub(7,0,null,null,0,"div",[["class","gridster-item-resizable-handler handle-sw"]],[[8,"hidden",0]],[[null,"mousedown"],[null,"touchstart"]],function(e,t,n){var l=!0,o=e.component;return"mousedown"===t&&(l=!1!==o.resize.dragStartDelay(n)&&l),"touchstart"===t&&(l=!1!==o.resize.dragStartDelay(n)&&l),l},null,null)),(e()(),l.ub(8,0,null,null,0,"div",[["class","gridster-item-resizable-handler handle-nw"]],[[8,"hidden",0]],[[null,"mousedown"],[null,"touchstart"]],function(e,t,n){var l=!0,o=e.component;return"mousedown"===t&&(l=!1!==o.resize.dragStartDelay(n)&&l),"touchstart"===t&&(l=!1!==o.resize.dragStartDelay(n)&&l),l},null,null))],null,function(e,t){var n=t.component;e(t,1,0,!n.gridster.$options.resizable.handles.s||!n.resize.resizeEnabled),e(t,2,0,!n.gridster.$options.resizable.handles.e||!n.resize.resizeEnabled),e(t,3,0,!n.gridster.$options.resizable.handles.n||!n.resize.resizeEnabled),e(t,4,0,!n.gridster.$options.resizable.handles.w||!n.resize.resizeEnabled),e(t,5,0,!n.gridster.$options.resizable.handles.se||!n.resize.resizeEnabled),e(t,6,0,!n.gridster.$options.resizable.handles.ne||!n.resize.resizeEnabled),e(t,7,0,!n.gridster.$options.resizable.handles.sw||!n.resize.resizeEnabled),e(t,8,0,!n.gridster.$options.resizable.handles.nw||!n.resize.resizeEnabled)})}var Xc=n("w68P"),Yc=n("GFNj"),Kc=l.sb({encapsulation:0,styles:[['[_nghost-%COMP%]{display:block;height:100%}[_nghost-%COMP%] > article[_ngcontent-%COMP%]{display:flex;flex-direction:column;flex:0 1 100%;height:100%;overflow:hidden;padding:0}[_nghost-%COMP%] > article[_ngcontent-%COMP%] > header[_ngcontent-%COMP%]{display:flex;flex-shrink:0;flex-direction:row;user-select:none}[_nghost-%COMP%] > article[_ngcontent-%COMP%] > header[_ngcontent-%COMP%] > [role=tab][_ngcontent-%COMP%]{flex:0 1 100%;margin:0;text-overflow:ellipsis;overflow-x:hidden;white-space:nowrap;padding-right:.5rem}[_nghost-%COMP%] > article[_ngcontent-%COMP%] > header[_ngcontent-%COMP%] > .headerSubtitle[_ngcontent-%COMP%]{font-weight:200;margin:0;white-space:pre}[_nghost-%COMP%] > article[_ngcontent-%COMP%] > section[role=tabpanel][_ngcontent-%COMP%]{flex:1}[_nghost-%COMP%] > article[_ngcontent-%COMP%] > footer[_ngcontent-%COMP%]:not(:empty){flex:0}[_nghost-%COMP%]:not(.contentBoxSizing){width:100%}@media (max-width:768px){[_nghost-%COMP%]:not(.contentBoxSizing){height:400px}}@media (min-width:768px){[_nghost-%COMP%]:not(.contentBoxSizing){height:400px}}@media (min-width:992px){[_nghost-%COMP%]:not(.contentBoxSizing){height:400px}}.clarity.standard-dark-theme.gridster-item-moving[_nghost-%COMP%] > article[_ngcontent-%COMP%] > header[_ngcontent-%COMP%] > [role=tab][_ngcontent-%COMP%], .clarity.standard-dark-theme.gridster-item-moving   [_nghost-%COMP%] > article[_ngcontent-%COMP%] > header[_ngcontent-%COMP%] > [role=tab][_ngcontent-%COMP%], .clarity.standard-light-theme.gridster-item-moving[_nghost-%COMP%] > article[_ngcontent-%COMP%] > header[_ngcontent-%COMP%] > [role=tab][_ngcontent-%COMP%], .clarity.standard-light-theme.gridster-item-moving   [_nghost-%COMP%] > article[_ngcontent-%COMP%] > header[_ngcontent-%COMP%] > [role=tab][_ngcontent-%COMP%], [_nghost-%COMP%] > article[_ngcontent-%COMP%] > header[_ngcontent-%COMP%] > [role=tab][_ngcontent-%COMP%]:focus{-webkit-text-stroke:1px;text-stroke:1px}.clarity.standard-light-theme[_nghost-%COMP%], .clarity.standard-light-theme   [_nghost-%COMP%]{height:inherit}.clarity.standard-light-theme[_nghost-%COMP%] > article[_ngcontent-%COMP%], .clarity.standard-light-theme   [_nghost-%COMP%] > article[_ngcontent-%COMP%]{box-shadow:inset 0 -3px 0 0 #eee;border:1px solid #eee;border-radius:3px;background-color:#fff;height:calc(100% - 2px);will-change:box-shadow;transition:box-shadow 280ms cubic-bezier(.4,0,.2,1)}.clarity.standard-light-theme[_nghost-%COMP%] > article[_ngcontent-%COMP%] > header[_ngcontent-%COMP%], .clarity.standard-light-theme   [_nghost-%COMP%] > article[_ngcontent-%COMP%] > header[_ngcontent-%COMP%]{align-items:center;background-color:initial;height:auto}.clarity.standard-light-theme[_nghost-%COMP%] > article[_ngcontent-%COMP%] > header[_ngcontent-%COMP%] > .headerIcon[_ngcontent-%COMP%], .clarity.standard-light-theme   [_nghost-%COMP%] > article[_ngcontent-%COMP%] > header[_ngcontent-%COMP%] > .headerIcon[_ngcontent-%COMP%]{flex:0 0 16px;width:16px;height:16px;margin-right:8px}.clarity.standard-light-theme[_nghost-%COMP%] > article[_ngcontent-%COMP%] > header[_ngcontent-%COMP%] > .headerSubtitle[_ngcontent-%COMP%], .clarity.standard-light-theme   [_nghost-%COMP%] > article[_ngcontent-%COMP%] > header[_ngcontent-%COMP%] > .headerSubtitle[_ngcontent-%COMP%]{font-size:10pt}.clarity.standard-light-theme[_nghost-%COMP%] > article[_ngcontent-%COMP%] > section[role=tabpanel][_ngcontent-%COMP%], .clarity.standard-light-theme   [_nghost-%COMP%] > article[_ngcontent-%COMP%] > section[role=tabpanel][_ngcontent-%COMP%]{overflow:hidden;border-bottom:none}.clarity.standard-light-theme.cardActivated[_nghost-%COMP%] > article[_ngcontent-%COMP%], .clarity.standard-light-theme   .cardActivated[_nghost-%COMP%] > article[_ngcontent-%COMP%]{border-style:solid;background-color:#e6e5e5;border-color:#c80}.clarity.standard-light-theme.cardBodyFocus[_nghost-%COMP%] > article[_ngcontent-%COMP%] > section[role=tabpanel][_ngcontent-%COMP%], .clarity.standard-light-theme   .cardBodyFocus[_nghost-%COMP%] > article[_ngcontent-%COMP%] > section[role=tabpanel][_ngcontent-%COMP%]{outline-offset:-2px;outline:#c80 solid 2px}.clarity.standard-light-theme.cardBodyPrompt[_nghost-%COMP%] > article[_ngcontent-%COMP%] > section[role=tabpanel][_ngcontent-%COMP%], .clarity.standard-light-theme   .cardBodyPrompt[_nghost-%COMP%] > article[_ngcontent-%COMP%] > section[role=tabpanel][_ngcontent-%COMP%]{outline-offset:-2px;outline:#f0f dashed 2px}.clarity.standard-light-theme.cardResizing[_nghost-%COMP%]::before, .clarity.standard-light-theme   .cardResizing[_nghost-%COMP%]::before{content:"";position:absolute;border-color:#c80;width:100%;height:calc(100% - 3px)}.clarity.standard-light-theme.cardResizing.handle-top[_nghost-%COMP%]::before, .clarity.standard-light-theme   .cardResizing.handle-top[_nghost-%COMP%]::before{top:0;border-top:2px solid}.clarity.standard-light-theme.cardResizing.handle-right[_nghost-%COMP%]::before, .clarity.standard-light-theme   .cardResizing.handle-right[_nghost-%COMP%]::before{right:0;border-right:2px solid}.clarity.standard-light-theme.cardResizing.handle-bottom[_nghost-%COMP%]::before, .clarity.standard-light-theme   .cardResizing.handle-bottom[_nghost-%COMP%]::before{top:calc(100% - 3px);border-top:2px solid}.clarity.standard-light-theme.cardResizing.handle-left[_nghost-%COMP%]::before, .clarity.standard-light-theme   .cardResizing.handle-left[_nghost-%COMP%]::before{left:0;border-left:2px solid}.clarity.standard-dark-theme[_nghost-%COMP%], .clarity.standard-dark-theme   [_nghost-%COMP%]{height:inherit}.clarity.standard-dark-theme[_nghost-%COMP%] > article[_ngcontent-%COMP%], .clarity.standard-dark-theme   [_nghost-%COMP%] > article[_ngcontent-%COMP%]{box-shadow:inset 0 -3px 0 0 #0f171c;border:1px solid #0f171c;border-radius:3px;background-color:#22343c;height:calc(100% - 2px);will-change:box-shadow;transition:box-shadow 280ms cubic-bezier(.4,0,.2,1)}.clarity.standard-dark-theme[_nghost-%COMP%] > article[_ngcontent-%COMP%] > header[_ngcontent-%COMP%], .clarity.standard-dark-theme   [_nghost-%COMP%] > article[_ngcontent-%COMP%] > header[_ngcontent-%COMP%]{align-items:center;background-color:initial;height:auto}.clarity.standard-dark-theme[_nghost-%COMP%] > article[_ngcontent-%COMP%] > header[_ngcontent-%COMP%] > .headerIcon[_ngcontent-%COMP%], .clarity.standard-dark-theme   [_nghost-%COMP%] > article[_ngcontent-%COMP%] > header[_ngcontent-%COMP%] > .headerIcon[_ngcontent-%COMP%]{flex:0 0 16px;width:16px;height:16px;margin-right:8px}.clarity.standard-dark-theme[_nghost-%COMP%] > article[_ngcontent-%COMP%] > header[_ngcontent-%COMP%] > .headerSubtitle[_ngcontent-%COMP%], .clarity.standard-dark-theme   [_nghost-%COMP%] > article[_ngcontent-%COMP%] > header[_ngcontent-%COMP%] > .headerSubtitle[_ngcontent-%COMP%]{font-size:10pt}.clarity.standard-dark-theme[_nghost-%COMP%] > article[_ngcontent-%COMP%] > section[role=tabpanel][_ngcontent-%COMP%], .clarity.standard-dark-theme   [_nghost-%COMP%] > article[_ngcontent-%COMP%] > section[role=tabpanel][_ngcontent-%COMP%]{overflow:hidden;border-bottom:none}.clarity.standard-dark-theme.cardActivated[_nghost-%COMP%] > article[_ngcontent-%COMP%], .clarity.standard-dark-theme   .cardActivated[_nghost-%COMP%] > article[_ngcontent-%COMP%]{border-style:solid;background-color:#19262c;border-color:#c00}.clarity.standard-dark-theme.cardBodyFocus[_nghost-%COMP%] > article[_ngcontent-%COMP%] > section[role=tabpanel][_ngcontent-%COMP%], .clarity.standard-dark-theme   .cardBodyFocus[_nghost-%COMP%] > article[_ngcontent-%COMP%] > section[role=tabpanel][_ngcontent-%COMP%]{outline-offset:-2px;outline:#c00 solid 2px}.clarity.standard-dark-theme.cardBodyPrompt[_nghost-%COMP%] > article[_ngcontent-%COMP%] > section[role=tabpanel][_ngcontent-%COMP%], .clarity.standard-dark-theme   .cardBodyPrompt[_nghost-%COMP%] > article[_ngcontent-%COMP%] > section[role=tabpanel][_ngcontent-%COMP%]{outline-offset:-2px;outline:#aa0 dashed 2px}.clarity.standard-dark-theme.cardResizing[_nghost-%COMP%]::before, .clarity.standard-dark-theme   .cardResizing[_nghost-%COMP%]::before{content:"";position:absolute;border-color:#c00;width:100%;height:calc(100% - 3px)}.clarity.standard-dark-theme.cardResizing.handle-top[_nghost-%COMP%]::before, .clarity.standard-dark-theme   .cardResizing.handle-top[_nghost-%COMP%]::before{top:0;border-top:2px solid}.clarity.standard-dark-theme.cardResizing.handle-right[_nghost-%COMP%]::before, .clarity.standard-dark-theme   .cardResizing.handle-right[_nghost-%COMP%]::before{right:0;border-right:2px solid}.clarity.standard-dark-theme.cardResizing.handle-bottom[_nghost-%COMP%]::before, .clarity.standard-dark-theme   .cardResizing.handle-bottom[_nghost-%COMP%]::before{top:calc(100% - 3px);border-top:2px solid}.clarity.standard-dark-theme.cardResizing.handle-left[_nghost-%COMP%]::before, .clarity.standard-dark-theme   .cardResizing.handle-left[_nghost-%COMP%]::before{left:0;border-left:2px solid}.clarity.standard-light-theme.gridster-item-moving[_nghost-%COMP%] > article[_ngcontent-%COMP%], .clarity.standard-light-theme.gridster-item-moving   [_nghost-%COMP%] > article[_ngcontent-%COMP%]{border-color:#0094d2;box-shadow:inset 0 -3px 0 0 #0094d2}.clarity.standard-dark-theme.gridster-item-moving[_nghost-%COMP%] > article[_ngcontent-%COMP%], .clarity.standard-dark-theme.gridster-item-moving   [_nghost-%COMP%] > article[_ngcontent-%COMP%]{border-color:#adddd9;box-shadow:inset 0 -3px 0 0 #adddd9}']],data:{}});function Jc(e){return l.Qb(0,[(e()(),l.ub(0,0,[["headerIcon",1]],null,2,"i",[["class","headerIcon"],["data-layoutItemAspect","headerIcon"]],null,null,null,null,null)),l.Lb(512,null,g.G,g.H,[l.u,l.v,l.k,l.G]),l.tb(2,278528,null,0,g.n,[g.G],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null)],function(e,t){e(t,2,0,"headerIcon",t.component.titleIconClasses)},null)}function Zc(e){return l.Qb(0,[(e()(),l.ub(0,0,[["headerSubtitle",1]],null,0,"div",[["class","headerSubtitle"],["data-layoutItemAspect","headerSubtitle"]],[[8,"textContent",0]],null,null,null,null))],null,function(e,t){e(t,0,0,t.component.subtitle)})}function ed(e){return l.Qb(0,[(e()(),l.ub(0,0,[[10,0],["section",1],["header",1]],null,9,"header",[["class","card-header clearfix"],["data-layoutItemAspect","header"]],null,null,null,null,null)),(e()(),l.ub(1,16777216,[[2,3],["headerTemplateContainer",1]],null,8,null,null,null,null,null,null,null)),(e()(),l.ub(2,16777216,[[4,3],["headerBeforeBlockTemplateContainer",1]],null,0,null,null,null,null,null,null,null)),(e()(),l.ub(3,16777216,[[5,3],["headerContentBlockTemplateContainer",1]],null,5,null,null,null,null,null,null,null)),(e()(),l.jb(16777216,null,null,1,null,Jc)),l.tb(5,16384,null,0,g.q,[l.R,l.O],{ngIf:[0,"ngIf"]},null),(e()(),l.ub(6,0,[[7,0],["headerTitle",1]],null,0,"div",[["class","card-title drag-handler"],["data-layoutItemAspect","headerTitle"],["role","tab"]],[[1,"aria-selected",0],[1,"tabindex",0],[1,"title",0],[8,"textContent",0]],[[null,"mousedown"],[null,"keydown.enter"],[null,"keydown.arrowup"],[null,"keydown.arrowdown"],[null,"keydown.arrowleft"],[null,"keydown.arrowright"]],function(e,t,n){var l=!0,o=e.component;return"mousedown"===t&&(l=!1!==o.accessibilityProvider.onCardMouseDown(n)&&l),"keydown.enter"===t&&(l=!1!==o.accessibilityProvider.onCardKeypressActivate(n)&&l),"keydown.arrowup"===t&&(l=!1!==o.accessibilityProvider.onCardMoveUp(n)&&l),"keydown.arrowdown"===t&&(l=!1!==o.accessibilityProvider.onCardMoveDown(n)&&l),"keydown.arrowleft"===t&&(l=!1!==o.accessibilityProvider.onCardMoveLeft(n)&&l),"keydown.arrowright"===t&&(l=!1!==o.accessibilityProvider.onCardMoveRight(n)&&l),l},null,null)),(e()(),l.jb(16777216,null,null,1,null,Zc)),l.tb(8,16384,null,0,g.q,[l.R,l.O],{ngIf:[0,"ngIf"]},null),(e()(),l.ub(9,16777216,[[6,3],["headerAfterBlockTemplateContainer",1]],null,0,null,null,null,null,null,null,null))],function(e,t){var n=t.component;e(t,5,0,n.titleIconClasses),e(t,8,0,n.subtitle)},function(e,t){var n=t.component;e(t,6,0,n.cardActivated,n.cardAccessibilityIndex,n.title,n.title)})}function td(e){return l.Qb(0,[(e()(),l.ub(0,0,[[11,0],["accessibilityTrapBoundary",1]],null,0,"div",[["class","accessibilityStartBoundary"],["tabindex","0"]],null,[[null,"focus"],[null,"blur"],[null,"keydown.shift.tab"],[null,"keyup.esc"]],function(e,t,n){var l=!0,o=e.component;return"focus"===t&&(l=!1!==o.signalStartPrompting(n)&&l),"blur"===t&&(l=!1!==o.signalStopPrompting(n)&&l),"keydown.shift.tab"===t&&(l=!1!==o.leaveCardAspect(n)&&l),"keyup.esc"===t&&(l=!1!==o.leaveCardAspect(n)&&l),l},null,null))],null,null)}function nd(e){return l.Qb(0,[(e()(),l.ub(0,0,null,null,0,null,null,null,null,null,null,null))],null,null)}function ld(e){return l.Qb(0,[(e()(),l.ub(0,0,[[11,0],["accessibilityTrapBoundary",1]],null,0,"div",[["tabindex","0"]],null,null,null,null,null))],null,null)}function od(e){return l.Qb(0,[l.Mb(671088640,1,{ngComponentOutlet:0}),l.Mb(402653184,2,{headerTemplateContainerRef:0}),l.Mb(402653184,3,{footerTemplateContainerRef:0}),l.Mb(402653184,4,{headerBeforeBlockTemplateContainerRef:0}),l.Mb(402653184,5,{headerContentBlockTemplateContainerRef:0}),l.Mb(402653184,6,{headerAfterBlockTemplateContainerRef:0}),l.Mb(671088640,7,{focusableElement:0}),l.Mb(671088640,8,{cardElement:0}),l.Mb(671088640,9,{cardBodyElement:0}),l.Mb(671088640,10,{sectionContainersList:1}),l.Mb(671088640,11,{cardBodyAccessibilityTrapBoundaryList:1}),(e()(),l.ub(11,0,[[8,0],["cardElement",1]],null,11,"article",[["data-layoutItemAspect","card"]],null,[[null,"keydown.shift.tab"],[null,"keydown.tab"],[null,"keyup.esc"],[null,"focusin"],[null,"focusout"]],function(e,t,n){var l=!0,o=e.component;return"keydown.shift.tab"===t&&(l=!1!==o.accessibilityBackwardSinkEvent(n)&&l),"keydown.tab"===t&&(l=!1!==o.accessibilityForwardSinkEvent(n)&&l),"keyup.esc"===t&&(l=!1!==o.accessibilityCancelSinkEvent(n)&&l),"focusin"===t&&(l=!1!==o.accessibilityFocusSinkEvent(n)&&l),"focusout"===t&&(l=!1!==o.accessibilityBlurSinkEvent(n)&&l),l},null,null)),(e()(),l.jb(16777216,null,null,1,null,ed)),l.tb(13,16384,null,0,g.q,[l.R,l.O],{ngIf:[0,"ngIf"]},null),(e()(),l.ub(14,0,[[10,0],[9,0],["section",1],["body",1]],null,6,"section",[["class","card-block clearfix"],["data-layoutItemAspect","body"],["role","tabpanel"],["tabindex","-1"]],null,null,null,null,null)),(e()(),l.jb(16777216,null,null,1,null,td)),l.tb(16,16384,null,0,g.q,[l.R,l.O],{ngIf:[0,"ngIf"]},null),(e()(),l.jb(16777216,null,null,1,null,nd)),l.tb(18,671744,[[1,4]],0,g.o,[l.R],{ngComponentOutlet:[0,"ngComponentOutlet"],ngComponentOutletInjector:[1,"ngComponentOutletInjector"]},null),(e()(),l.jb(16777216,null,null,1,null,ld)),l.tb(20,16384,null,0,g.q,[l.R,l.O],{ngIf:[0,"ngIf"]},null),(e()(),l.ub(21,0,[[10,0],["section",1],["footer",1]],null,1,"footer",[["class","card-footer clearfix"],["data-layoutItemAspect","footer"]],[[8,"hidden",0]],null,null,null,null)),(e()(),l.ub(22,16777216,[[3,3],["footerTemplateContainer",1]],null,0,null,null,null,null,null,null,null))],function(e,t){var n=t.component;e(t,13,0,n.isHeaderVisible),e(t,16,0,n.cardBodyFocus),e(t,18,0,n.cardComponentClass,n.cardInjector),e(t,20,0,n.cardBodyFocus)},function(e,t){e(t,21,0,!t.component.footerTemplateContainerRef.length)})}class id{constructor(e,t,n,l){this.renderer=n,this.cdRef=l,this.el=e.nativeElement,this.gridster=t,this.gridster.gridLines=this,this.columns=[],this.rows=[],this.height=0,this.width=0,this.columnsHeight=0,this.rowsWidth=0}ngOnDestroy(){delete this.el,delete this.gridster.gridLines,delete this.gridster}updateGrid(){this.gridster.$options.margin&&(this.insetGridPadding=this.gridster.$options.margin),"always"!==this.gridster.$options.displayGrid||this.gridster.mobile?"onDrag&Resize"===this.gridster.$options.displayGrid&&this.gridster.dragInProgress?this.renderer.setStyle(this.el,"display","block"):"none"!==this.gridster.$options.displayGrid&&this.gridster.dragInProgress&&!this.gridster.mobile||this.renderer.setStyle(this.el,"display","none"):this.renderer.setStyle(this.el,"display","block"),this.gridster.setGridDimensions(),this.height=this.gridster.curRowHeight-this.gridster.$options.margin,this.width=this.gridster.curColWidth-this.gridster.$options.margin,this.columns.length=Math.max(this.gridster.columns,Math.floor(this.gridster.curWidth/this.gridster.curColWidth))||0,this.rows.length=Math.max(this.gridster.rows,Math.floor(this.gridster.curHeight/this.gridster.curRowHeight))||0,this.columnsHeight=this.gridster.scaleInteractionEventCoordinate(this.gridster.curRowHeight)*this.rows.length+this.getMarginTop(!0)-this.gridster.scaleInteractionEventCoordinate(this.gridster.$options.margin),this.rowsWidth=this.gridster.scaleInteractionEventCoordinate(this.gridster.curColWidth)*this.columns.length+this.getMarginLeft(!0)-this.gridster.scaleInteractionEventCoordinate(this.gridster.$options.margin),this.cdRef.markForCheck()}getColumnWidth(e){return this.gridster.scaleInteractionEventCoordinate(this.width)}getRowHeight(e){return this.gridster.scaleInteractionEventCoordinate(this.height)}getMarginTop(e){return e?0:e&&!this.gridster.$options.outerMargin?0:e&&this.gridster.$options.outerMargin&&null!==this.gridster.$options.outerMarginTop?this.gridster.$options.outerMarginTop:this.getMarginSpacing(e)}getMarginLeft(e){return e?0:e&&!this.gridster.$options.outerMargin?0:e&&this.gridster.$options.outerMargin&&null!==this.gridster.$options.outerMarginLeft?this.gridster.$options.outerMarginLeft:this.getMarginSpacing(e)}getMarginSpacing(e){return this.gridster.scaleInteractionEventCoordinate(this.gridster.$options.margin)}}var rd=l.sb({encapsulation:2,styles:[["gridster-grid{display:none;position:absolute;pointer-events:none}gridster-grid .columns,gridster-grid .rows{position:absolute}gridster-grid .columns{display:flex;flex-direction:row}gridster-grid .column,gridster-grid .row{transition:.2s;box-sizing:border-box}gridster-grid .column{height:100%;border-left:1px solid #fff;border-right:1px solid #fff}gridster-grid .row{width:100%;border-top:1px solid #fff;border-bottom:1px solid #fff}"]],data:{}});function sd(e){return l.Qb(0,[(e()(),l.ub(0,0,null,null,0,"div",[["class","column"]],[[4,"min-width","px"],[4,"margin-left","px"]],null,null,null,null))],null,function(e,t){var n=t.component;e(t,0,0,n.getColumnWidth(t.context.first),n.getMarginLeft(t.context.first))})}function ad(e){return l.Qb(0,[(e()(),l.ub(0,0,null,null,0,"div",[["class","row"]],[[4,"height","px"],[4,"margin-top","px"]],null,null,null,null))],null,function(e,t){var n=t.component;e(t,0,0,n.getRowHeight(t.context.first),n.getMarginTop(t.context.first))})}function ud(e){return l.Qb(2,[(e()(),l.ub(0,0,null,null,2,"div",[["class","columns"]],[[4,"height","px"]],null,null,null,null)),(e()(),l.jb(16777216,null,null,1,null,sd)),l.tb(2,278528,null,0,g.p,[l.R,l.O,l.u],{ngForOf:[0,"ngForOf"]},null),(e()(),l.ub(3,0,null,null,2,"div",[["class","rows"]],[[4,"width","px"]],null,null,null,null)),(e()(),l.jb(16777216,null,null,1,null,ad)),l.tb(5,278528,null,0,g.p,[l.R,l.O,l.u],{ngForOf:[0,"ngForOf"]},null)],function(e,t){var n=t.component;e(t,2,0,n.columns),e(t,5,0,n.rows)},function(e,t){var n=t.component;e(t,0,0,n.columnsHeight),e(t,3,0,n.rowsWidth)})}class cd{constructor(e,t,n){this.renderer=n,this.el=e.nativeElement,this.gridster=t,this.gridster.previewStyle=this.previewStyle.bind(this),this.renderer.setStyle(this.el,"display","none")}ngOnDestroy(){delete this.el,delete this.gridster.previewStyle,delete this.gridster}previewStyle(e){if(this.gridster.movingItem){let t;this.gridster.compact&&e&&this.gridster.compact.checkCompactItem(this.gridster.movingItem);const n=this.gridster.curRowHeight,l=this.gridster.curColWidth;this.gridster.$options.outerMargin?(t=null!==this.gridster.$options.outerMarginTop?this.gridster.$options.outerMarginTop+"px ":this.gridster.$options.margin+"px ",t+=null!==this.gridster.$options.outerMarginRight?this.gridster.$options.outerMarginRight+"px ":this.gridster.$options.margin+"px ",t+=null!==this.gridster.$options.outerMarginBottom?this.gridster.$options.outerMarginBottom+"px ":this.gridster.$options.margin+"px ",t+=null!==this.gridster.$options.outerMarginLeft?this.gridster.$options.outerMarginLeft+"px":this.gridster.$options.margin+"px"):t="0px",this.renderer.setStyle(this.el,"display","block"),this.renderer.setStyle(this.el,"height",this.gridster.movingItem.rows*n-this.gridster.$options.margin+"px"),this.renderer.setStyle(this.el,"width",this.gridster.movingItem.cols*l-this.gridster.$options.margin+"px"),this.renderer.setStyle(this.el,"top",this.gridster.scaleInteractionEventCoordinate(this.gridster.movingItem.y*n)+"px"),this.renderer.setStyle(this.el,"left",this.gridster.scaleInteractionEventCoordinate(this.gridster.movingItem.x*l)+"px"),this.renderer.setStyle(this.el,"margin",t)}else this.renderer.setStyle(this.el,"display","none")}}var dd=l.sb({encapsulation:2,styles:[["gridster-preview{background:rgba(0,0,0,.15);position:absolute}gridster-preview.scaled{transform-origin:0 0;transition-delay:0s}"]],data:{}});function hd(e){return l.Qb(0,[],null,null)}var gd=l.sb({encapsulation:2,styles:[["gridster{position:relative;display:flex;overflow:auto;flex:1 auto;background:grey;width:100%;height:100%;user-select:none}gridster.fit{overflow-x:hidden;overflow-y:hidden}gridster.scrollVertical{overflow-x:hidden;overflow-y:auto}gridster.scrollHorizontal{overflow-x:auto;overflow-y:hidden}gridster.fixed{overflow:auto}gridster.mobile{overflow-x:hidden;overflow-y:auto;display:block}gridster.mobile gridster-item{position:relative}"]],data:{}});function md(e){return l.Qb(0,[l.Mb(671088640,1,{gridComponent:0}),l.Mb(671088640,2,{previewComponent:0}),(e()(),l.ub(2,0,null,null,1,"gridster-grid",[["class","gridster-grid"]],[[4,"padding","px"]],null,null,ud,rd)),l.tb(3,180224,[[1,4],["gridComponent",4]],0,id,[l.k,Wc.a,l.G,l.h],null,null),l.Fb(null,0),(e()(),l.ub(5,0,null,null,1,"gridster-preview",[["class","gridster-preview"]],null,null,null,hd,dd)),l.tb(6,180224,[[2,4],["previewComponent",4]],0,cd,[l.k,Wc.a,l.G],null,null)],null,function(e,t){e(t,2,0,l.Gb(t,3).insetGridPadding)})}var pd=n("BeIp"),bd=l.sb({encapsulation:0,styles:[[".isItemStateDraggingEvent[_nghost-%COMP%] > GRIDSTER[_ngcontent-%COMP%] > GRIDSTER-ITEM.gridster-item-moving[_ngcontent-%COMP%]{cursor:grabbing}[_nghost-%COMP%] > GRIDSTER[_ngcontent-%COMP%]:not(.mobile) >   GRIDSTER-ITEM>DASH-CARD-OUTLET>article>header>[role=tab]{cursor:grab;user-select:none}[_nghost-%COMP%]{display:block;height:100%;overflow:hidden;width:100%}[_nghost-%COMP%]:not(.isViewportScalableSizing){position:relative;overflow:visible}[_nghost-%COMP%]:not(.isViewportScalableSizing) > GRIDSTER[_ngcontent-%COMP%]{position:static;overflow:visible}[_nghost-%COMP%]:not(.isViewportScalableSizing) > GRIDSTER.mobile[_ngcontent-%COMP%]{padding-top:.05px}.isViewportScalableSizing[_nghost-%COMP%]{display:flex;flex-shrink:0;flex-grow:1;flex-basis:auto;flex-direction:column;height:100%;overflow:auto}.isViewportPositionRelative[_nghost-%COMP%]{position:relative}.isItemStateDraggingEvent[_nghost-%COMP%] > GRIDSTER[_ngcontent-%COMP%] > GRIDSTER-ITEM[_ngcontent-%COMP%]:not(.gridster-item-moving){pointer-events:none}.isItemStateResizingEvent[_nghost-%COMP%] > GRIDSTER[_ngcontent-%COMP%] > GRIDSTER-ITEM[_ngcontent-%COMP%]:not(.gridster-item-resizing){pointer-events:none}[_nghost-%COMP%]   .clarity.standard-light-theme.isContainerAccessibilityTrap[_nghost-%COMP%], .clarity.standard-light-theme   .isContainerAccessibilityTrap[_nghost-%COMP%]{outline:#0094d2 solid 2px;background-color:rgba(230,229,229,.7)}[_nghost-%COMP%]   .clarity.standard-dark-theme.isContainerAccessibilityTrap[_nghost-%COMP%], .clarity.standard-dark-theme   .isContainerAccessibilityTrap[_nghost-%COMP%]{outline:#adddd9 solid 2px;background-color:rgba(16,24,27,.7)}[_nghost-%COMP%] > GRIDSTER[_ngcontent-%COMP%]{background:0 0}[_nghost-%COMP%] > GRIDSTER[_ngcontent-%COMP%]:focus{outline:0}[_nghost-%COMP%] > GRIDSTER[_ngcontent-%COMP%] >   GRIDSTER-GRID>.columns>.column{border-left-style:dashed;border-right-style:dashed}[_nghost-%COMP%] > GRIDSTER[_ngcontent-%COMP%] >   GRIDSTER-GRID>.rows>.row{border-top-style:dashed;border-bottom-style:dashed}[_nghost-%COMP%] > GRIDSTER[_ngcontent-%COMP%]:not(.mobile) > GRIDSTER-ITEM.gridster-item-moving[_ngcontent-%COMP%] >   DASH-CARD-OUTLET>article, [_nghost-%COMP%] > GRIDSTER[_ngcontent-%COMP%]:not(.mobile) > GRIDSTER-ITEM.gridster-item-resizing[_ngcontent-%COMP%] >   DASH-CARD-OUTLET>article{pointer-events:none}[_nghost-%COMP%] > GRIDSTER[_ngcontent-%COMP%]     [dashboard-container-grid-widget-underlay]{z-index:0}[_nghost-%COMP%] > GRIDSTER[_ngcontent-%COMP%]     [dashboard-container-grid-widget-overlay]{z-index:2}[_nghost-%COMP%]:not(.isGridWidgetInitialized) > GRIDSTER[_ngcontent-%COMP%] > GRIDSTER-ITEM[_ngcontent-%COMP%]{transition-duration:0s}.clarity.standard-light-theme[_nghost-%COMP%]   GRIDSTER[_ngcontent-%COMP%] >   GRIDSTER-GRID>.columns>.column, .clarity.standard-light-theme   [_nghost-%COMP%]   GRIDSTER[_ngcontent-%COMP%] >   GRIDSTER-GRID>.columns>.column{margin:0;border-width:2px;border-left-color:#9ca3a9;border-right-color:#9ca3a9}.clarity.standard-light-theme[_nghost-%COMP%]   GRIDSTER[_ngcontent-%COMP%] >   GRIDSTER-GRID>.rows>.row, .clarity.standard-light-theme   [_nghost-%COMP%]   GRIDSTER[_ngcontent-%COMP%] >   GRIDSTER-GRID>.rows>.row{margin:0;border-width:2px;border-top-color:#9ca3a9;border-bottom-color:#9ca3a9}.clarity.standard-light-theme[_nghost-%COMP%]   GRIDSTER[_ngcontent-%COMP%]     GRIDSTER-ITEM, .clarity.standard-light-theme   [_nghost-%COMP%]   GRIDSTER[_ngcontent-%COMP%]     GRIDSTER-ITEM{background:0 0}.clarity.standard-light-theme[_nghost-%COMP%]   GRIDSTER[_ngcontent-%COMP%]     GRIDSTER-ITEM:hover>.gridster-item-resizable-handler.handle-se, .clarity.standard-light-theme   [_nghost-%COMP%]   GRIDSTER[_ngcontent-%COMP%]     GRIDSTER-ITEM:hover>.gridster-item-resizable-handler.handle-se{border-color:transparent transparent #919fab}.clarity.standard-light-theme[_nghost-%COMP%]   GRIDSTER[_ngcontent-%COMP%]     GRIDSTER-ITEM:hover>.gridster-item-resizable-handler.handle-se:hover, .clarity.standard-light-theme   [_nghost-%COMP%]   GRIDSTER[_ngcontent-%COMP%]     GRIDSTER-ITEM:hover>.gridster-item-resizable-handler.handle-se:hover{border-color:transparent transparent #314351}.clarity.standard-light-theme[_nghost-%COMP%]   GRIDSTER[_ngcontent-%COMP%]     GRIDSTER-ITEM.gridster-item-resizing>.gridster-item-resizable-handler.handle-se, .clarity.standard-light-theme   [_nghost-%COMP%]   GRIDSTER[_ngcontent-%COMP%]     GRIDSTER-ITEM.gridster-item-resizing>.gridster-item-resizable-handler.handle-se{border-color:transparent transparent #49afd9}.clarity.standard-light-theme[_nghost-%COMP%]   GRIDSTER[_ngcontent-%COMP%]:not(.mobile) >   GRIDSTER-PREVIEW, .clarity.standard-light-theme   [_nghost-%COMP%]   GRIDSTER[_ngcontent-%COMP%]:not(.mobile) >   GRIDSTER-PREVIEW{background-color:#e1f1f6;border:1px solid #49afd9;border-radius:5px}.clarity.standard-light-theme.isItemStateDraggingEvent[_nghost-%COMP%] >   GRIDSTER>  GRIDSTER-ITEM.gridster-item-moving, .clarity.standard-light-theme   .isItemStateDraggingEvent[_nghost-%COMP%] >   GRIDSTER>  GRIDSTER-ITEM.gridster-item-moving{box-shadow:0 3px 40px 2px rgba(0,0,0,.3)}.clarity.standard-light-theme.isItemStateDraggingEvent[_nghost-%COMP%] >   GRIDSTER>  GRIDSTER-ITEM.gridster-item-moving>.gridster-item-resizable-handler, .clarity.standard-light-theme   .isItemStateDraggingEvent[_nghost-%COMP%] >   GRIDSTER>  GRIDSTER-ITEM.gridster-item-moving>.gridster-item-resizable-handler{border-color:transparent;display:none}.clarity.standard-light-theme.isItemStateDraggingEvent[_nghost-%COMP%] >   GRIDSTER>  GRIDSTER-ITEM:not(.gridster-item-moving), .clarity.standard-light-theme   .isItemStateDraggingEvent[_nghost-%COMP%] >   GRIDSTER>  GRIDSTER-ITEM:not(.gridster-item-moving){filter:grayscale(50%);opacity:.6}.clarity.standard-dark-theme[_nghost-%COMP%]   GRIDSTER[_ngcontent-%COMP%] >   GRIDSTER-GRID>.columns>.column, .clarity.standard-dark-theme   [_nghost-%COMP%]   GRIDSTER[_ngcontent-%COMP%] >   GRIDSTER-GRID>.columns>.column{margin:0;border-width:2px;border-left-color:#21323d;border-right-color:#21323d}.clarity.standard-dark-theme[_nghost-%COMP%]   GRIDSTER[_ngcontent-%COMP%] >   GRIDSTER-GRID>.rows>.row, .clarity.standard-dark-theme   [_nghost-%COMP%]   GRIDSTER[_ngcontent-%COMP%] >   GRIDSTER-GRID>.rows>.row{margin:0;border-width:2px;border-top-color:#21323d;border-bottom-color:#21323d}.clarity.standard-dark-theme[_nghost-%COMP%]   GRIDSTER[_ngcontent-%COMP%]     GRIDSTER-ITEM, .clarity.standard-dark-theme   [_nghost-%COMP%]   GRIDSTER[_ngcontent-%COMP%]     GRIDSTER-ITEM{background:0 0}.clarity.standard-dark-theme[_nghost-%COMP%]   GRIDSTER[_ngcontent-%COMP%]     GRIDSTER-ITEM:hover>.gridster-item-resizable-handler.handle-se, .clarity.standard-dark-theme   [_nghost-%COMP%]   GRIDSTER[_ngcontent-%COMP%]     GRIDSTER-ITEM:hover>.gridster-item-resizable-handler.handle-se{border-color:transparent transparent #919fab}.clarity.standard-dark-theme[_nghost-%COMP%]   GRIDSTER[_ngcontent-%COMP%]     GRIDSTER-ITEM:hover>.gridster-item-resizable-handler.handle-se:hover, .clarity.standard-dark-theme   [_nghost-%COMP%]   GRIDSTER[_ngcontent-%COMP%]     GRIDSTER-ITEM:hover>.gridster-item-resizable-handler.handle-se:hover{border-color:transparent transparent #314351}.clarity.standard-dark-theme[_nghost-%COMP%]   GRIDSTER[_ngcontent-%COMP%]     GRIDSTER-ITEM.gridster-item-resizing>.gridster-item-resizable-handler.handle-se, .clarity.standard-dark-theme   [_nghost-%COMP%]   GRIDSTER[_ngcontent-%COMP%]     GRIDSTER-ITEM.gridster-item-resizing>.gridster-item-resizable-handler.handle-se{border-color:transparent transparent #49afd9}.clarity.standard-dark-theme[_nghost-%COMP%]   GRIDSTER[_ngcontent-%COMP%]:not(.mobile) >   GRIDSTER-PREVIEW, .clarity.standard-dark-theme   [_nghost-%COMP%]   GRIDSTER[_ngcontent-%COMP%]:not(.mobile) >   GRIDSTER-PREVIEW{background-color:#4c5f67;border:1px solid #49afd9;border-radius:5px}.clarity.standard-dark-theme.isItemStateDraggingEvent[_nghost-%COMP%] >   GRIDSTER>  GRIDSTER-ITEM.gridster-item-moving, .clarity.standard-dark-theme   .isItemStateDraggingEvent[_nghost-%COMP%] >   GRIDSTER>  GRIDSTER-ITEM.gridster-item-moving{box-shadow:0 3px 40px 2px rgba(0,0,0,.3)}.clarity.standard-dark-theme.isItemStateDraggingEvent[_nghost-%COMP%] >   GRIDSTER>  GRIDSTER-ITEM.gridster-item-moving>.gridster-item-resizable-handler, .clarity.standard-dark-theme   .isItemStateDraggingEvent[_nghost-%COMP%] >   GRIDSTER>  GRIDSTER-ITEM.gridster-item-moving>.gridster-item-resizable-handler{border-color:transparent;display:none}.clarity.standard-dark-theme.isItemStateDraggingEvent[_nghost-%COMP%] >   GRIDSTER>  GRIDSTER-ITEM:not(.gridster-item-moving), .clarity.standard-dark-theme   .isItemStateDraggingEvent[_nghost-%COMP%] >   GRIDSTER>  GRIDSTER-ITEM:not(.gridster-item-moving){filter:grayscale(50%);opacity:.6}"]],data:{}});function fd(e){return l.Qb(0,[(e()(),l.ub(0,0,null,null,5,"gridster-item",[["tabindex","-1"]],[[1,"data-layoutItemComponentType",0],[1,"data-layoutItemResourceId",0]],null,null,Uc,qc)),l.tb(1,245760,[[2,4],["gridItemController",4]],0,Hc.a,[l.k,Wc.a,l.G],{item:[0,"item"]},null),(e()(),l.ub(2,16777216,null,0,3,"dash-card-outlet",[["class","bd-highlight"],["dashDimensionObserver",""]],[[2,"contentBoxSizing",null],[2,"cardActivated",null],[2,"cardBodyFocus",null],[2,"cardBodyPrompt",null],[2,"cardMoving",null],[2,"dashboard-layout-item-card",null],[1,"cardResourceId",0],[1,"cardComponentType",0]],[[null,"firstCardLeave"],[null,"lastCardLeave"],[null,"cardBodyFocus"],[null,"componentWidthSynchronized"],[null,"componentHeightSynchronized"]],function(e,t,n){var l=!0,o=e.component;return"firstCardLeave"===t&&(l=!1!==o.onFirstCardLeaveBefore(n)&&l),"lastCardLeave"===t&&(l=!1!==o.onLastCardLeaveAfter(n)&&l),"cardBodyFocus"===t&&(l=!1!==o.onCardBodyFocusStateChange(n)&&l),"componentWidthSynchronized"===t&&(l=!1!==o.dispatchCardWidthState(e.context.$implicit.card,n)&&l),"componentHeightSynchronized"===t&&(l=!1!==o.dispatchCardHeightState(e.context.$implicit.card,n)&&l),l},od,Kc)),l.Lb(8704,null,Xc.a,Xc.a,[]),l.tb(4,6012928,[[3,4]],0,pt.a,[Xc.a,Yc.a,l.k,l.h,l.G,l.R],{gridItemController:[0,"gridItemController"],gridTransitionDuration:[1,"gridTransitionDuration"],parentFocused:[2,"parentFocused"],layoutSequence:[3,"layoutSequence"],layoutSize:[4,"layoutSize"],outletsCardBodyFocused:[5,"outletsCardBodyFocused"],card:[6,"card"],columnIndex:[7,"columnIndex"]},{firstCardLeaveEvent$:"firstCardLeave",lastCardLeaveEvent$:"lastCardLeave",cardBodyFocusEvent$:"cardBodyFocus"}),l.Ib(131072,g.b,[l.h])],function(e,t){var n=t.component;e(t,1,0,t.context.$implicit.facade),e(t,4,0,l.Gb(t,1),n.transitionDuration,n.focused,t.context.$implicit.facade.accessibilitySequence,n.assemblyState.materializedModelList.length,l.Pb(t,4,5,l.Gb(t,5).transform(n.activatedCardBodyFocusSubject$)),t.context.$implicit.card,t.context.index)},function(e,t){e(t,0,0,t.context.$implicit.card.component,t.context.$implicit.card.resourceId),e(t,2,0,l.Gb(t,4).contentBoxSizing,l.Gb(t,4).cardActivated,l.Gb(t,4).cardBodyFocus,l.Gb(t,4).cardBodyPrompt,l.Gb(t,4).cardMoving,l.Gb(t,4).isLayoutItemCard,l.Gb(t,4).cardResourceId,l.Gb(t,4).cardComponentType)})}function Cd(e){return l.Qb(2,[l.Mb(402653184,1,{gridWidget:0}),l.Mb(671088640,2,{gridItemList:1}),l.Mb(671088640,3,{cardOutletList:1}),l.Fb(null,0),(e()(),l.ub(4,0,null,null,5,"gridster",[["role","tablist"],["tabindex","0"]],null,[[null,"mousedown"],[null,"focus"]],function(e,t,n){var l=!0,o=e.component;return"mousedown"===t&&(l=!1!==o.onGridMouseDown(n)&&l),"focus"===t&&(l=!1!==o.onGridKeyboardNavigateEnter(n)&&l),l},md,gd)),l.tb(5,4898816,[[1,4],["gridWidget",4]],0,Wc.a,[l.k,l.G,l.h],{options:[0,"options"],scalerLevel:[1,"scalerLevel"]},null),l.Fb(0,1),(e()(),l.jb(16777216,null,0,1,null,fd)),l.tb(8,278528,null,0,g.p,[l.R,l.O,l.u],{ngForOf:[0,"ngForOf"]},null),l.Fb(0,2),l.Fb(null,3)],function(e,t){var n=t.component;e(t,5,0,n.assemblyConfiguration.materializedModel.gridsterConfiguration,n.managingDashboardComponent.zoomFactor),e(t,8,0,n.assemblyState.materializedModelList)},null)}function yd(e){return l.Qb(0,[(e()(),l.ub(0,0,null,null,1,"dash-grid-container-dashboard-container",[],[[2,"isViewportScalableSizing",null],[2,"isViewportPositionRelative",null],[2,"isGridWidgetInitialized",null],[2,"isItemStateDraggingEvent",null],[2,"isItemStateResizingEvent",null],[2,"isContainerAccessibilityTrap",null],[4,"height","px"],[4,"maxHeight","px"]],[["document","keyup.escape"],["document","click"]],function(e,t,n){var o=!0;return"document:keyup.escape"===t&&(o=!1!==l.Gb(e,1).handleKeyboardEvent(n)&&o),"document:click"===t&&(o=!1!==l.Gb(e,1).handleCheckIfClickedOutsideEvent(n)&&o),o},Cd,bd)),l.tb(1,4440064,null,0,pd.a,[dt.a,xt.c,xt.b,l.k,l.G,l.h,ct.a],null,null)],function(e,t){e(t,1,0)},function(e,t){e(t,0,0,l.Gb(t,1).isViewportScalableSizing,l.Gb(t,1).isViewportPositionRelative,l.Gb(t,1).isGridWidgetInitialized,l.Gb(t,1).isItemStateDraggingEvent,l.Gb(t,1).isItemStateResizingEvent,l.Gb(t,1).focused,l.Gb(t,1).viewportHeight,l.Gb(t,1).viewportMaxHeight)})}var vd=l.qb("dash-grid-container-dashboard-container",pd.a,yd,{},{},["[dashboard-container-header]","[dashboard-container-grid-widget-underlay]","[dashboard-container-grid-widget-overlay]","[dashboard-container-footer]"]),Id=n("IheW"),Od=n("AytR");class Md extends de.a{constructor(){super(Od.a.modules["demo-dashboard"].configuration.environment)}}var Sd=n("JIr8");class wd{constructor(e,t){this._http=e,this._deploymentConfiguration=t,this.shouldRetry=!1}setState(e){this._appGlobalState=e}getUserSessionStream(){return this._userSessionStream$&&!this.shouldRetry||(this.shouldRetry=!1,this._userSessionStream$=this.initStream()),this._userSessionStream$}initStream(){return Object(k.a)({success:!0},ee.a)}handleError(e){let t;if(e instanceof Response){const n=e.json()||"",l=n.error||JSON.stringify(n);t=`${e.status} - ${e.statusText||""} ${l}`}else t=e.message?e.message:e.toString();return console.error(t),Object(Fe.a)(t)}get(e,t={}){return t.withCredentials=!0,this._http.get(this.generatePlatformUrl(e),t).pipe(Object(Sd.a)(this.handleError))}generatePlatformUrl(e){const t=this._deploymentConfiguration.selectService("session");return this._deploymentConfiguration.assembleValidUrl(t,null)}}var kd=n("quSY");class Td extends p.a{constructor(){super(...arguments),this.value=null,this.hasNext=!1,this.hasCompleted=!1}_subscribe(e){return this.hasError?(e.error(this.thrownError),kd.a.EMPTY):this.hasCompleted&&this.hasNext?(e.next(this.value),e.complete(),kd.a.EMPTY):super._subscribe(e)}next(e){this.hasCompleted||(this.value=e,this.hasNext=!0)}error(e){this.hasCompleted||super.error(e)}complete(){this.hasCompleted=!0,this.hasNext&&super.next(this.value),super.complete()}}var Pd=n("oB13"),xd=n("x+ZX");class _d extends de.b{constructor(e,t,n){super(),this._zone=e,this._sessionObserver=t,this._deploymentConfiguration=n,this._sessionObserver.setState(this),this._deploymentConfiguration.deploymentMetadata.page.sandboxed&&this.activateSandboxedServices()}get userSessionStream(){return this._userSession$}set userSessionStream(e){this._userSession$=e.pipe(e=>Object(Pd.a)(new Td)(e),Object(xd.a)())}get selectedOrganizerEnumerationKey(){return this._selectedOrganizerEnumerationKey}set selectedOrganizerEnumerationKey(e){this._selectedOrganizerEnumerationKey=e}streamUserSession(){return this._sessionObserver.getUserSessionStream()}deriveStateAccessor(e){const t={organization:{company:{businessContext:this._appStateContext}},locale:this._locale};return Object.assign(super.deriveStateAccessor(e),t)}get businessStateContext(){return this._appStateContext}set businessStateContext(e){this._appStateContext=e}resolveOrganizerPackagePath(){return Object(Si.b)(this.selectedOrganizerEnumerationKey).replace(/_/g,".")}activateSandboxedServices(){}}class Rd extends ce.a{constructor(e,t,n){super(),this._http=e,this._appGlobalState=t,this._deploymentConfiguration=n}getDeploymentConfiguration(){return this._deploymentConfiguration}getGlobalState(){return this._appGlobalState}}const Ed={route:{organizerPropertyName:"organizer",configurationPropertyName:"configuration"}};class Ld{constructor(e,t,n){this.demoState=e,this.demoConfiguration=t,this.service=n}resolve(e,t){const n={language:"en_US",timezone:"America/Los_Angeles",country:"US",browser:navigator.vendor};return this.demoState.userLocale=n,this.demoState.businessStateContext={},this.demoState.selectedOrganizerEnumerationKey=Si.a[e.paramMap.get(Ed.route.organizerPropertyName)],this.service.streamConfigurationMetadata(e.paramMap.get(Ed.route.organizerPropertyName),e.paramMap.get(Ed.route.configurationPropertyName))}}const Gd=()=>n.e(7).then(n.bind(null,"bSTS")).then(e=>e.DemoClientMetricsBillboardTemplateModuleNgFactory),Dd={demoClientMetricsBillboard:{outlet:"DemoClientMetricsBillboard",loadChildren:Gd}};class jd{}class $d extends Vi{constructor(){super()}getStrategyIdentifier(){return"InstalledPluginsDashboardTransformerService"}extract(e){return e.response.entity}transform(e){return e.map(e=>({id:e.id,plugin_name:e.name,installed_status:"enabled"===e.state}))}}var Fd=n("KYlP");class zd{}class Ad{}class Nd{}const Vd={identifier:"card-datagrid",organizerPackage:Si.a.com_company_sample1,componentClass:Ui,viewProviders:[qi,Wi,Qi,$d],resolveTemplatableClassesList:[{classification:zi.a[1],load:function(){return Promise.resolve(Xi)}}]},Bd={identifier:"card-introduction",organizerPackage:Si.a.com_company_sample3,componentClass:Mr,viewProviders:[Cr],resolveTemplatableClassesList:[{classification:zi.a.custom_sample,load:function(){return Promise.resolve(Sr)}}]},Qd={identifier:"card-asset-node",organizerPackage:Si.a.com_company_sample1,componentClass:rs,viewProviders:[ns,Lu],resolveTemplatableClassesList:[{classification:zi.a.nodeflow_sample,load:function(){return Promise.resolve(ms)}}]},Hd={identifier:"card-metrics-billboard",organizerPackage:Si.a.com_company_sample1,componentClass:Uu.a,viewProviders:[Hu.a,qu.a,Wu.a],resolveTemplatableClassesList:[{classification:zi.a[2],load:function(){return Promise.resolve(Fd.a)},loadModuleRoute:Dd.demoClientMetricsBillboard}]},Wd={identifier:"card-summary-billboard",organizerPackage:Si.a.com_company_sample1,componentClass:xi,viewProviders:[Ti,Pi],resolveTemplatableClassesList:[{classification:zi.a[2],load:function(){return Promise.resolve(Ei)}}]},qd=[Vd,Qd,Hd,Wd,Bd];function Ud(){return[zd,Ad,Nd]}function Xd(){return[Vd.componentClass,Qd.componentClass,Hd.componentClass,Wd.componentClass,Bd.componentClass]}function Yd(){return[...Vd.viewProviders,...Qd.viewProviders,...Hd.viewProviders,...Wd.viewProviders,...Bd.viewProviders]}const Kd={};class Jd{fetchConfigurationSchemaResource$(e,t){const n=Kd[e];if(n)return Object(k.a)(n);{const n={method:"GET",path:"configurations"},l=t.getDeploymentConfiguration().dashboardMetadata,o=t.streamRestResource(n.method,`${n.path}/${e}`,l,t.getGlobalState().deriveRouteAccessor());return o.pipe(Object(re.a)(t=>{Kd[e]=t})),o}}}var Zd=n("1BrQ");const eh={deck3:Object(he.c)(Zd)};class th{fetchConfigurationSchemaResource$(e,t){const n=eh[e];if(n)return Object(k.a)(n);{const n={method:"GET",path:"configurations"},l=t.getDeploymentConfiguration().dashboardMetadata;return t.streamRestResource(n.method,`${n.path}/${e}`,l,t.getGlobalState().deriveRouteAccessor()).pipe(Object(re.a)(t=>{eh[e]=t}),Object(f.a)(e=>Object(he.c)(e)))}}}var nh=n("Niip"),lh=n("YLGm");const oh={deck3:je(nh),deck4:je(lh)};class ih{fetchConfigurationSchemaResource$(e,t){const n=oh[e];if(n)return Object(k.a)(n);{const n={method:"GET",path:"configurations"},l=t.getDeploymentConfiguration().dashboardMetadata,o=t.streamRestResource(n.method,`${n.path}/${e}`,l,t.getGlobalState().deriveRouteAccessor());return o.pipe(Object(re.a)(t=>{oh[e]=t})),o}}}var rh=n("X3/t");const sh=Object.assign(he.b,{}),ah=new class{constructor(){this.configurationSchemaFileFetchMap=new Map,this.configurationSchemaFileFetchMap.set(Object(Si.b)(Si.a.com_company_sample2),new Jd),this.configurationSchemaFileFetchMap.set(Object(Si.b)(Si.a.com_company_sample3),new th),this.configurationSchemaFileFetchMap.set(Object(rh.b)(rh.a.nodeflow),new ih)}},uh=new Md,ch={resolverAgentClassMap:sh,vendorClassificationMap:zi.a,allocatedCardOutletExtensionViewRenderDefinitionsList:qd,organizerPackageEnumeration:Si.a,getOrganizerConfigurationService:function(){return ah},getDashboardDeploymentConfigurationService:function(){return uh},getOrganizerPackageKey:Si.b,getAllocatedDirectivesList:function(){return[]},getAllocatedServicesList:function(){return Yd()},getAllocatedComponentsList:function(){return Xd()},getAllocatedModulesList:function(){return Ud()}};class dh extends ue{constructor(){super(...arguments),this.resolverAgentClassMap=sh,this.vendorClassificationMap=zi.a,this.allocatedCardOutletExtensionViewRenderDefinitionsList=qd,this.organizerPackageEnumeration=Si.a}getOrganizerConfigurationService(){return ah}getDashboardDeploymentConfigurationService(){return uh}getOrganizerPackageKey(e){return Object(Si.b)(e)}getAllocatedDirectivesList(){return[]}getAllocatedServicesList(){return Yd()}getAllocatedComponentsList(){return Xd()}getAllocatedModulesList(){return Ud()}}var hh=n("O3wz"),gh=n("8pE1");const mh={color:bs},ph={color:Ws};class bh{}const fh=[...ch.allocatedCardOutletExtensionViewRenderDefinitionsList,...Pt];class Ch{constructor(){}}var yh=n("R3oi"),vh=n("HhbV"),Ih=n("62Do"),Oh=n("31G0");class Mh extends Ih.a{}const Sh=(()=>{class e extends Oh.a{classificationMetadata(){return e.metastructure}consume(e){return this._state=Object.assign(new Mh(this.configurationFacade.platformCommunicatorService,this.configurationFacade.directoryService),e),e.hasOwnProperty("resources")||(this._state.resources={}),this.consumeProgressTopic=this.processingState(this._state),this.consumeProgressTopic.subscribe(e=>{},t=>{console.error("failed processingState()",this.classificationMetadata().identifier," assembly 'consume' done",e,t)}),!0}state(){return this._state}}return e.metastructure={identifier:"default"},e})(),wh={gridType:"verticalFixed",compactType:"compactUp",margin:18,outerMargin:!0,mobileBreakpoint:500,minCols:1,maxCols:10,minRows:1,maxRows:10,maxItemCols:10,minItemCols:1,maxItemRows:10,minItemRows:1,maxItemArea:100,minItemArea:1,defaultItemCols:1,defaultItemRows:1,fixedColWidth:258,fixedRowHeight:156,keepFixedHeightInMobile:!0,keepFixedWidthInMobile:!1,scrollSensitivity:10,scrollSpeed:20,enableEmptyCellClick:!1,enableEmptyCellContextMenu:!1,enableEmptyCellDrop:!1,enableEmptyCellDrag:!1,emptyCellDragMaxCols:50,emptyCellDragMaxRows:50,api:{},draggable:{delayStart:202,enabled:!0,ignoreContentClass:"dashboard-layout-item-card",ignoreContent:!0,dragHandleClass:"drag-handler"},resizable:{delayStart:0,enabled:!0,handles:{s:!0,e:!0,n:!0,w:!0,se:!0,ne:!0,sw:!0,nw:!0}},swap:!0,pushItems:!0,disablePushOnDrag:!1,disablePushOnResize:!1,pushDirections:{north:!0,east:!0,south:!0,west:!0},pushResizeItems:!1,displayGrid:"onDrag&Resize",disableWindowResize:!1};class kh{constructor(e,t){this._enforcedConfiguration=e,this._configuration=t,this._options=this.mergeRecursive(wh,t)}get gridsterConfiguration(){return this._options}mergeRecursive(e,t){const n={};for(const o in e)e.hasOwnProperty(o)&&l(e[o])&&t.hasOwnProperty(o)?n[o]=this.mergeRecursive(e[o],t[o]):t.hasOwnProperty(o)?n[o]=t[o]:e.hasOwnProperty(o)&&(n[o]=e[o]);return n;function l(e){if("object"==typeof e)for(const t in e)if(e.hasOwnProperty(t))return!0;return!1}}}class Th{constructor(e,t){this.originConfigurationFacade=e,this._input=t,this.initialize()}get materializedModel(){return this._materializedModel}initialize(){this._materializedModel=new kh(this,this._input)}}const Ph=(()=>{class e extends Oh.a{classificationMetadata(){return e.metastructure}consume(e){return this._state=new Th(this.configurationFacade,e),!0}state(){return this._state}}return e.metastructure={identifier:"dashboard-assembly-grid-configuration"},e})(),xh=[n("gKWM").a,Ph,vh.a,yh.a,Sh];class _h{}class Rh{constructor(){}}var Eh=n("kyXg");class Lh{}var Gh=n("zeYO");class Dh{}class jh{}class $h{}class Fh{}class zh{}const Ah=n("8Gd5");class Nh{}class Vh{}class Bh{}class Qh{}class Hh{}class Wh{}class qh{}class Uh{}n.d(t,"DemoDashboardModuleNgFactory",function(){return Xh});var Xh=l.rb(o,[],function(e){return l.Db([l.Eb(512,l.j,l.cb,[[8,[i.a,d,Oi,Mi.C,Mi.a,Mi.b,Mi.d,Mi.e,Mi.f,Mi.g,Mi.h,Mi.c,Mi.D,Mi.E,Mi.F,$i,ur,Mi.G,Ar,Zr,Ms,zs,da,uu,Eu,Qu,oc,gc,Sc,Pc,Ec,Qc,vd]],[3,l.j],l.z]),l.Eb(4608,g.s,g.r,[l.w,[2,g.J]]),l.Eb(4608,Id.i,Id.o,[g.d,l.D,Id.m]),l.Eb(4608,Id.p,Id.p,[Id.i,Id.n]),l.Eb(5120,Id.a,function(e){return[e]},[Id.p]),l.Eb(4608,Id.l,Id.l,[]),l.Eb(6144,Id.j,null,[Id.l]),l.Eb(4608,Id.h,Id.h,[Id.j]),l.Eb(6144,Id.b,null,[Id.h]),l.Eb(4608,Id.f,Id.k,[Id.b,l.s]),l.Eb(4608,Id.c,Id.c,[Id.f]),l.Eb(4608,h.e,h.e,[]),l.Eb(4608,h.C,h.C,[]),l.Eb(4608,Md,Md,[]),l.Eb(6144,Xo.a,null,[Md]),l.Eb(4608,wd,wd,[Id.c,Xo.a]),l.Eb(4608,_d,_d,[l.B,wd,Xo.a]),l.Eb(6144,ct.a,null,[_d]),l.Eb(4608,ce.a,Rd,[Id.c,_d,Md]),l.Eb(4608,ue,dh,[]),l.Eb(4608,hh.a,hh.a,[ct.a,ce.a,Xo.a,ue]),l.Eb(4608,Ld,Ld,[ct.a,Xo.a,hh.a]),l.Eb(4608,Yc.a,Yc.a,[xt.e]),l.Eb(4608,fr.a,fr.a,[l.y,l.i]),l.Eb(4608,qi,qi,[xt.e,fr.a,l.j,l.s]),l.Eb(4608,Qi,Qi,[]),l.Eb(4608,Wi,Wi,[Qi]),l.Eb(4608,$d,$d,[]),l.Eb(4608,ns,ns,[xt.e,fr.a,l.j,l.s]),l.Eb(4608,Lu,Lu,[ft.c]),l.Eb(4608,Hu.a,Hu.a,[xt.e,fr.a,l.j,l.s]),l.Eb(4608,Wu.a,Wu.a,[]),l.Eb(4608,qu.a,qu.a,[Wu.a]),l.Eb(4608,Ti,Ti,[xt.e,fr.a,l.j,l.s]),l.Eb(4608,Pi,Pi,[ft.c]),l.Eb(4608,Cr,Cr,[xt.e,fr.a,l.j,l.s]),l.Eb(4608,gh.a,gh.a,[gh.b]),l.Eb(4608,Xc.a,Xc.a,[]),l.Eb(4608,Tt.a,Tt.a,[]),l.Eb(4608,ht,ht,[]),l.Eb(4608,It,It,[xt.e,l.s]),l.Eb(4608,$e.a,$e.a,[ct.a,gh.a,ce.a]),l.Eb(4608,Pe,Pe,[]),l.Eb(4608,_e,_e,[]),l.Eb(4608,j,j,[wo]),l.Eb(4608,A,A,[j]),l.Eb(4608,J,J,[A,j]),l.Eb(4608,N,N,[]),l.Eb(4608,B,B,[wo,N,j]),l.Eb(4608,ie,ie,[J,B,A,j]),l.Eb(4608,Me,Me,[]),l.Eb(4608,we,we,[]),l.Eb(4608,xe,xe,[Pe]),l.Eb(4608,Rt,Rt,[ie,$e.a,j,A]),l.Eb(4608,$n,$n,[ie,$e.a]),l.Eb(4608,el,el,[ie,$e.a,j,A]),l.Eb(4608,Tl,Tl,[ie,$e.a,j,A]),l.Eb(4608,Qe,Qe,[ie,$e.a,j,A]),l.Eb(4608,ae,ae,[l.B]),l.Eb(4608,ge,ge,[$e.a]),l.Eb(1073742336,g.c,g.c,[]),l.Eb(1073742336,Id.e,Id.e,[]),l.Eb(1073742336,Id.d,Id.d,[]),l.Eb(1073742336,h.B,h.B,[]),l.Eb(1073742336,h.x,h.x,[]),l.Eb(1073742336,r.p,r.p,[[2,r.u],[2,r.l]]),l.Eb(1073742336,jd,jd,[]),l.Eb(1073742336,Fi.db,Fi.db,[]),l.Eb(1073742336,Fi.u,Fi.u,[]),l.Eb(1073742336,Fi.Ec,Fi.Ec,[]),l.Eb(1073742336,Fi.s,Fi.s,[]),l.Eb(1073742336,Fi.ue,Fi.ue,[]),l.Eb(1073742336,Fi.Hc,Fi.Hc,[]),l.Eb(1073742336,Fi.O,Fi.O,[]),l.Eb(1073742336,h.l,h.l,[]),l.Eb(1073742336,Fi.hb,Fi.hb,[]),l.Eb(1073742336,Fi.tb,Fi.tb,[]),l.Eb(1073742336,Fi.xb,Fi.xb,[]),l.Eb(1073742336,Fi.Ab,Fi.Ab,[]),l.Eb(1073742336,Fi.Ub,Fi.Ub,[]),l.Eb(1073742336,Fi.ab,Fi.ab,[]),l.Eb(1073742336,Fi.wc,Fi.wc,[]),l.Eb(1073742336,Fi.mb,Fi.mb,[]),l.Eb(1073742336,Fi.Rc,Fi.Rc,[]),l.Eb(1073742336,Fi.Uc,Fi.Uc,[]),l.Eb(1073742336,Fi.S,Fi.S,[]),l.Eb(1073742336,Fi.I,Fi.I,[]),l.Eb(1073742336,zd,zd,[]),l.Eb(1073742336,Fi.Sd,Fi.Sd,[]),l.Eb(1073742336,Fi.Sb,Fi.Sb,[]),l.Eb(1073742336,Ad,Ad,[]),l.Eb(1073742336,bh,bh,[]),l.Eb(1073742336,Nd,Nd,[]),l.Eb(1073742336,Ch,Ch,[]),l.Eb(1073742336,_h,_h,[]),l.Eb(1073742336,Rh,Rh,[]),l.Eb(1073742336,Eh.a,Eh.a,[]),l.Eb(1073742336,Lh,Lh,[]),l.Eb(1073742336,Gh.a,Gh.a,[]),l.Eb(1073742336,Dh,Dh,[]),l.Eb(1073742336,jh,jh,[]),l.Eb(1073742336,$h,$h,[]),l.Eb(1073742336,Fh,Fh,[]),l.Eb(1073742336,zh,zh,[]),l.Eb(1073742336,Nh,Nh,[]),l.Eb(1073742336,Vh,Vh,[]),l.Eb(1073742336,Bh,Bh,[]),l.Eb(1073742336,Qh,Qh,[]),l.Eb(1073742336,Hh,Hh,[]),l.Eb(1073742336,Wh,Wh,[]),l.Eb(1073742336,qh,qh,[]),l.Eb(1073742336,Uh,Uh,[]),l.Eb(1073742336,o,o,[]),l.Eb(256,Id.m,"XSRF-TOKEN",[]),l.Eb(256,Id.n,"X-XSRF-TOKEN",[]),l.Eb(1024,r.j,function(){return[[{path:"",component:s,children:[{path:"dashboard-page/:organizer/:configuration",component:be,resolve:{configuration:Ld},children:[{outlet:"DemoClientMetricsBillboard",loadChildren:Gd}]}]}]]},[]),l.Eb(256,Qr,mh,[]),l.Eb(256,Hr,ph,[]),l.Eb(256,xt.e,fh,[]),l.Eb(256,gh.b,xh,[]),l.Eb(256,wo,Ah,[])])})},"Xwq/":function(e,t,n){"use strict";var l=n("FWf1"),o=n("p//D"),i=n("GiSu");t.toSubscriber=function(e,t,n){if(e){if(e instanceof l.Subscriber)return e;if(e[o.rxSubscriber])return e[o.rxSubscriber]()}return e||t||n?new l.Subscriber(e,t,n):new l.Subscriber(i.empty)}},Y67E:function(e,t,n){"use strict";n.d(t,"a",function(){return l});class l{constructor(e){this._injector=e,this.templatableClassesListMap=new Map}getCardOutletExtensionViewTemplateClassBootstrapperList(e){return this.templatableClassesListMap.get(e)}loadingDashboardCardTemplatableClass(e,t){const n=this.getCardOutletExtensionViewTemplateClassBootstrapperList(e.component);return new Promise((t,l)=>{if(n)for(const o of n)this._templateTransporter.bootstrappingTemplateLoading(o,e,t,l)})}loadingDashboardCardTemplatableModule(e,t){const n=this.getCardOutletExtensionViewTemplateClassBootstrapperList(e.component);return new Promise((t,l)=>{if(n)for(const o of n)this._templateTransporter.bootstrappingModuleRouteLoading(o,e,t,l)})}prepareFieldMetadataList(e){return this._templateTransporter.prepareFieldMetadataList(e)}}},YLGm:function(e){e.exports={id:"deck4",cards:[{id:"temperature-monitor",component:"card-asset-node",templates:[{body:{organization:"nodeflow_sample",template:"nodePresentation"}}],header:{title:"Thermal Hotspot"},layout:{x:3,y:4,width:2,height:3},metadata:{provider:{business:{assetTypeId:"14",catalogId:"catalogId-temperature-monitor",layoutId:"layoutId-temperature-monitor"}},model:{producer:null,link:{sockets:[{id:"temperature-monitor-TEMP-input",type:"input",topic:"temperature",enabled:!0,multicast:!1},{id:"temperature-monitor-TEMP-capacity",type:"input",topic:"capacity",enabled:!0,multicast:!1},{id:"temperature-monitor-TEMP-name",type:"input",topic:"name",enabled:!0,multicast:!1}]}}}},{id:"machine-learning-1",component:"card-asset-node",templates:[{body:{organization:"nodeflow_sample",template:"nodePresentation"}}],header:{title:"Machine Learning 1"},layout:{x:4,y:1,width:2,height:2},metadata:{provider:{business:{assetTypeId:"16",catalogId:"catalogId-machine-learning-1",layoutId:"layoutId-machine-learning-1"}},model:{producer:null,link:{sockets:[{id:"machine-learning1-NAME-input",type:"input",topic:"name",enabled:!0,multicast:!0}]}}}},{id:"message-layout-2",component:"card-asset-node",templates:[{body:{organization:"nodeflow_sample",template:"nodePresentation"}}],header:{title:"Message Layout 2"},layout:{x:4,y:0,width:1,height:1},metadata:{provider:{business:{assetTypeId:"1",catalogId:"catalogId-message-layout-2",layoutId:"layoutId-message-layout-2"}},model:{producer:null,link:{sockets:[{id:"messageLayout2-NAME-input",type:"input",topic:"name",enabled:!0,multicast:!1},{id:"messageLayout2-FUNDING-input",type:"input",topic:"funding",enabled:!0,multicast:!1}]}}}},{id:"message-layout-3",component:"card-asset-node",templates:[{body:{organization:"nodeflow_sample",template:"nodePresentation"}}],header:{title:"Message Layout 3"},layout:{x:1,y:5,width:1,height:1},metadata:{provider:{business:{assetTypeId:"19",catalogId:"catalogId-message-layout-3",layoutId:"layoutId-message-layout-3"}},model:{producer:{messages:[{topic:"customer",form:{component:"customerForm"},state:{classifier:"customerMessage",data:{customerNumber:"Cust123",customerCity:"Seattle"}}}]},link:{sockets:[{id:"messageLayout3-NAME-input",type:"input",topic:"name",enabled:!0,multicast:!1},{id:"messageLayout3-COLOR-input",type:"input",topic:"color",enabled:!0,multicast:!1},{id:"messageLayout3-NAME-output",type:"output",topic:"customer",enabled:!0,multicast:!1,subscribers:[{id:"message-layout-4",valid:!0}]}]}}}},{id:"message-layout-4",component:"card-asset-node",templates:[{body:{organization:"nodeflow_sample",template:"nodePresentation"}}],header:{title:"Layout 4"},layout:{x:2,y:3,width:1,height:2},metadata:{provider:{business:{assetTypeId:"8",catalogId:"catalogId-message-layout-4",layoutId:"layoutId-message-layout-4"}},model:{producer:{messages:[{topic:"name",form:{component:"leadershipForm"},state:{classifier:"leadershipMessage",data:{firstName:"Dwight",lastName:"Smith",position:"General"}}},{topic:"temperature",form:{component:"temperatureForm"},state:{classifier:"thermalMonitoringMessage",data:{peakTemp:60,minimumTemp:45,ambientTemp:20}}},{topic:"color",form:{component:"chromaForm"},state:{classifier:"chromaMessage",data:{red:220,green:96,blue:96}}},{topic:"team",form:{component:"teamGroupForm"},state:{classifier:"teamMessage",data:{developers:2,scientists:5,managers:100}}}]},link:{sockets:[{id:"message-layout-4:CUSTOMER-input",type:"input",topic:"customer",enabled:!0,multicast:!1},{id:"message-layout-4:EMAIL-input",type:"input",topic:"email",enabled:!0,multicast:!1},{id:"message-layout-4:NAME-output",type:"output",topic:"name",enabled:!0,multicast:!0,subscribers:[{id:"machine-learning-1",valid:!0},{id:"message-layout-3",valid:!1},{id:"message-layout-2",valid:null}]},{id:"message-layout-4:TEMP-output",type:"output",topic:"temperature",enabled:!0,multicast:!1,subscribers:[{id:"temperature-monitor",valid:!0},{id:"temperature-monitor",valid:!0},{id:"temperature-monitor",valid:!0},{id:"message-layout-3",valid:!0},{id:"message-layout-2",valid:null}]},{id:"message-layout-4:VOLUME-output",type:"output",topic:"volume",enabled:!0,multicast:!1,subscribers:[]},{id:"message-layout-4:FLAVOR-output",type:"output",topic:"flavor",enabled:!1,multicast:!1,subscribers:[]},{id:"message-layout-4:COLOR-output",type:"output",topic:"color",enabled:!0,multicast:!1,subscribers:[]},{id:"message-layout-4:WEIGHT-output",type:"output",topic:"weight",enabled:!0,multicast:!1,subscribers:[]},{id:"message-layout-4:TABLE2-output",type:"output",topic:"table2",enabled:!0,multicast:!1,subscribers:[]},{id:"message-layout-4:TABLE3-output",type:"output",topic:"table3",enabled:!0,multicast:!1,subscribers:[]},{id:"message-layout-4:TABLE4-output",type:"output",topic:"table4",enabled:!0,multicast:!1,subscribers:[]},{id:"message-layout-4:TABLE5-output",type:"output",topic:"table5",enabled:!0,multicast:!1,subscribers:[]},{id:"message-layout-4:TABLE6-output",type:"output",topic:"table6",enabled:!0,multicast:!1,subscribers:[]},{id:"message-layout-4:TABLE7-output",type:"output",topic:"table7",enabled:!0,multicast:!1,subscribers:[]},{id:"message-layout-4:TABLE8-output",type:"output",topic:"table8",enabled:!0,multicast:!1,subscribers:[]},{id:"message-layout-4:TABLE9-output",type:"output",topic:"table9",enabled:!0,multicast:!1,subscribers:[]},{id:"message-layout-4:TABLE10-output",type:"output",topic:"table10",enabled:!0,multicast:!1,subscribers:[]}]}}}},{id:"message-layout-5",component:"card-asset-node",templates:[{body:{organization:"nodeflow_sample",template:"nodePresentation"}}],header:{title:"Layout 5"},layout:{x:0,y:1,width:2,height:3},metadata:{provider:{business:{assetTypeId:"9",catalogId:"catalogId-message-layout-5",layoutId:"layoutId-message-layout-5"}},model:{producer:{messages:[{topic:"name",form:{component:"leadershipForm"},state:{classifier:"leadershipMessage",data:{firstName:"Napoleon",lastName:"Bonaparte",position:"General"}}}]},link:{sockets:[{id:"message-layout5:ABC-input",type:"input",topic:"device",enabled:!0,multicast:!1},{id:"message-layout5:DEF-output",type:"output",topic:"name",enabled:!0,multicast:!0,subscribers:[{id:"machine-learning-1",valid:!1},{id:"message-layout-3",valid:!0},{id:"message-layout-2",valid:!1}]}]}}}},{id:"message-layout-6",component:"card-asset-node",templates:[{body:{organization:"nodeflow_sample",template:"nodePresentation"}}],header:{title:"Deep House 6"},layout:{x:2,y:0,width:1,height:1},metadata:{provider:{business:{assetTypeId:"9",catalogId:"catalogId-message-layout-6",layoutId:"layoutId-message-layout-6"}},model:{producer:{messages:[{topic:"capacity",form:{component:"capacityForm"},state:{classifier:"capacityMessage",data:{budget:1e6,location:"Las Vegas",staff:12,policyStartDate:"2017-06-22"}}}]},link:{sockets:[{id:"message-layout-6:ABC-funding",type:"input",topic:"funding",enabled:!0,multicast:!1},{id:"error-message-layout-6:ABC-funding",type:"input",topic:"funding",enabled:!1,multicast:!1},{id:"error-message-layout-6:ABC-funding",type:"input",topic:"funding",enabled:!1,multicast:!1},{id:"error-message-layout-6:ABC-funding",type:"input",topic:"funding",enabled:!1,multicast:!1},{type:"input",topic:"funding",enabled:!1,multicast:!1},{id:"message-layout-6:DEF-capacity",type:"output",topic:"capacity",enabled:!0,multicast:!1,subscribers:[]}]}}}}]}},aGbN:function(e,t,n){"use strict";n.d(t,"a",function(){return i});var l=n("8Y7J"),o=n("XNiG");class i{constructor(e,t,n,o){this.resourceToken=e,this._cd=t,this._outlet=n,this._globalState=o,this.accessibilityTransitionCardEvent=new l.m,this.assemblySubscriptionList=[],this._lastKnownCardDimensionMap={},n.cardAssemblyPlugin=this,this._lastKnownCardDimensionMap.width={lastModifiedTime:1},this._lastKnownCardDimensionMap.height={lastModifiedTime:1}}ngOnInit(){this.setupFooterSection(),setTimeout(()=>{setTimeout(()=>{try{this.setupHeaderTemplateView()}catch(e){console.error("unable to reference the header view container. maybe not rendered")}},0)},0)}ngOnDestroy(){this.assemblySubscriptionList.filter(e=>!e.closed).forEach(e=>e.unsubscribe()),[this.headerEmbeddedViewRef,this.footerEmbeddedViewRef].forEach(e=>{e&&e.destroy()})}get templatableComponentClass(){return this.derivedTemplatableClass}get templatableModuleFactory(){return this.derivedTemplateModuleFactory||void 0}onDashboardCardTemplatableLoaded(e,t){this.fieldMetadataList.forEach(n=>{const l=n.view;let o;for(const i in l)(o=l[i])&&(e.validateRenderTemplateMetadata(o)?this.collateViewPositionTemplate(n,i,t[i][o.template]):console.log("invalid binding exception",o.template))})}setupFooterSection(){this.footerSection&&(this.footerEmbeddedViewRef=this._outlet.footerTemplateContainerRef.createEmbeddedView(this.footerSection,{},0))}startInteractionEvents(){}streamCardLayoutDimension(e){const t=new o.a,n=t.asObservable();return this.onCardLayoutPropertyChange(e,n=>{const l=this._lastKnownCardDimensionMap[e];Date.now()-l.lastModifiedTime>5&&(t.next(n),l.length=n,l.lastModifiedTime=Date.now())}),n}onCardLayoutPropertyChange(e,t){const n=[this.resourceToken.card.resourceId,"layout",e].join("/");this._globalState.subscribe(n,t)}selectFirstConfigurationResource(e,t,n,l){let o=null;return e[t].some(e=>e[n]===l&&(o=e,!0)),o}forceViewRelayout(){setTimeout(()=>{this._cd.markForCheck(),this._cd.detectChanges()},0)}collateViewPositionTemplate(e,t,n){const l=this.positionBasedTemplateMap[t];l?n?l[e.id]=n:delete l[e.id]:console.error("cannot link template to position",t)}}},bd41:function(e,t,n){"use strict";n.d(t,"a",function(){return o}),n("g2fM");var l=n("TphC");class o{constructor(e){this.pushedItems=[],this.pushedItemsPath=[],this.gridsterItem=e,this.gridster=e.gridster,this.tryPattern={fromEast:this.tryWest,fromWest:this.tryEast,fromNorth:this.trySouth,fromSouth:this.tryNorth},this.fromSouth="fromSouth",this.fromNorth="fromNorth",this.fromEast="fromEast",this.fromWest="fromWest"}destroy(){delete this.gridster,delete this.gridsterItem}pushItems(e){return!!this.gridster.$options.pushResizeItems&&this.push(this.gridsterItem,e)}restoreItems(){let e=0;const t=this.pushedItems.length;let n;for(;e<t;e++)(n=this.pushedItems[e]).$item.x=n.item.x||0,n.$item.y=n.item.y||0,n.$item.cols=n.item.cols||1,n.$item.row=n.item.row||1,n.setSize(!0);this.pushedItems=[],this.pushedItemsPath=[]}setPushedItems(){let e=0;const t=this.pushedItems.length;let n;for(;e<t;e++)(n=this.pushedItems[e]).checkItemChanges(n.$item,n.item);this.pushedItems=[],this.pushedItemsPath=[]}checkPushBack(){let e=this.pushedItems.length-1,t=!1;for(;e>-1;e--)this.checkPushedItem(this.pushedItems[e],e)&&(t=!0);t&&this.checkPushBack()}push(e,t){const n=this.gridster.checkCollision(e.$item);if(n&&!0!==n&&n!==this.gridsterItem&&n.canBeResized()){if(this.tryPattern[t].call(this,n,e,t))return!0}else if(!1===n)return!0;return!1}trySouth(e,t,n){const o=e.$item.y,i=e.$item.rows;return e.$item.y=t.$item.y+t.$item.rows,e.$item.rows=i+o-e.$item.y,l.a.checkCollisionTwoItems(e.$item,t.$item)||this.gridster.checkGridCollision(e.$item)?(e.$item.y=o,e.$item.rows=i,!1):(e.setSize(!0),this.addToPushed(e),this.push(t,n),!0)}tryNorth(e,t,n){const o=e.$item.rows;return e.$item.rows=t.$item.y-e.$item.y,l.a.checkCollisionTwoItems(e.$item,t.$item)||this.gridster.checkGridCollision(e.$item)?(e.$item.rows=o,!1):(e.setSize(!0),this.addToPushed(e),this.push(t,n),!0)}tryEast(e,t,n){const o=e.$item.x,i=e.$item.cols;return e.$item.x=t.$item.x+t.$item.cols,e.$item.cols=i+o-e.$item.x,l.a.checkCollisionTwoItems(e.$item,t.$item)||this.gridster.checkGridCollision(e.$item)?(e.$item.x=o,e.$item.cols=i,!1):(e.setSize(!0),this.addToPushed(e),this.push(t,n),!0)}tryWest(e,t,n){const o=e.$item.cols;return e.$item.cols=t.$item.x-e.$item.x,l.a.checkCollisionTwoItems(e.$item,t.$item)||this.gridster.checkGridCollision(e.$item)?(e.$item.cols=o,!1):(e.setSize(!0),this.addToPushed(e),this.push(t,n),!0)}addToPushed(e){if(this.pushedItems.indexOf(e)<0)this.pushedItems.push(e),this.pushedItemsPath.push([{x:e.item.x||0,y:e.item.y||0,cols:e.item.cols||0,rows:e.item.rows||0},{x:e.$item.x,y:e.$item.y,cols:e.$item.cols,rows:e.$item.rows}]);else{const t=this.pushedItems.indexOf(e);this.pushedItemsPath[t].push({x:e.$item.x,y:e.$item.y,cols:e.$item.cols,rows:e.$item.rows})}}removeFromPushed(e){e>-1&&(this.pushedItems.splice(e,1),this.pushedItemsPath.splice(e,1))}checkPushedItem(e,t){const n=this.pushedItemsPath[t];let l,o,i,r,s,a=n.length-2;for(;a>-1;a--)o=e.$item.x,i=e.$item.y,r=e.$item.cols,s=e.$item.rows,e.$item.x=(l=n[a]).x,e.$item.y=l.y,e.$item.cols=l.cols,e.$item.rows=l.rows,this.gridster.findItemWithItem(e.$item)?(e.$item.x=o,e.$item.y=i,e.$item.cols=r,e.$item.rows=s):(e.setSize(!0),n.splice(a+1,n.length-1-a));return n.length<2&&(this.removeFromPushed(t),!0)}}},bdgK:function(e,t,n){"use strict";var l=function(){if("undefined"!=typeof Map)return Map;function e(e,t){var n=-1;return e.some(function(e,l){return e[0]===t&&(n=l,!0)}),n}return function(){function t(){this.__entries__=[]}return Object.defineProperty(t.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),t.prototype.get=function(t){var n=e(this.__entries__,t),l=this.__entries__[n];return l&&l[1]},t.prototype.set=function(t,n){var l=e(this.__entries__,t);~l?this.__entries__[l][1]=n:this.__entries__.push([t,n])},t.prototype.delete=function(t){var n=this.__entries__,l=e(n,t);~l&&n.splice(l,1)},t.prototype.has=function(t){return!!~e(this.__entries__,t)},t.prototype.clear=function(){this.__entries__.splice(0)},t.prototype.forEach=function(e,t){void 0===t&&(t=null);for(var n=0,l=this.__entries__;n<l.length;n++){var o=l[n];e.call(t,o[1],o[0])}},t}()}(),o="undefined"!=typeof window&&"undefined"!=typeof document&&window.document===document,i="undefined"!=typeof global&&global.Math===Math?global:"undefined"!=typeof self&&self.Math===Math?self:"undefined"!=typeof window&&window.Math===Math?window:Function("return this")(),r="function"==typeof requestAnimationFrame?requestAnimationFrame.bind(i):function(e){return setTimeout(function(){return e(Date.now())},1e3/60)},s=2,a=20,u=["top","right","bottom","left","width","height","size","weight"],c="undefined"!=typeof MutationObserver,d=function(){function e(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=function(e,t){var n=!1,l=!1,o=0;function i(){n&&(n=!1,e()),l&&u()}function a(){r(i)}function u(){var e=Date.now();if(n){if(e-o<s)return;l=!0}else n=!0,l=!1,setTimeout(a,t);o=e}return u}(this.refresh.bind(this),a)}return e.prototype.addObserver=function(e){~this.observers_.indexOf(e)||this.observers_.push(e),this.connected_||this.connect_()},e.prototype.removeObserver=function(e){var t=this.observers_,n=t.indexOf(e);~n&&t.splice(n,1),!t.length&&this.connected_&&this.disconnect_()},e.prototype.refresh=function(){this.updateObservers_()&&this.refresh()},e.prototype.updateObservers_=function(){var e=this.observers_.filter(function(e){return e.gatherActive(),e.hasActive()});return e.forEach(function(e){return e.broadcastActive()}),e.length>0},e.prototype.connect_=function(){o&&!this.connected_&&(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),c?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},e.prototype.disconnect_=function(){o&&this.connected_&&(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},e.prototype.onTransitionEnd_=function(e){var t=e.propertyName,n=void 0===t?"":t;u.some(function(e){return!!~n.indexOf(e)})&&this.refresh()},e.getInstance=function(){return this.instance_||(this.instance_=new e),this.instance_},e.instance_=null,e}(),h=function(e,t){for(var n=0,l=Object.keys(t);n<l.length;n++){var o=l[n];Object.defineProperty(e,o,{value:t[o],enumerable:!1,writable:!1,configurable:!0})}return e},g=function(e){return e&&e.ownerDocument&&e.ownerDocument.defaultView||i},m=C(0,0,0,0);function p(e){return parseFloat(e)||0}function b(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return t.reduce(function(t,n){return t+p(e["border-"+n+"-width"])},0)}var f="undefined"!=typeof SVGGraphicsElement?function(e){return e instanceof g(e).SVGGraphicsElement}:function(e){return e instanceof g(e).SVGElement&&"function"==typeof e.getBBox};function C(e,t,n,l){return{x:e,y:t,width:n,height:l}}var y=function(){function e(e){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=C(0,0,0,0),this.target=e}return e.prototype.isActive=function(){var e,t=(e=this.target,o?f(e)?function(e){var t=e.getBBox();return C(0,0,t.width,t.height)}(e):function(e){var t=e.clientWidth,n=e.clientHeight;if(!t&&!n)return m;var l=g(e).getComputedStyle(e),o=function(e){for(var t={},n=0,l=["top","right","bottom","left"];n<l.length;n++){var o=l[n];t[o]=p(e["padding-"+o])}return t}(l),i=o.left+o.right,r=o.top+o.bottom,s=p(l.width),a=p(l.height);if("border-box"===l.boxSizing&&(Math.round(s+i)!==t&&(s-=b(l,"left","right")+i),Math.round(a+r)!==n&&(a-=b(l,"top","bottom")+r)),!function(e){return e===g(e).document.documentElement}(e)){var u=Math.round(s+i)-t,c=Math.round(a+r)-n;1!==Math.abs(u)&&(s-=u),1!==Math.abs(c)&&(a-=c)}return C(o.left,o.top,s,a)}(e):m);return this.contentRect_=t,t.width!==this.broadcastWidth||t.height!==this.broadcastHeight},e.prototype.broadcastRect=function(){var e=this.contentRect_;return this.broadcastWidth=e.width,this.broadcastHeight=e.height,e},e}(),v=function(){return function(e,t){var n,l,o,i,r,s,a,u=(l=(n=t).x,o=n.y,i=n.width,r=n.height,s="undefined"!=typeof DOMRectReadOnly?DOMRectReadOnly:Object,a=Object.create(s.prototype),h(a,{x:l,y:o,width:i,height:r,top:o,right:l+i,bottom:r+o,left:l}),a);h(this,{target:e,contentRect:u})}}(),I=function(){function e(e,t,n){if(this.activeObservations_=[],this.observations_=new l,"function"!=typeof e)throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=e,this.controller_=t,this.callbackCtx_=n}return e.prototype.observe=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!=typeof Element&&Element instanceof Object){if(!(e instanceof g(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)||(t.set(e,new y(e)),this.controller_.addObserver(this),this.controller_.refresh())}},e.prototype.unobserve=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!=typeof Element&&Element instanceof Object){if(!(e instanceof g(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)&&(t.delete(e),t.size||this.controller_.removeObserver(this))}},e.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},e.prototype.gatherActive=function(){var e=this;this.clearActive(),this.observations_.forEach(function(t){t.isActive()&&e.activeObservations_.push(t)})},e.prototype.broadcastActive=function(){if(this.hasActive()){var e=this.callbackCtx_,t=this.activeObservations_.map(function(e){return new v(e.target,e.broadcastRect())});this.callback_.call(e,t,e),this.clearActive()}},e.prototype.clearActive=function(){this.activeObservations_.splice(0)},e.prototype.hasActive=function(){return this.activeObservations_.length>0},e}(),O="undefined"!=typeof WeakMap?new WeakMap:new l,M=function(){return function e(t){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var n=d.getInstance(),l=new I(t,n,this);O.set(this,l)}}();["observe","unobserve","disconnect"].forEach(function(e){M.prototype[e]=function(){var t;return(t=O.get(this))[e].apply(t,arguments)}}),t.a=void 0!==i.ResizeObserver?i.ResizeObserver:M},cRzo:function(e,t,n){"use strict";n.d(t,"a",function(){return l}),n("g2fM");class l{constructor(e){this.gridsterItem=e,this.gridster=e.gridster}destroy(){delete this.gridster,delete this.gridsterItem,delete this.swapedItem}swapItems(){this.gridster.$options.swap&&(this.checkSwapBack(),this.checkSwap(this.gridsterItem))}checkSwapBack(){if(this.swapedItem){const e=this.swapedItem.$item.x,t=this.swapedItem.$item.y;this.swapedItem.$item.x=this.swapedItem.item.x||0,this.swapedItem.$item.y=this.swapedItem.item.y||0,this.gridster.checkCollision(this.swapedItem.$item)?(this.swapedItem.$item.x=e,this.swapedItem.$item.y=t):(this.swapedItem.setSize(!0),this.gridsterItem.$item.x=this.gridsterItem.item.x||0,this.gridsterItem.$item.y=this.gridsterItem.item.y||0,this.swapedItem=void 0)}}restoreSwapItem(){this.swapedItem&&(this.swapedItem.$item.x=this.swapedItem.item.x||0,this.swapedItem.$item.y=this.swapedItem.item.y||0,this.swapedItem.setSize(!0),this.swapedItem=void 0)}setSwapItem(){this.swapedItem&&(this.swapedItem.checkItemChanges(this.swapedItem.$item,this.swapedItem.item),this.swapedItem=void 0)}checkSwap(e){const t=this.gridster.checkCollision(e.$item);if(t&&!0!==t&&t.canBeDragged()){const n=t,l=n.$item.x,o=n.$item.y,i=e.$item.x,r=e.$item.y;n.$item.x=e.item.x||0,n.$item.y=e.item.y||0,e.$item.x=n.item.x||0,e.$item.y=n.item.y||0,this.gridster.checkCollision(n.$item)||this.gridster.checkCollision(e.$item)?(e.$item.x=i,e.$item.y=r,n.$item.x=l,n.$item.y=o):(n.setSize(!0),this.swapedItem=n)}}}},eH2f:function(e,t,n){"use strict";n.d(t,"a",function(){return u});var l=n("8Y7J"),o=n("2Vo4"),i=n("XNiG"),r=n("itXk"),s=n("vkgz"),a=(n("QwtG"),n("JH+Q"));n("NJuj");class u{constructor(e,t,n){this._state=e,this.configurationFacadeService=t,this._injector=n,this.zoomFactor=1,this.layoutItemsChangeList=new l.m,this.layoutItemInitialize=new l.m,this.layoutItemStartMovementInteraction=new l.m,this.layoutItemEndMovementInteraction=new l.m,this.layoutItemDestroy=new l.m,this.producedAssemblyStrategy=new l.m,this.isConfigurationReadySubject$=new o.a(!1),this.isConfigurationValidSubject$=new o.a(!1),this.isConfigurationErrorSubject$=new o.a(!1),this.isConfigurationLoadingSubject$=new o.a(!1),this.zoomChangeSubject$=new i.a,this.subscriptionList=[],this.startChangeListeners()}ngOnInit(){this.projectables=[this.headerTemplateRef,this.gridWidgetUnderlayTemplateRef,this.gridWidgetOverlayTemplateRef,this.footerTemplateRef].map(e=>e.createEmbeddedView(null).rootNodes)}ngOnChanges(e){"configurationMetadata"in e&&this.initialize(),e.zoomFactor&&this.zoomChangeSubject$.next(e.zoomFactor)}ngOnDestroy(){this.isConfigurationLoadingSubject$.next(!1),this.isConfigurationLoadingSubject$.complete(),this.subscriptionList.forEach(e=>e.unsubscribe())}initialize(){return this.isConfigurationValidSubject$.next(!!this.configurationMetadata),this.dashboardConfigurationFacade$=this.configurationFacadeService.creatingConfiguration(this.configurationMetadata),this.isConfigurationLoadingSubject$.next(!0),this.subscriptionList.push(this.dashboardConfigurationFacade$.subscribe(e=>{this.dashboardConfigurationFacade=e,this.isConfigurationErrorSubject$.next(!1),this.isConfigurationValidSubject$.next(!0),this.isConfigurationReadySubject$.next(!0),this.dashboardId=e.id,this.layoutAssemblyStrategyFactory()},e=>{this.isConfigurationErrorSubject$.next(!0),this.isConfigurationValidSubject$.next(!1),this.isConfigurationReadySubject$.next(!1),this.configurationErrorMessage=e},()=>{this.isConfigurationLoadingSubject$.next(!1)})),this.dashboardConfigurationFacade$}findCardAssemblyPluginList(){return!!this.producedAssemblyStrategyImpl&&this.producedAssemblyStrategyImpl.cardOutletList}layoutAssemblyStrategyFactory(){const e=[];this.producedAssemblyStrategyProviderInjector=void 0,this.producedAssemblyStrategyComponent=void 0,a.f.viewTypeProviderTokenMap.forEach((t,n)=>{const l=this.dashboardConfigurationFacade.findConfigurationResourceByType("viewsList",n);if(l){const n=l.resolver.injectorInstance.state();e.push({provide:t,useValue:n}),this.producedAssemblyStrategyComponent||(this.producedAssemblyStrategyComponent=a.f.viewComponentAssemblyStrategyComponentMap.get(l.component))}}),this.producedAssemblyStrategyProviderInjector=l.s.create({providers:e,parent:this._injector})}startChangeListeners(){this.subscriptionList.push(this.producedAssemblyStrategy.subscribe(e=>{this.producedAssemblyStrategyImpl=e})),this.subscriptionList.push(Object(r.a)(this.producedAssemblyStrategy,this.zoomChangeSubject$).pipe(Object(s.a)(([e,t])=>{e.gridWidget.ngOnChanges({scalerLevel:t})})).subscribe())}}},ffpz:function(e,t,n){"use strict";t.Scheduler=function(){function e(t,n){void 0===n&&(n=e.now),this.SchedulerAction=t,this.now=n}return e.prototype.schedule=function(e,t,n){return void 0===t&&(t=0),new this.SchedulerAction(this,e).schedule(n,t)},e.now=function(){return Date.now()},e}()},fhqt:function(e,t,n){"use strict";n.d(t,"a",function(){return l});class l{constructor(e){this.data=e}get deploymentMetadata(){return this.data.deployment}get dashboardMetadata(){return this.data.services.dashboardMetadata}selectService(e){return this.data.services[e]}assembleValidUrl(e,t){const n=this.assembleValidUrlImpl(e,t),l=[];let o=null;return e.route.query&&Object.keys(e.route.query).length&&(o={},Object.keys(e.route.query).map(n=>{const i=this.transformTemplate(e.route.query[n],t);o[n]=i,l.push([encodeURI(n),i].join("="))})),[n,l.length&&l.join("&")].filter(Boolean).join("?")}transformTemplate(e,t,n){return e.replace(/{{\s*?([A-z0-9_.]{1,255})\s*?}}/g,(e,n,l)=>t?encodeURIComponent(function(e){if((t=e)!==Object(t))return e;try{return JSON.stringify(e)}catch(n){return e}var t}(function(e,t){if(t){const n=e.split(".");let l,o=t;for(;(l=n.shift())&&o;)o=o[l];return o}return null}(n,t))):"")}assembleValidUrlImpl(e,t){const n=e.route,l=n.port||+window.location.port||0;return(n.protocol||window.location.protocol.replace(":",""))+"://"+(n.host||window.location.hostname)+([0,80,443].indexOf(l)<0?":"+l:"")+[e.publicPath,n.path].filter(Boolean).map(e=>this.transformTemplate(e,t)).join(n.path&&0===n.path.indexOf("/")?"":"/")+(n.extension||"")}}},g2fM:function(e,t,n){},gKWM:function(e,t,n){"use strict";n.d(t,"a",function(){return i});var l=n("31G0"),o=n("lsXn");const i=(()=>{class e extends l.a{classificationMetadata(){return e.metastructure}consume(e){return this._state=new o.a(this.configurationFacade,e),!0}state(){return this._state}}return e.metastructure={identifier:"dashboard-assembly-grid-container"},e})()},"h/oP":function(e,t,n){"use strict";n.d(t,"a",function(){return l});var l=function(e){return e.None="none",e.CompactUp="compactUp",e.CompactLeft="compactLeft",e.CompactUpAndLeft="compactUp&Left",e.CompactLeftAndUp="compactLeft&Up",e}({})},hDzc:function(e,t,n){"use strict";n.d(t,"a",function(){return l}),n("g2fM");class l{constructor(e){this.pushedItems=[],this.pushedItemsTemp=[],this.pushedItemsTempPath=[],this.pushedItemsPath=[],this.gridsterItem=e,this.gridster=e.gridster,this.tryPattern={fromEast:[this.tryWest,this.trySouth,this.tryNorth,this.tryEast],fromWest:[this.tryEast,this.trySouth,this.tryNorth,this.tryWest],fromNorth:[this.trySouth,this.tryEast,this.tryWest,this.tryNorth],fromSouth:[this.tryNorth,this.tryEast,this.tryWest,this.trySouth]},this.fromSouth="fromSouth",this.fromNorth="fromNorth",this.fromEast="fromEast",this.fromWest="fromWest"}destroy(){delete this.gridster,delete this.gridsterItem}pushItems(e,t){if(this.gridster.$options.pushItems&&!t){this.pushedItemsOrder=[];const t=this.push(this.gridsterItem,e);return t||this.restoreTempItems(),this.pushedItemsOrder=[],this.pushedItemsTemp=[],this.pushedItemsTempPath=[],t}return!1}restoreTempItems(){let e=this.pushedItemsTemp.length-1;for(;e>-1;e--)this.removeFromTempPushed(this.pushedItemsTemp[e])}restoreItems(){let e=0;const t=this.pushedItems.length;let n;for(;e<t;e++)(n=this.pushedItems[e]).$item.x=n.item.x||0,n.$item.y=n.item.y||0,n.setSize(!0);this.pushedItems=[],this.pushedItemsPath=[]}setPushedItems(){let e=0;const t=this.pushedItems.length;let n;for(;e<t;e++)(n=this.pushedItems[e]).checkItemChanges(n.$item,n.item);this.pushedItems=[],this.pushedItemsPath=[]}checkPushBack(){let e=this.pushedItems.length-1,t=!1;for(;e>-1;e--)this.checkPushedItem(this.pushedItems[e],e)&&(t=!0);t&&this.checkPushBack()}push(e,t){if(this.gridster.checkGridCollision(e.$item))return!1;if(""===t)return!1;const n=this.gridster.findItemsWithItem(e.$item);let l,o=n.length-1,i=!0;const r=[];for(;o>-1;o--){if((l=n[o])===this.gridsterItem){i=!1;break}if(!l.canBeDragged()){i=!1;break}if(this.pushedItemsTemp.find(e=>e.$item.x===l.$item.x&&e.$item.y===l.$item.y)){i=!1;break}if(this.tryPattern[t][0].call(this,l,e))this.pushedItemsOrder.push(l),r.push(l);else if(this.tryPattern[t][1].call(this,l,e))this.pushedItemsOrder.push(l),r.push(l);else if(this.tryPattern[t][2].call(this,l,e))this.pushedItemsOrder.push(l),r.push(l);else{if(!this.tryPattern[t][3].call(this,l,e)){i=!1;break}this.pushedItemsOrder.push(l),r.push(l)}}if(!i&&(o=this.pushedItemsOrder.lastIndexOf(r[0]))>-1){let e=this.pushedItemsOrder.length-1;for(;e>=o;e--)l=this.pushedItemsOrder[e],this.pushedItemsOrder.pop(),this.removeFromTempPushed(l),this.removeFromPushedItem(l)}return i}trySouth(e,t){return!!this.gridster.$options.pushDirections.south&&(this.addToTempPushed(e),e.$item.y=t.$item.y+t.$item.rows,this.push(e,this.fromNorth)?(e.setSize(!0),this.addToPushed(e),!0):(this.removeFromTempPushed(e),!1))}tryNorth(e,t){return!!this.gridster.$options.pushDirections.north&&(this.addToTempPushed(e),e.$item.y=t.$item.y-e.$item.rows,this.push(e,this.fromSouth)?(e.setSize(!0),this.addToPushed(e),!0):(this.removeFromTempPushed(e),!1))}tryEast(e,t){return!!this.gridster.$options.pushDirections.east&&(this.addToTempPushed(e),e.$item.x=t.$item.x+t.$item.cols,this.push(e,this.fromWest)?(e.setSize(!0),this.addToPushed(e),!0):(this.removeFromTempPushed(e),!1))}tryWest(e,t){return!!this.gridster.$options.pushDirections.west&&(this.addToTempPushed(e),e.$item.x=t.$item.x-e.$item.cols,this.push(e,this.fromEast)?(e.setSize(!0),this.addToPushed(e),!0):(this.removeFromTempPushed(e),!1))}addToTempPushed(e){let t=this.pushedItemsTemp.indexOf(e);-1===t&&(t=this.pushedItemsTemp.push(e)-1,this.pushedItemsTempPath[t]=[]),this.pushedItemsTempPath[t].push({x:e.$item.x,y:e.$item.y})}removeFromTempPushed(e){const t=this.pushedItemsTemp.indexOf(e),n=this.pushedItemsTempPath[t].pop();n&&(e.$item.x=n.x,e.$item.y=n.y,e.setSize(!0),this.pushedItemsTempPath[t].length||(this.pushedItemsTemp.splice(t,1),this.pushedItemsTempPath.splice(t,1)))}addToPushed(e){if(this.pushedItems.indexOf(e)<0)this.pushedItems.push(e),this.pushedItemsPath.push([{x:e.item.x||0,y:e.item.y||0},{x:e.$item.x,y:e.$item.y}]);else{const t=this.pushedItems.indexOf(e);this.pushedItemsPath[t].push({x:e.$item.x,y:e.$item.y})}}removeFromPushed(e){e>-1&&(this.pushedItems.splice(e,1),this.pushedItemsPath.splice(e,1))}removeFromPushedItem(e){const t=this.pushedItems.indexOf(e);t>-1&&(this.pushedItemsPath[t].pop(),this.pushedItemsPath.length||(this.pushedItems.splice(t,1),this.pushedItemsPath.splice(t,1)))}checkPushedItem(e,t){const n=this.pushedItemsPath[t];let l,o,i,r=n.length-2,s=!1;for(;r>-1;r--)o=e.$item.x,i=e.$item.y,e.$item.x=(l=n[r]).x,e.$item.y=l.y,this.gridster.findItemWithItem(e.$item)?(e.$item.x=o,e.$item.y=i):(e.setSize(!0),n.splice(r+1,n.length-r-1),s=!0);return n.length<2&&this.removeFromPushed(t),s}}},hWmW:function(e,t,n){"use strict";n.d(t,"a",function(){return s});var l=n("IheW"),o=n("w1tV"),i=n("vLqr");const r={network:{headers:{Accept:"application/json"}}};class s{getDeploymentConfiguration(){return this._deploymentConfiguration}getGlobalState(){return this._appGlobalState}streamRestResource(e,t,n,i){const s={headers:new l.g(r.network.headers),withCredentials:!(!n.route.authentication||!n.route.authentication.preflightSessionSent)},a=this._deploymentConfiguration.dashboardMetadata.route,u=[null,t+(a.extension||"")].filter(Boolean).join("/"),c=[a.host&&(a.protocol?a.protocol+":":"")+"//",a.host,i?this._deploymentConfiguration.transformTemplate(a.path,i,n):a.path,u].filter(Boolean).join("/"),d={};let h;switch(e){case"post":h=this.post(c,s,d,n);break;default:h=this.get(c,s,n)}return h.pipe(Object(o.a)())}streamUrlTemplateResource(e,t,n,i){let s;const a={headers:new l.g(r.network.headers),withCredentials:!(!i.route.authentication||!i.route.authentication.preflightSessionSent)},u=n?this._deploymentConfiguration.transformTemplate(t,n,i):t;switch(e){case"post":s=this.post(u,a,{},i);break;default:s=this.get(u,a,i)}return s.pipe(Object(o.a)())}get(e,t={},n){return this._http.get(this.transformToHostedUrl(e,n),t)}post(e,t,n={},l){return this._http.post(this.transformToHostedUrl(e,l),t,n)}transformToHostedUrl(e,t){return t||(t=this._deploymentConfiguration.dashboardMetadata),"network"===t.transport&&t.publicPath&&t.publicPath.length>1&&!t.route.protocol&&!t.route.host?[t.publicPath,e].join(e.startsWith("/")?"":"/"):e}handleError(e){let t;if(e instanceof Response)try{t=`${e.status} - ${e.statusText||""}`}catch(n){t=`${e.statusText} : ${e.url}`}else t=e.message?e.message:e.toString();return Object(i.throwError)(t)}}},kfid:function(e){e.exports=[{assetTypeId:"1",iconDecoratorClass:"symbol1",localization:{name:{text:"Message Layout"}}},{assetTypeId:"5",iconDecoratorClass:"symbol105",localization:{name:{text:"Security Monitor"}}},{assetTypeId:"6",iconDecoratorClass:"symbol6",localization:{name:{text:"Workflow"}}},{assetTypeId:"8",iconDecoratorClass:"symbol8",localization:{name:{text:"Streamed Event"}}},{assetTypeId:"9",iconDecoratorClass:"symbol9",localization:{name:{text:"Remote Node"}}},{assetTypeId:"11",iconDecoratorClass:"symbol11",localization:{name:{text:"Data Layout"}}},{assetTypeId:"12",iconDecoratorClass:"symbol12",localization:{name:{text:"Machine Learning"}}},{assetTypeId:"13",iconDecoratorClass:"symbol13",localization:{name:{text:"Microservice"}}},{assetTypeId:"14",iconDecoratorClass:"symbol14",localization:{name:{text:"Automation Trigger"}}},{assetTypeId:"15",iconDecoratorClass:"symbol15",localization:{name:{text:"Inbound Stream"}}},{assetTypeId:"16",iconDecoratorClass:"symbol16",localization:{name:{text:"Inventory Add"}}},{assetTypeId:"17",iconDecoratorClass:"symbol17",localization:{name:{text:"Manufacturing Assist"}}},{assetTypeId:"18",iconDecoratorClass:"symbol18",localization:{name:{text:"Operations Checkpoint"}}},{assetTypeId:"19",iconDecoratorClass:"symbol5",localization:{name:{text:"Accounting Flow"}}}]},kyXg:function(e,t,n){"use strict";n.d(t,"a",function(){return l});class l{}},lsXn:function(e,t,n){"use strict";n.d(t,"a",function(){return o});class l{constructor(e){this._manager=e}get facade(){return this._gridsterItem||(this._gridsterItem=this.generateGridsterItemRef(this._layoutItem)),this._gridsterItem}get card(){return this._card}set card(e){this._card=e}get layoutItem(){return this._layoutItem}set layoutItem(e){this._layoutItem=e}get isAssociated(){return this._isCardAssociatedFlag}set isAssociated(e){this._isCardAssociatedFlag=e}generateGridsterItemRef(e){const t={resourceId:e.card.resourceId,accessibilitySequence:0},n=e.layout.position;n&&(t.x=n.x,t.y=n.y);const l=e.layout.dimensions.initial;l&&(t.cols=l.width,t.rows=l.height);const o=e.layout.dimensions.minimum;o&&(t.minItemCols=o.width,t.minItemRows=o.height);const i=e.layout.dimensions.maximum;return i&&(t.maxItemCols=i.width,t.maxItemRows=i.height),t}}class o{constructor(e,t){this.originConfigurationFacade=e,this._input=t,this._materializedModelList=[],this.initialize()}get breakpointRuleModelList(){return this._input.dashboard.container.layoutColumnsBreakpointList}get materializedModelList(){return this._materializedModelList}createModel(e,t){const n=new l(this);return n.layoutItem=e,t&&(n.card=t,n.isAssociated=!0),this.addModel(n),n}removeModel(e){return 1===this._materializedModelList.splice(this._materializedModelList.indexOf(e),1).length}addModel(e){return this._materializedModelList.push(e),!0}findModelByResourceFacade(e){return this.materializedModelList.find(t=>t.card===e)}initialize(){if(this._input.dashboard.container)for(const e of this._input.dashboard.container.layoutItemList){const t=this.originConfigurationFacade.findConfigurationResourceByResourceId("cardsList",e.card.resourceId);this.createModel(e,t)}this.isViewportScalableSizing=this._input.dashboard.view.viewportScalableSizing||!1,this.isViewportPositionRelative=this._input.dashboard.view.viewportPositionRelative||!1}}},mbIT:function(e,t,n){"use strict";t.isArray=Array.isArray||function(e){return e&&"number"==typeof e.length}},n3uD:function(e,t,n){"use strict";var l=!1;t.config={Promise:void 0,set useDeprecatedSynchronousErrorHandling(e){l=e},get useDeprecatedSynchronousErrorHandling(){return l}}},oVuv:function(e,t,n){"use strict";var l=n("Y67E");class o{constructor(e,t,n,l,o){this.resourceToken=e,this.cardAssemblyPlugin=t,this._dashboardComponent=n,this._globalState=l,this._element=o,this.extensionsTemplateMap={},this.templateSubscriptionList=[]}show(e){console.log("show",e)}ngOnInit(){}ngOnDestroy(){this.templateSubscriptionList.filter(e=>!e.closed).forEach(e=>e.unsubscribe())}ngAfterViewInit(){this.prepareTemplateMap(),this.notifyDashboardCard()}prepareTemplateMap(){this.customTemplatesQueryList.forEach((e,t)=>{const n=e.injector.elDef,l=this.customerTemplateInstancesQueryList.toArray()[t];if(l)if(n){for(const o in n.references)if(o){const t=this.deriveTemplateHierarchyMap(e,n,this.extensionsTemplateMap);if(t){t[o]=l;break}console.error("failure: could not trace hierarchy map for",n)}}else console.error("Angular VCR API internals have changed. cannot retrieve references");else console.error("cannot retrieve matched template")})}notifyDashboardCard(){const e=this.extensionsTemplateMap.templates;e?this.cardAssemblyPlugin.onDashboardCardTemplatableLoaded(this,e[this.viewClassification.identifier]):console.error("vendor template not found")}deriveTemplateHierarchyMap(e,t,n){const l=[];let o=t.parent;if(o){do{const e=Object.keys(o.references).shift();l.unshift(e),o=o.parent}while(o);let e,t=n;for(;e=l.shift();){let n;t.hasOwnProperty(e)?n=t[e]:t[e]=n={},t=n}return t}}}var i=n("aGbN");n("ztb3"),n("yPaH"),n("PeX2"),n.d(t,"a",function(){return l.a}),n.d(t,"b",function(){return o}),n.d(t,"c",function(){return i.a})},"oz+Y":function(e,t,n){"use strict";n("TphC");var l=n("cRzo");let o,i;const r=50;let s,a,u,c,d,h,g;function m(e,t,n,l,r,m){o=e.gridster.$options.scrollSensitivity,i=e.gridster.$options.scrollSpeed,s=e.gridster.el,a=r,u=m;const f=e.gridster.descaleInteractionEventCoordinate.bind(e.gridster),S=f(s.offsetWidth),w=f(s.offsetHeight),k=f(s.scrollLeft),T=f(s.scrollTop),P=f(e.el.offsetTop)-T,x=w+T-f(e.el.offsetTop)-e.el.offsetHeight;if(t instanceof MouseEvent)if(n.clientY<t.clientY&&x<o){if(M(),a&&u&&!u.s||g)return;g=p(1,l,n)}else if(n.clientY>t.clientY&&T>0&&P<o){if(O(),a&&u&&!u.n||h)return;h=p(-1,l,n)}else n.clientY!==t.clientY&&y();const _=k+S-f(e.el.offsetLeft)-e.el.offsetWidth,R=f(e.el.offsetLeft)-k;if(t instanceof MouseEvent)if(n.clientX<t.clientX&&_<=o){if(I(),a&&u&&!u.e||c)return;c=b(1,l,n)}else if(n.clientX>t.clientX&&k>0&&R<o){if(v(),a&&u&&!u.w||d)return;d=b(-1,l,n)}else n.clientX!==t.clientX&&C()}function p(e,t,n){let l=n.clientY;return setInterval(()=>{(!s||-1===e&&s.scrollTop-i<0)&&y(),s.scrollTop+=e*i,t({clientX:n.clientX,clientY:l+=e*i})},r)}function b(e,t,n){let l=n.clientX;return setInterval(()=>{(!s||-1===e&&s.scrollLeft-i<0)&&C(),s.scrollLeft+=e*i,t({clientX:l+=e*i,clientY:n.clientY})},r)}function f(){C(),y(),s=void 0}function C(){v(),I()}function y(){M(),O()}function v(){c&&(clearInterval(c),c=0)}function I(){d&&(clearInterval(d),d=0)}function O(){g&&(clearInterval(g),g=0)}function M(){h&&(clearInterval(h),h=0)}var S=n("hDzc"),w=n("595X");n("g2fM"),n("HJaP");class k{constructor(e,t){this.gridsterItem=e,this.gridster=t,this.lastMouse={clientX:0,clientY:0},this.path=[]}destroy(){delete this.gridster.movingItem,this.gridster.previewStyle&&this.gridster.previewStyle(!0),delete this.gridsterItem,delete this.gridster,this.mousedown&&(this.mousedown(),this.touchstart())}dragStart(e){if(e instanceof MouseEvent)switch(e.button){case 0:this.isDragStartTriggerMouseEvent=!0;break;default:return}else e instanceof KeyboardEvent?this.isDragStartTriggerMouseEvent=!1:e instanceof FocusEvent&&(this.isDragStartTriggerMouseEvent=!1);this.gridster.options.draggable&&this.gridster.options.draggable.start&&this.gridster.options.draggable.start(this.gridsterItem.item,this.gridsterItem,e),e.stopPropagation(),e.preventDefault(),this.dragFunction=this.dragMove.bind(this),this.dragStopFunction=this.dragStop.bind(this),this.mousemove=this.gridsterItem.renderer.listen("document","mousemove",this.dragFunction),this.mouseup=this.gridsterItem.renderer.listen("document","mouseup",this.dragStopFunction),this.cancelOnBlur=this.gridsterItem.renderer.listen("window","blur",this.dragStopFunction),this.touchmove=this.gridster.renderer.listen(this.gridster.el,"touchmove",this.dragFunction),this.touchend=this.gridsterItem.renderer.listen("document","touchend",this.dragStopFunction),this.touchcancel=this.gridsterItem.renderer.listen("document","touchcancel",this.dragStopFunction),this.gridsterItem.renderer.addClass(this.gridsterItem.el,"gridster-item-moving"),this.margin=this.gridster.$options.margin,this.offsetLeft=this.gridster.el.scrollLeft-this.gridster.el.offsetLeft,this.offsetTop=this.gridster.el.scrollTop-this.gridster.el.offsetTop,this.left=this.gridster.scaleInteractionEventCoordinate(this.gridsterItem.left),this.top=this.gridster.scaleInteractionEventCoordinate(this.gridsterItem.top),this.width=this.gridster.scaleInteractionEventCoordinate(this.gridsterItem.width),this.height=this.gridster.scaleInteractionEventCoordinate(this.gridsterItem.height),this.diffLeft=(e instanceof MouseEvent?e.clientX:0)+this.offsetLeft-this.margin-this.left,this.diffTop=(e instanceof MouseEvent?e.clientY:0)+this.offsetTop-this.margin-this.top,this.gridster.movingItem=this.gridsterItem.$item,this.gridster.previewStyle(!0),this.push=new S.a(this.gridsterItem),this.swap=new l.a(this.gridsterItem),this.gridster.dragInProgress=!0,this.gridster.gridLines.updateGrid(),this.path.push({x:this.gridsterItem.item.x||0,y:this.gridsterItem.item.y||0})}dragMove(e){(this.isDragStartTriggerMouseEvent&&e instanceof MouseEvent||!this.isDragStartTriggerMouseEvent&&e instanceof KeyboardEvent)&&(e.stopPropagation(),e.preventDefault(),w.a.checkTouchEvent(e),this.offsetLeft=this.gridster.el.scrollLeft-this.gridster.el.offsetLeft,this.offsetTop=this.gridster.el.scrollTop-this.gridster.el.offsetTop,m(this.gridsterItem,e,this.lastMouse,this.calculateItemPositionFromMousePosition.bind(this)),this.calculateItemPositionFromMousePosition(e),e instanceof MouseEvent&&(this.lastMouse.clientX=e.clientX,this.lastMouse.clientY=e.clientY),this.gridster.gridLines.updateGrid())}calculateItemPositionFromMousePosition(e){this.left=e.clientX+this.offsetLeft-this.margin-this.diffLeft,this.top=e.clientY+this.offsetTop-this.margin-this.diffTop,this.calculateItemPosition()}dragStop(e){e.stopPropagation(),e.preventDefault(),f(),this.cancelOnBlur(),this.mousemove(),this.mouseup(),this.touchmove(),this.touchend(),this.touchcancel(),this.gridsterItem.renderer.removeClass(this.gridsterItem.el,"gridster-item-moving"),this.gridster.dragInProgress=!1,this.gridster.gridLines.updateGrid(),this.path=[],this.isDragStartTriggerMouseEvent=!1,this.gridster.options.draggable&&this.gridster.options.draggable.stop?Promise.resolve(this.gridster.options.draggable.stop(this.gridsterItem.item,this.gridsterItem,e)).then(this.makeDrag.bind(this),this.cancelDrag.bind(this)):this.makeDrag(),setTimeout(()=>{this.gridster&&(this.gridster.movingItem=null,this.gridster.previewStyle(!0))})}cancelDrag(){this.gridsterItem.$item.x=this.gridsterItem.item.x||0,this.gridsterItem.$item.y=this.gridsterItem.item.y||0,this.gridsterItem.setSize(!0),this.push.restoreItems(),this.swap.restoreSwapItem(),this.push.destroy(),delete this.push,this.swap.destroy(),delete this.swap}makeDrag(){this.gridsterItem.checkItemChanges(this.gridsterItem.$item,this.gridsterItem.item),this.gridsterItem.setSize(!0),this.push&&(this.push.setPushedItems(),this.swap.setSwapItem(),this.push.destroy(),delete this.push,this.swap.destroy(),delete this.swap)}calculateItemPosition(){if(this.positionX=this.gridster.pixelsToPositionX(this.left,Math.round),this.positionY=this.gridster.pixelsToPositionY(this.top,Math.round),this.positionXBackup=this.gridsterItem.$item.x,this.positionYBackup=this.gridsterItem.$item.y,this.gridsterItem.$item.x=this.positionX,this.gridster.checkGridCollision(this.gridsterItem.$item)?this.gridsterItem.$item.x=this.positionXBackup:this.gridsterItem.setLayoutLeft(this.left),this.gridsterItem.$item.y=this.positionY,this.gridster.checkGridCollision(this.gridsterItem.$item)?this.gridsterItem.$item.y=this.positionYBackup:this.gridsterItem.setLayoutTop(this.top),this.positionXBackup!==this.gridsterItem.$item.x||this.positionYBackup!==this.gridsterItem.$item.y){const e=this.path[this.path.length-1];let t="";e.x<this.gridsterItem.$item.x?t=this.push.fromWest:e.x>this.gridsterItem.$item.x?t=this.push.fromEast:e.y<this.gridsterItem.$item.y?t=this.push.fromNorth:e.y>this.gridsterItem.$item.y&&(t=this.push.fromSouth),this.push.pushItems(t,this.gridster.$options.disablePushOnDrag),this.swap.swapItems(),this.gridster.checkCollision(this.gridsterItem.$item)?(this.gridsterItem.$item.x=this.positionXBackup,this.gridsterItem.$item.y=this.positionYBackup):(this.path.push({x:this.gridsterItem.$item.x,y:this.gridsterItem.$item.y}),this.gridster.previewStyle(!0)),this.push.checkPushBack()}}toggle(){const e=this.gridsterItem.canBeDragged();!this.enabled&&e?(this.enabled=!this.enabled,this.dragStartFunction=this.dragStartDelay.bind(this),this.mousedown=this.gridsterItem.renderer.listen(this.gridsterItem.el,"mousedown",this.dragStartFunction),this.touchstart=this.gridsterItem.renderer.listen(this.gridsterItem.el,"touchstart",this.dragStartFunction)):this.enabled&&!e&&(this.enabled=!this.enabled,this.mousedown(),this.touchstart())}dragStartDelay(e){if(e.target.hasAttribute("class")&&e.target.getAttribute("class").split(" ").indexOf("gridster-item-resizable-handler")>-1)return;if(w.a.checkContentClassForEvent(this.gridster,e))return;if(w.a.checkTouchEvent(e),!this.gridster.$options.draggable.delayStart)return void this.dragStart(e);const t=setTimeout(()=>{this.dragStart(e),s()},this.gridster.$options.draggable.delayStart),n=this.gridsterItem.renderer.listen("document","mouseup",s),l=this.gridsterItem.renderer.listen("window","blur",s),o=this.gridsterItem.renderer.listen("document","touchmove",function(t){w.a.checkTouchEvent(t),(Math.abs(t.clientX-e.clientX)>9||Math.abs(t.clientY-e.clientY)>9)&&s()}),i=this.gridsterItem.renderer.listen("document","touchend",s),r=this.gridsterItem.renderer.listen("document","touchcancel",s);function s(){clearTimeout(t),l(),n(),o(),i(),r()}}}var T=n("bd41");class P{constructor(e,t){this.gridsterItem=e,this.gridster=t,this.lastMouse={clientX:0,clientY:0},this.itemBackup=[0,0,0,0],this.resizeEventScrollType={w:!1,e:!1,n:!1,s:!1}}destroy(){delete this.gridster.movingItem,this.gridster.previewStyle&&this.gridster.previewStyle(),delete this.gridsterItem,delete this.gridster}dragStart(e){const t=this.gridster.descaleInteractionEventCoordinate.bind(this.gridster);if(e instanceof MouseEvent)switch(e.button){case 0:this.isResizeStartTriggerMouseEvent=!0;break;default:return}else e instanceof KeyboardEvent?this.isResizeStartTriggerMouseEvent=!1:e instanceof FocusEvent&&(this.isResizeStartTriggerMouseEvent=!1);this.gridster.options.resizable&&this.gridster.options.resizable.start&&this.gridster.options.resizable.start(this.gridsterItem.item,this.gridsterItem,e),e.stopPropagation(),e.preventDefault(),this.dragFunction=this.dragMove.bind(this),this.dragStopFunction=this.dragStop.bind(this),this.mousemove=this.gridsterItem.renderer.listen("document","mousemove",this.dragFunction),this.mouseup=this.gridsterItem.renderer.listen("document","mouseup",this.dragStopFunction),this.cancelOnBlur=this.gridsterItem.renderer.listen("window","blur",this.dragStopFunction),this.touchmove=this.gridster.renderer.listen(this.gridster.el,"touchmove",this.dragFunction),this.touchend=this.gridsterItem.renderer.listen("document","touchend",this.dragStopFunction),this.touchcancel=this.gridsterItem.renderer.listen("document","touchcancel",this.dragStopFunction),this.gridsterItem.renderer.addClass(this.gridsterItem.el,"gridster-item-resizing"),this.lastMouse.clientX=t(e.clientX),this.lastMouse.clientY=t(e.clientY),this.left=this.gridsterItem.left,this.top=this.gridsterItem.top,this.width=this.gridsterItem.width,this.height=this.gridsterItem.height,this.bottom=this.gridsterItem.top+this.gridsterItem.height,this.right=this.gridsterItem.left+this.gridsterItem.width,this.margin=this.gridster.$options.margin,this.offsetLeft=this.gridster.el.scrollLeft-this.gridster.el.offsetLeft,this.offsetTop=this.gridster.el.scrollTop-this.gridster.el.offsetTop,this.diffLeft=t(e.clientX)+this.offsetLeft-this.margin-this.left,this.diffRight=t(e.clientX)+this.offsetLeft-this.margin-this.right,this.diffTop=t(e.clientY)+this.offsetTop-this.margin-this.top,this.diffBottom=t(e.clientY)+this.offsetTop-this.margin-this.bottom,this.minHeight=this.gridster.positionYToPixels(this.gridsterItem.$item.minItemRows||this.gridster.$options.minItemRows)-this.margin,this.minWidth=this.gridster.positionXToPixels(this.gridsterItem.$item.minItemCols||this.gridster.$options.minItemCols)-this.margin,this.gridster.movingItem=this.gridsterItem.$item,this.gridster.previewStyle(),this.push=new S.a(this.gridsterItem),this.pushResize=new T.a(this.gridsterItem),this.gridster.dragInProgress=!0,this.gridster.gridLines.updateGrid(),[[["n"],["ArrowUp"],this.handleN],[["w"],["ArrowLeft"],this.handleW],[["s"],["ArrowDown"],this.handleS],[["e"],["ArrowRight"],this.handleE],[["n","w"],null,this.handleNW],[["n","e"],null,this.handleNE],[["s","w"],null,this.handleSW],[["s","e"],null,this.handleSE]].forEach(t=>this.defineDirectionTarget(t[0],t[1],t[2],e))}dragMove(e){e.stopPropagation(),e.preventDefault(),w.a.checkTouchEvent(e),this.offsetTop=this.gridster.el.scrollTop-this.gridster.el.offsetTop,this.offsetLeft=this.gridster.el.scrollLeft-this.gridster.el.offsetLeft,m(this.gridsterItem,e,this.lastMouse,this.directionFunction,!0,this.resizeEventScrollType),this.directionFunction(e),this.lastMouse.clientX=this.gridster.descaleInteractionEventCoordinate(e.clientX),this.lastMouse.clientY=this.gridster.descaleInteractionEventCoordinate(e.clientY),this.gridster.gridLines.updateGrid()}dragStop(e){e.stopPropagation(),e.preventDefault(),f(),this.mousemove(),this.mouseup(),this.cancelOnBlur(),this.touchmove(),this.touchend(),this.touchcancel(),this.gridsterItem.renderer.removeClass(this.gridsterItem.el,"gridster-item-resizing"),this.gridster.dragInProgress=!1,this.gridster.gridLines.updateGrid(),this.gridster.options.resizable&&this.gridster.options.resizable.stop?Promise.resolve(this.gridster.options.resizable.stop(this.gridsterItem.item,this.gridsterItem,e)).then(this.makeResize.bind(this),this.cancelResize.bind(this)):this.makeResize(),setTimeout(()=>{this.gridster&&(this.gridster.movingItem=null,this.gridster.previewStyle())})}cancelResize(){this.gridsterItem.$item.cols=this.gridsterItem.item.cols||1,this.gridsterItem.$item.rows=this.gridsterItem.item.rows||1,this.gridsterItem.$item.x=this.gridsterItem.item.x||0,this.gridsterItem.$item.y=this.gridsterItem.item.y||0,this.gridsterItem.setSize(!0),this.push.restoreItems(),this.pushResize.restoreItems(),this.push.destroy(),delete this.push,this.pushResize.destroy(),delete this.pushResize}makeResize(){this.gridsterItem.checkItemChanges(this.gridsterItem.$item,this.gridsterItem.item),this.gridsterItem.setSize(!0),this.push.setPushedItems(),this.pushResize.setPushedItems(),this.push.destroy(),delete this.push,this.pushResize.destroy(),delete this.pushResize}handleN(e){if(this.top=this.gridster.descaleInteractionEventCoordinate(e.clientY)+this.offsetTop-this.margin-this.diffTop,this.height=this.bottom-this.top,this.minHeight>this.height&&(this.height=this.minHeight,this.top=this.bottom-this.minHeight),this.newPosition=this.gridster.pixelsToPositionY(this.gridster.scaleInteractionEventCoordinate(this.top),Math.floor),this.gridsterItem.$item.y!==this.newPosition){if(this.itemBackup[1]=this.gridsterItem.$item.y,this.itemBackup[3]=this.gridsterItem.$item.rows,this.gridsterItem.$item.rows+=this.gridsterItem.$item.y-this.newPosition,this.gridsterItem.$item.y=this.newPosition,this.pushResize.pushItems(this.pushResize.fromSouth),this.push.pushItems(this.push.fromSouth,this.gridster.$options.disablePushOnResize),this.gridster.checkCollision(this.gridsterItem.$item))return this.gridsterItem.$item.y=this.itemBackup[1],this.gridsterItem.$item.rows=this.itemBackup[3],this.gridsterItem.setLayoutTop(this.gridster.scaleInteractionEventCoordinate(this.gridster.positionYToPixels(this.gridsterItem.$item.y))),void this.gridsterItem.setLayoutHeight(this.gridster.positionYToPixels(this.gridsterItem.$item.rows)-this.gridster.$options.margin);this.gridster.previewStyle(),this.pushResize.checkPushBack(),this.push.checkPushBack()}this.gridsterItem.setLayoutTop(this.gridster.scaleInteractionEventCoordinate(this.top)),this.gridsterItem.setLayoutHeight(this.height)}handleW(e){if(this.left=this.gridster.descaleInteractionEventCoordinate(e.clientX)+this.offsetLeft-this.margin-this.diffLeft,this.width=this.right-this.left,this.minWidth>this.width&&(this.width=this.minWidth,this.left=this.right-this.minWidth),this.newPosition=this.gridster.pixelsToPositionX(this.gridster.scaleInteractionEventCoordinate(this.left),Math.floor),this.gridsterItem.$item.x!==this.newPosition){if(this.itemBackup[0]=this.gridsterItem.$item.x,this.itemBackup[2]=this.gridsterItem.$item.cols,this.gridsterItem.$item.cols+=this.gridsterItem.$item.x-this.newPosition,this.gridsterItem.$item.x=this.newPosition,this.pushResize.pushItems(this.pushResize.fromEast),this.push.pushItems(this.push.fromEast,this.gridster.$options.disablePushOnResize),this.gridster.checkCollision(this.gridsterItem.$item))return this.gridsterItem.$item.x=this.itemBackup[0],this.gridsterItem.$item.cols=this.itemBackup[2],this.gridsterItem.setLayoutLeft(this.gridster.scaleInteractionEventCoordinate(this.gridster.positionXToPixels(this.gridsterItem.$item.x))),void this.gridsterItem.setLayoutWidth(this.gridster.positionXToPixels(this.gridsterItem.$item.cols)-this.gridster.$options.margin);this.gridster.previewStyle(),this.pushResize.checkPushBack(),this.push.checkPushBack()}this.gridsterItem.setLayoutLeft(this.gridster.scaleInteractionEventCoordinate(this.left)),this.gridsterItem.setLayoutWidth(this.width)}handleS(e){if(this.height=this.gridster.descaleInteractionEventCoordinate(e.clientY)+this.offsetTop-this.margin-this.diffBottom-this.top,this.minHeight>this.height&&(this.height=this.minHeight),this.bottom=this.top+this.height,this.newPosition=this.gridster.pixelsToPositionY(this.gridster.scaleInteractionEventCoordinate(this.bottom),Math.ceil),this.gridsterItem.$item.y+this.gridsterItem.$item.rows!==this.newPosition){if(this.itemBackup[3]=this.gridsterItem.$item.rows,this.gridsterItem.$item.rows=this.newPosition-this.gridsterItem.$item.y,this.pushResize.pushItems(this.pushResize.fromNorth),this.push.pushItems(this.push.fromNorth,this.gridster.$options.disablePushOnResize),this.gridster.checkCollision(this.gridsterItem.$item))return this.gridsterItem.$item.rows=this.itemBackup[3],void this.gridsterItem.setLayoutHeight(this.gridster.positionYToPixels(this.gridsterItem.$item.rows)-this.gridster.$options.margin);this.gridster.previewStyle(),this.pushResize.checkPushBack(),this.push.checkPushBack()}this.gridsterItem.setLayoutHeight(this.height)}handleE(e){if(this.width=this.gridster.descaleInteractionEventCoordinate(e.clientX)+this.offsetLeft-this.margin-this.diffRight-this.left,this.minWidth>this.width&&(this.width=this.minWidth),this.right=this.left+this.width,this.newPosition=this.gridster.pixelsToPositionX(this.gridster.scaleInteractionEventCoordinate(this.right),Math.ceil),this.gridsterItem.$item.x+this.gridsterItem.$item.cols!==this.newPosition){if(this.itemBackup[2]=this.gridsterItem.$item.cols,this.gridsterItem.$item.cols=this.newPosition-this.gridsterItem.$item.x,this.pushResize.pushItems(this.pushResize.fromWest),this.push.pushItems(this.push.fromWest,this.gridster.$options.disablePushOnResize),this.gridster.checkCollision(this.gridsterItem.$item))return this.gridsterItem.$item.cols=this.itemBackup[2],void this.gridsterItem.setLayoutWidth(this.gridster.positionXToPixels(this.gridsterItem.$item.cols)-this.gridster.$options.margin);this.gridster.previewStyle(),this.pushResize.checkPushBack(),this.push.checkPushBack()}this.gridsterItem.setLayoutWidth(this.width)}handleNW(e){this.handleN(e),this.handleW(e)}handleNE(e){this.handleN(e),this.handleE(e)}handleSW(e){this.handleS(e),this.handleW(e)}handleSE(e){this.handleS(e),this.handleE(e)}toggle(){this.resizeEnabled=this.gridsterItem.canBeResized()}dragStartDelay(e){if(w.a.checkTouchEvent(e),!this.gridster.$options.resizable.delayStart)return void this.dragStart(e);const t=setTimeout(()=>{this.dragStart(e),s()},this.gridster.$options.resizable.delayStart),n=this.gridsterItem.renderer.listen("document","mouseup",s),l=this.gridsterItem.renderer.listen("window","blur",s),o=this.gridsterItem.renderer.listen("document","touchmove",function(t){w.a.checkTouchEvent(t),(Math.abs(t.clientX-e.clientX)>9||Math.abs(t.clientY-e.clientY)>9)&&s()}),i=this.gridsterItem.renderer.listen("document","touchend",s),r=this.gridsterItem.renderer.listen("document","touchcancel",s);function s(){clearTimeout(t),l(),n(),o(),i(),r()}}defineDirectionTarget(e,t,n,l){if(l instanceof MouseEvent){const t=["handle",e.join("")].join("-");l.target.classList.contains(t)&&(e.forEach(e=>this.resizeEventScrollType[e]=!0),this.directionFunction=n.bind(this))}else l instanceof KeyboardEvent&&Array.isArray(t)&&l.key===t[0]&&(this.directionFunction=n.bind(this))}}n.d(t,"a",function(){return x});class x{constructor(e,t,n){this.renderer=n,this.el=e.nativeElement,this.$item={cols:-1,rows:-1,x:-1,y:-1},this.gridster=t,this.drag=new k(this,t),this.resize=new P(this,t)}ngOnInit(){this.updateOptions(),this.gridster.addItem(this),this.gridster.applyZoomLayout(this.el)}updateOptions(){this.$item=w.a.merge(this.$item,this.item,{cols:void 0,rows:void 0,x:void 0,y:void 0,dragEnabled:void 0,resizeEnabled:void 0,compactEnabled:void 0,maxItemRows:void 0,minItemRows:void 0,maxItemCols:void 0,minItemCols:void 0,maxItemArea:void 0,minItemArea:void 0})}ngOnDestroy(){this.gridster.removeItem(this),delete this.gridster,this.drag.destroy(),delete this.drag,this.resize.destroy(),delete this.resize}setSize(e){this.gridster.mobile?(this.top=0,this.left=0,this.width=this.gridster.$options.keepFixedWidthInMobile?this.$item.cols*this.gridster.$options.fixedColWidth:this.gridster.curWidth-(this.gridster.$options.outerMargin?2*this.gridster.$options.margin:0),this.height=this.gridster.$options.keepFixedHeightInMobile?this.$item.rows*this.gridster.$options.fixedRowHeight:this.width/2):(this.top=this.$item.y*this.gridster.curRowHeight,this.left=this.$item.x*this.gridster.curColWidth,this.width=this.$item.cols*this.gridster.curColWidth-this.gridster.$options.margin,this.height=this.$item.rows*this.gridster.curRowHeight-this.gridster.$options.margin),(e||this.top!==this.itemTop||this.left!==this.itemLeft||this.width!==this.itemWidth||this.height!==this.itemHeight)&&(this.gridster.$options.outerMargin?(this.itemMargin=null!==this.gridster.$options.outerMarginTop?this.gridster.$options.outerMarginTop+"px ":this.gridster.$options.margin+"px ",this.itemMargin+=null!==this.gridster.$options.outerMarginRight?this.gridster.$options.outerMarginRight+"px ":this.gridster.$options.margin+"px ",this.itemMargin+=null!==this.gridster.$options.outerMarginBottom?this.gridster.$options.outerMarginBottom+"px ":this.gridster.$options.margin+"px ",this.itemMargin+=null!==this.gridster.$options.outerMarginLeft?this.gridster.$options.outerMarginLeft+"px":this.gridster.$options.margin+"px"):this.itemMargin="0px",this.renderer.setStyle(this.el,"display",this.notPlaced?"none":"block"),this.renderer.setStyle(this.el,"top",this.gridster.scaleInteractionEventCoordinate(this.top)+"px"),this.renderer.setStyle(this.el,"left",this.gridster.scaleInteractionEventCoordinate(this.left)+"px"),this.renderer.setStyle(this.el,"width",this.width+"px"),this.renderer.setStyle(this.el,"height",this.height+"px"),this.renderer.setStyle(this.el,"margin",this.itemMargin),!this.init&&this.width>0&&this.height>0&&(this.init=!0,this.item.initCallback&&this.item.initCallback(this.item,this),this.gridster.options.itemInitCallback&&this.gridster.options.itemInitCallback(this.item,this),this.gridster.$options.scrollToNewItems&&this.el.scrollIntoView(!1)),this.width===this.itemWidth&&this.height===this.itemHeight||this.gridster.options.itemResizeCallback&&this.gridster.options.itemResizeCallback(this.item,this),this.itemTop=this.top,this.itemLeft=this.left,this.itemWidth=this.width,this.itemHeight=this.height)}itemChanged(){this.gridster.options.itemChangeCallback&&this.gridster.options.itemChangeCallback(this.item,this)}checkItemChanges(e,t){e.rows===t.rows&&e.cols===t.cols&&e.x===t.x&&e.y===t.y||(this.gridster.checkCollision(this.$item)?(this.$item.x=t.x||0,this.$item.y=t.y||0,this.$item.cols=t.cols||1,this.$item.rows=t.rows||1):(this.item.cols=this.$item.cols,this.item.rows=this.$item.rows,this.item.x=this.$item.x,this.item.y=this.$item.y,this.gridster.calculateLayout(),this.itemChanged()))}canBeDragged(){return!this.gridster.mobile&&(void 0===this.$item.dragEnabled?this.gridster.$options.draggable.enabled:this.$item.dragEnabled)}canBeResized(){return!this.gridster.mobile&&(void 0===this.$item.resizeEnabled?this.gridster.$options.resizable.enabled:this.$item.resizeEnabled)}setLayoutTop(e){this.layoutElementDimensionPixel("top",e)}setLayoutHeight(e){this.layoutElementDimensionPixel("height",e)}setLayoutLeft(e){this.layoutElementDimensionPixel("left",e)}setLayoutWidth(e){this.layoutElementDimensionPixel("width",e)}layoutElementDimensionPixel(e,t){this.renderer.setStyle(this.el,e,t+"px")}}},"p//D":function(e,t,n){"use strict";t.rxSubscriber="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random(),t.$$rxSubscriber=t.rxSubscriber},pshJ:function(e,t,n){"use strict";t.isFunction=function(e){return"function"==typeof e}},q3Kh:function(e,t,n){var l=n("mrSG").__extends,o=n("FWf1");t.map=function(e,t){return function(n){if("function"!=typeof e)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new i(e,t))}};var i=function(){function e(e,t){this.project=e,this.thisArg=t}return e.prototype.call=function(e,t){return t.subscribe(new r(e,this.project,this.thisArg))},e}();t.MapOperator=i;var r=function(e){function t(t,n,l){var o=e.call(this,t)||this;return o.project=n,o.count=0,o.thisArg=l||o,o}return l(t,e),t.prototype._next=function(e){var t;try{t=this.project.call(this.thisArg,e,this.count++)}catch(n){return void this.destination.error(n)}this.destination.next(t)},t}(o.Subscriber)},q7YW:function(e,t,n){"use strict";var l=n("Q1FS"),o=n("mbIT"),i=n("pshJ"),r=n("q3Kh");t.fromEvent=function e(t,n,s,a){return i.isFunction(s)&&(a=s,s=void 0),a?e(t,n,s).pipe(r.map(function(e){return o.isArray(e)?a.apply(void 0,e):a(e)})):new l.Observable(function(e){!function e(t,n,l,o,i){var r;if(function(e){return e&&"function"==typeof e.addEventListener&&"function"==typeof e.removeEventListener}(t)){var s=t;t.addEventListener(n,l,i),r=function(){return s.removeEventListener(n,l,i)}}else if(function(e){return e&&"function"==typeof e.on&&"function"==typeof e.off}(t)){var a=t;t.on(n,l),r=function(){return a.off(n,l)}}else if(function(e){return e&&"function"==typeof e.addListener&&"function"==typeof e.removeListener}(t)){var u=t;t.addListener(n,l),r=function(){return u.removeListener(n,l)}}else{if(!t||!t.length)throw new TypeError("Invalid event target");for(var c=0,d=t.length;c<d;c++)e(t[c],n,l,o,i)}o.add(r)}(t,n,function(t){e.next(arguments.length>1?Array.prototype.slice.call(arguments):t)},e,s)})}},rGP6:function(e,t,n){"use strict";n.d(t,"a",function(){return l});class l{get isViewportScalableSizing(){return this.assemblyState.isViewportScalableSizing}get isViewportPositionRelative(){return this.assemblyState.isViewportPositionRelative}get cardAssemblyPluginList(){return this.cardOutletList.map(e=>e.cardAssemblyPlugin)}}},rdDZ:function(e,t,n){"use strict";n("TphC"),n("oz+Y"),n("g2fM"),n("HJaP"),n("h/oP"),n("kyXg"),n("hDzc"),n("bd41"),n("cRzo")},t6Ba:function(e,t,n){"use strict";n.d(t,"a",function(){return o}),n.d(t,"b",function(){return i});var l=n("62Do");class o extends l.a{constructor(e,t){super(e,t),this.platformCommunicatorService=e,this.directoryService=t,this.resources.cardsList=[]}}class i extends l.c{}},uX0Z:function(e){e.exports={project:{item:{id:"generic-nodeflow-project-1",label:"Nodeflow Concepts 1",interaction:{selected:!1}}},schematic:{card:{components:[{id:"card-asset-node",label:"Nodeflow generic form/message",interaction:{selected:!0}}],messages:[{topic:"capacity",form:{component:"capacityForm"},state:{classifier:"capacityMessage",data:{budget:null,location:null,staff:null,policyStartDate:null}}},{topic:"color",form:{component:"chromaForm"},state:{classifier:"chromaMessage",data:{red:null,green:null,blue:null}}},{topic:"customer",form:{component:"customerForm"},state:{classifier:"customerMessage",data:{customerNumber:"1234",customerCity:"San Jose"}}},{topic:"funding",form:{component:"fundingForm"},state:{classifier:"fundingMessage",data:{fiscalYearBudget:null,fundingOrganizer:null,fundingStakeholder:"CFO",recurringRenewal:!0}}},{topic:"name",form:{component:"leadershipForm"},state:{classifier:"leadershipMessage",data:{firstName:null,lastName:null,position:null}}},{topic:"team",form:{component:"teamGroupForm"},state:{classifier:"teamMessage",data:{developers:null,scientists:null,managers:null}}},{topic:"temperature",form:{component:"temperatureForm"},state:{classifier:"thermalMonitoringMessage",data:{peakTemp:null,minimumTemp:null,ambientTemp:null}}}],assetTypes:[{id:"4",label:"Some Icon X",interaction:{selected:!0}},{id:"6",label:"Some Icon Y",interaction:{selected:!1}},{id:"9",label:"Some Icon Z",interaction:{selected:!1}}]},templates:[{id:"nodeflow-standard-template",label:"Nodeflow Asset Component Asset Component Default",data:{body:{organization:"nodeflow_sample",template:"nodePresentation"}},interaction:{selected:!0}}]}}},"v/Zx":function(e,t,n){"use strict";n.d(t,"a",function(){return o});var l=n("LRne");n("QwtG"),n("eH2f"),n("OEEO");class o{constructor(e,t,n,l){this.resourceToken=e,this._dashboardComponent=t,this._state=n,this._service=l,this.positionBasedTemplateMap={}}ngAfterViewInit(){}ngAfterContentInit(){}ngOnInit(){this.initialDataModelResponse$=this._service.streamInitialDataModel(this.resourceToken.card,this._dashboardComponent),this.initialDataModelResponse$.subscribe(e=>{})}prepareDataStream(){return Object(l.a)(null)}onDashboardCardTemplatableLoaded(e,t){}}},"vDj+":function(e,t,n){"use strict";n.d(t,"a",function(){return r});var l=n("lJxs"),o=n("w1tV"),i=(n("oVuv"),n("xP/X"));class r extends i.a{constructor(e,t,n,l){super(l),this.staticConfigurationList=e,this._templateTransporter=t,this.compResolver=n,this._injector=l,super.initialize()}streamInitialDataModel(e,t){const n=e.resolver.injectorInstance.state().findConfigurationResourceByType("modulesList","service");return this._templateTransporter.awaitingResourceStream(n).pipe(Object(l.a)(e=>({response:{entity:n.resolver.getSnapshotData()}})),Object(o.a)())}}},vLqr:function(e,t,n){"use strict";var l=n("Q1FS");function o(e){e.subscriber.error(e.error)}t.throwError=function(e,t){return new l.Observable(t?function(n){return t.schedule(o,0,{error:e,subscriber:n})}:function(t){return t.error(e)})}},w5QO:function(e,t,n){"use strict";t.noop=function(){}},w68P:function(e,t,n){"use strict";n.d(t,"a",function(){return o});var l=n("2Vo4");class o{constructor(){this.cardMovingSubject$=new l.a(!1),this.cardBodyFocusSubject$=new l.a(!1),this.cardResizingSubject$=new l.a(!1),this.cardActivatedSubject$=new l.a(!1),this.cardHasFocus=!1,this.cardFocusedByMouse=!1}onCardMovingChange$(){return this.cardMovingSubject$.asObservable()}onCardActivatedChange$(){return this.cardActivatedSubject$.asObservable()}onCardBodyFocusChange$(){return this.cardBodyFocusSubject$.asObservable()}setGridItemController(e){this.gridItemController=e}setTargetElementRef(e){this.cardElement=e}setTransitionDuration(e){this.transitionDuration=e}onCardMouseDown(e){this.cardFocusedByMouse=!0}onCardAspectFocus(e,t,n,l,o,i){if(o.find(e=>e.nativeElement===i.target))t.nativeElement.firstElementChild.focus();else switch(i.target){case e.nativeElement:this.cardHasFocus=!0,this.cardFocusedByMouse||this.centerCard(),this.cardFocusedByMouse=!1}}forceBlur(e){this.cardBodyFocusSubject$.next(!1),this.cardActivatedSubject$.next(!1),this.cardFocusedByMouse=!1,this.cardHasFocus=!1}onCardAspectBlur(e,t,n,l,o,i){switch(i.target){case e.nativeElement:this.cardHasFocus&&!this.cardBodyFocusSubject$.getValue()&&this.forceBlur(i)}}onCardKeypressActivate(e){this.cardHasFocus&&(this.cardMovingSubject$.getValue()?(this.commitCardPosition(e),this.cardMovingSubject$.next(!1),this.cardActivatedSubject$.next(!1)):this.cardActivatedSubject$.next(!0))}onCardMoveLeft(e){this.moveCardRelative(-1,0,e)}onCardMoveRight(e){this.moveCardRelative(1,0,e)}onCardMoveUp(e){this.moveCardRelative(0,-1,e)}onCardMoveDown(e){this.moveCardRelative(0,1,e)}onCardTransactionCancel(e,t,n,l){this.onCardMoveCancel(l),this.cardBodyFocusSubject$.getValue()&&this.onActivatedCardNavigateCancel(e,t,n,l)}onCardResizeLeft(e){this.assignResizingClass("left"),this.resizeCardRelative(-1,0,e)}onCardResizeRight(e){this.assignResizingClass("right"),this.resizeCardRelative(1,0,e)}onCardResizeUp(e){this.assignResizingClass("top"),this.resizeCardRelative(0,-1,e)}onCardResizeDown(e){this.assignResizingClass("bottom"),this.resizeCardRelative(0,1,e)}onActivatedCardNavigateBackward(e,t,n,l,o){l.activated.move?this.jumpCardBackward(o):this.toggleCardBodyFocus(e,t,n,o)}onActivatedCardNavigateForward(e,t,n,l,o){l.activated.move?this.jumpCardForward(o):this.toggleCardBodyFocus(e,t,n,o)}onCardMoveCancel(e){this.cancelCardPosition(e)}jumpCardForward(e){const t=this.gridItemController.gridster,n=Object.assign({},this.gridItemController.$item);t.getNextPossiblePosition(n,{rows:n.rows,cols:n.cols})&&(this.moveCardRelative(n.x-this.gridItemController.$item.x,n.y-this.gridItemController.$item.y,e),this.cardMovingSubject$.getValue()||(this.cardMovingSubject$.next(!0),this.gridItemController.drag.dragStart(e)))}jumpCardBackward(e){const t=this.gridItemController.gridster;this.cardMovingSubject$.getValue()||(this.cardMovingSubject$.next(!0),this.gridItemController.drag.dragStart(e)),this.moveCardRelative(-t.movingItem.cols,0,e)}toggleCardBodyFocus(e,t,n,l){const o=t.nativeElement.firstElementChild;this.cardBodyFocusSubject$.getValue()?(o.tabIndex=-1,e.nativeElement.focus()):(o.tabIndex=0,o.focus()),this.cardBodyFocusSubject$.next(!this.cardBodyFocusSubject$.getValue())}onActivatedCardNavigateCancel(e,t,n,l){this.cardBodyFocusSubject$.next(!1),t.nativeElement.tabIndex=-1,t.nativeElement.blur(),this.forceBlur(l)}moveCardRelative(e,t,n){const l=this.gridItemController.gridster,o=(e,t,n,o)=>l.scaleInteractionEventCoordinate(((e,t,n)=>Math.min(Math.max(e,t),n))(t,l.descaleInteractionEventCoordinate(e)+n,o));if(this.cardActivatedSubject$.getValue()&&this.gridItemController.drag.enabled){n instanceof KeyboardEvent&&!this.cardMovingSubject$.getValue()&&(this.cardMovingSubject$.next(!0),this.gridItemController.drag.dragStart(n));const i=l.$options.maxRows>=l.rows+l.movingItem.rows,r=l.$options.maxCols>=l.columns+l.movingItem.cols,s=l.rows<=l.columns&&i;e&&(this.gridItemController.drag.left=o(this.gridItemController.drag.left,0,e*l.curColWidth,(l.columns+(r&&!s?l.movingItem.cols:0))*l.curColWidth-l.movingItem.cols*l.curColWidth)),t&&(this.gridItemController.drag.top=o(this.gridItemController.drag.top,0,t*l.curRowHeight,(l.rows+(i?l.movingItem.rows:0))*l.curRowHeight-l.movingItem.rows*l.curRowHeight)),this.gridItemController.drag.path.push({x:this.gridItemController.item.x||0,y:this.gridItemController.item.y||0}),this.gridItemController.drag.calculateItemPosition(),this.refreshCardPositionEvent(n)}}commitCardPosition(e){this.cardMovingSubject$.next(!1),this.gridItemController.drag.dragStop(e),this.gridItemController.gridster.calculateLayoutDebounce(),this.gridItemController.gridster.calculateLayout(),this.refreshCardPositionEvent(e)}cancelCardPosition(e){this.cardActivatedSubject$.getValue()&&this.cardMovingSubject$.getValue()&&(this.cardMovingSubject$.next(!1),this.cardActivatedSubject$.next(!1),this.gridItemController.drag.dragStop(new ErrorEvent("cancel drag")),this.refreshCardPositionEvent(e),e.preventDefault(),e.stopPropagation())}resizeCardRelative(e,t,n){const l=this.gridItemController.gridster,o=(e,t,n,o)=>l.scaleInteractionEventCoordinate(((e,t,n)=>Math.min(Math.max(e,t),n))(t,l.descaleInteractionEventCoordinate(e)+n,o));if(this.cardActivatedSubject$.getValue()&&this.gridItemController.resize.resizeEnabled){n instanceof KeyboardEvent&&!this.cardResizingSubject$.getValue()&&(this.cardResizingSubject$.next(!0),this.gridItemController.resize.dragStart(n));const i=l.$options.maxRows>=l.rows+l.movingItem.rows,r=l.$options.maxCols>=l.columns+l.movingItem.cols,s=l.rows<=l.columns&&i;e&&(this.gridItemController.resize.left=o(this.gridItemController.resize.left,0,e*l.curColWidth,(l.columns+(r&&!s?l.movingItem.cols:0))*l.curColWidth-l.movingItem.cols*l.curColWidth)),t&&(this.gridItemController.resize.top=o(this.gridItemController.resize.top,0,t*l.curRowHeight,(l.rows+(i?l.movingItem.rows:0))*l.curRowHeight-l.movingItem.rows*l.curRowHeight)),this.gridItemController.resize.dragFunction(n),this.refreshCardPositionEvent(n)}}centerCard(){this.cardElement.nativeElement.scrollIntoView({inline:"start",block:"nearest",behavior:"smooth"})}refreshCardPositionEvent(e){setTimeout(()=>this.centerCard(),this.transitionDuration),e.preventDefault()}assignResizingClass(e){const t=this.cardElement.nativeElement;["top","bottom","left","right"].forEach(e=>{t.classList.remove(["handle",e].join("-"))}),t.classList.add(["handle",e].join("-")),t.classList.add("cardResizing")}}},"xP/X":function(e,t,n){"use strict";n.d(t,"a",function(){return r});var l=n("LRne"),o=n("oVuv"),i=n("UrxE");class r extends o.a{streamInitialDataModel(e,t){return Object(l.a)({})}initialize(){this.internalOrganizersList=[i.c.internal];const e=e=>this.internalOrganizersList.indexOf(e.organizerPackage)>=0;this.staticConfigurationList.filter(t=>!e(t)).forEach(e=>this.templatableClassesListMap.set(e.identifier,e.resolveTemplatableClassesList))}}},yPaH:function(e,t,n){"use strict";n.d(t,"d",function(){return i}),n.d(t,"b",function(){return r}),n.d(t,"a",function(){return s}),n.d(t,"c",function(){return a}),n("QwtG");var l=n("HhbV");const o=["directoryService","resources","platformCommunicatorService"],i=(()=>{class e{constructor(e,t){this._resourceToken=e,this.globalState=t,this.translate={},this.initialize()}get languageCode(){return this._basicLanguageCode}initialize(){this.translate.card=this.selectCardTranslationMap(),this._basicLanguageCode=this.globalState.userLocale.language.split("_")[0].toLowerCase()}selectApplicationTranslationMap(){}selectCardTranslationMap(){const e=this._resourceToken.card.resolver.injectorInstance.state(),t=l.a.metastructure,n=e.findConfigurationResourceByType(t.translationResourceType,t.translationMetadataKey),o={};if(n)try{const e=n.resolver.injectorInstance.state();for(const t of Object.keys(e)){const n=e[t];"string"==typeof n&&(o[t]=n)}}catch(i){console.error("could not yield keys for",n)}return o}}return e.resources={moduleType:"i18n",containerName:"modulesList"},e})(),r=(()=>{class e{constructor(e){this._resourceToken=e,this.map={},this.initialize()}initialize(){this.map=this.selectParametersMap()}selectParametersMap(){const t=this._resourceToken.card.resolver.injectorInstance.state(),n={},l=e.resources,i=t.findConfigurationResourceByType(l.containerName,l.moduleType);if(i)try{const e=i.resolver.injectorInstance.state();for(const t of Object.keys(e)){const l=e[t];"function"!=typeof l&&o.indexOf(t)<0&&(n[t]=l)}}catch(r){console.error("could not yield keys for",i)}return n}}return e.resources={moduleType:"parameters",containerName:"modulesList"},e})();class s{constructor(){}}class a{constructor(e,t,n,l){this.translation=e,this.parameters=t,this.alias=n,this.resourceToken=l,this.initialize()}initialize(){this.alias.cardI18n=this.translation.translate.card,this.alias.parameters=this.parameters.map}}},yx2s:function(e,t,n){"use strict";var l=n("FWf1");t.canReportError=function(e){for(;e;){var t=e.destination;if(e.closed||e.isStopped)return!1;e=t&&t instanceof l.Subscriber?t:null}return!0}},yxIY:function(e,t,n){"use strict";n.d(t,"a",function(){return l}),n("TE5M");class l{constructor(e){this.transformer1=e}register(e,t,n){return this.transformer1.prepare(e,n,t),this.transformer1}}},"zB/H":function(e,t,n){"use strict";var l=n("mbIT"),o=n("GMZp"),i=n("pshJ"),r=n("LBXl");function s(e){return e.reduce(function(e,t){return e.concat(t instanceof r.UnsubscriptionError?t.errors:t)},[])}t.Subscription=function(){function e(e){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,e&&(this._unsubscribe=e)}var t;return e.prototype.unsubscribe=function(){var t;if(!this.closed){var n=this._parentOrParents,a=this._unsubscribe,u=this._subscriptions;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,n instanceof e)n.remove(this);else if(null!==n)for(var c=0;c<n.length;++c)n[c].remove(this);if(i.isFunction(a))try{a.call(this)}catch(g){t=g instanceof r.UnsubscriptionError?s(g.errors):[g]}if(l.isArray(u)){c=-1;for(var d=u.length;++c<d;){var h=u[c];if(o.isObject(h))try{h.unsubscribe()}catch(g){t=t||[],g instanceof r.UnsubscriptionError?t=t.concat(s(g.errors)):t.push(g)}}}if(t)throw new r.UnsubscriptionError(t)}},e.prototype.add=function(t){var n=t;if(!t)return e.EMPTY;switch(typeof t){case"function":n=new e(t);case"object":if(n===this||n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if(!(n instanceof e)){var l=n;(n=new e)._subscriptions=[l]}break;default:throw new Error("unrecognized teardown "+t+" added to Subscription.")}var o=n._parentOrParents;if(null===o)n._parentOrParents=this;else if(o instanceof e){if(o===this)return n;n._parentOrParents=[o,this]}else{if(-1!==o.indexOf(this))return n;o.push(this)}var i=this._subscriptions;return null===i?this._subscriptions=[n]:i.push(n),n},e.prototype.remove=function(e){var t=this._subscriptions;if(t){var n=t.indexOf(e);-1!==n&&t.splice(n,1)}},e.EMPTY=((t=new e).closed=!0,t),e}()},zeYO:function(e,t,n){"use strict";n.d(t,"a",function(){return l});class l{}},zfKp:function(e,t,n){"use strict";t.observable="function"==typeof Symbol&&Symbol.observable||"@@observable"},ztb3:function(e,t,n){"use strict";n.d(t,"a",function(){return l});var l=function(e){return e[e.enter=0]="enter",e[e.prompt=1]="prompt",e[e.leave=2]="leave",e}({})}}]);